class Barrier{constructor(e,t,i,a,s,u,m,l,r,h,p){this.texture=r,this.jumped=!1,this.origW=h,this.origH=p,this.initialP={x:e,y:t,z:i},this.p={x:e,y:t,z:i},this.v={x:a,y:s,z:u},this.width=m/i,this.height=l/i}show(){this.texture.show(this.p.x,this.p.y,this.origW,this.origH)}update(){this.p.x+=this.v.x,this.p.y+=this.v.y,this.p.z+=this.v.z,this.v.x=Math.abs(this.p.x-this.initialP.x)>BlueJumpGame.MOVEMENT?-1*this.v.x:this.v.x}}class BlueJumpGame{constructor(){this.gameMode,this.dirtBlock,this.brickBlock,this.barriers=[],this.fakeBarriers=[],this.textAnimations=[],this.colours=[],this.orientedMovement=0,this.rotation=0,this.highest=0,this.fullScreenActive=!1,this.returned=!1,BlueJumpGame.MOBILE_CONTROLS?(window.addEventListener("deviceorientation",this.deviceOrientationHandler),BlueJumpGame.BARRIER_SCALE*=2.5,BlueJumpGame.MOVEMENT*=2.5,BlueJumpGame.ARROW_SCALE*=2.5,BlueJumpGame.CONTROLS_MSG="Tilt your device to move",BlueJumpGame.TIP="TIP: use portrait mode!",BlueJumpGame.JUMP_POWER=20):(BlueJumpGame.CONTROLS_MSG="Use arrow keys (< and >) or 'A' and 'D' to move",BlueJumpGame.TIP="TIP: press 'esc' to pause the game",BlueJumpGame.JUMP_POWER=30),this.player=new Player(width/2-BlueJumpGame.BARRIER_SCALE/3,3*height/4,BlueJumpGame.blueGuy02,BlueJumpGame.blueGuy03,BlueJumpGame.blueGuy04,BlueJumpGame.transition,BlueJumpGame.grave),BlueJumpGame.spikesFloor=new Floor(BlueJumpGame.spikes[0],BlueJumpGame.spikes[1],BlueJumpGame.spikes[2],BlueJumpGame.spikes[3],BlueJumpGame.spikes[4]),BlueJumpGame.lavaFloor=new Floor(BlueJumpGame.lava[0],BlueJumpGame.lava[1],BlueJumpGame.lava[2],BlueJumpGame.lava[3],BlueJumpGame.lava[4]),this.barriers.push(new Barrier(this.player.p.x+.5*this.player.activities[this.player.activity].width-.5*BlueJumpGame.BARRIER_SCALE,this.player.p.y+this.player.activities[this.player.activity].height,1,0,0,0,BlueJumpGame.BARRIER_SCALE,.25*BlueJumpGame.BARRIER_SCALE,new Sprite(BlueJumpGame.dirtblock[0],BlueJumpGame.dirtblock[1],BlueJumpGame.dirtblock[2],BlueJumpGame.dirtblock[3],BlueJumpGame.dirtblock[4],BlueJumpGame.dirtblock[5],BlueJumpGame.dirtblock[6]),150,46)),this.pickNewHighest(0,!0),this.setMode(-1)}setMode(e){switch(e){case-1:this.gameMode=-1,this.player.shouldUpdate=!1;break;case 0:this.gameMode=0,this.player.shouldUpdate=!0;break;case 1:this.gameMode=1,this.player.shouldUpdate=!1}}play(){BlueJumpGame.prefix(document,"FullScreen")||BlueJumpGame.prefix(document,"IsFullScreen")||BlueJumpGame.prefix(document.getElementById("defaultCanvas0"),"RequestFullScreen"),1!==this.gameMode&&setTimeout(function(){console.log(this),this.fullScreenActive=!0,this.setMode(0)}.bind(this),500)}pickNewHighest(e,t,i){let a,s;if(this.player.stats.alive?(s=BlueJumpGame.dirtblock,a=46):Math.random()<.25?(s=BlueJumpGame.brickblock0,a=46):(s=BlueJumpGame.brickblock1,a=33),t){const e=10+Math.random()*(width-110),t=i?Math.random()*((BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height)+200)-200:175*Math.random()-200,u=2+1.1*Math.random();this.fakeBarriers.push(new Barrier(e,t,u,0,0,0,BlueJumpGame.BARRIER_SCALE,.25*BlueJumpGame.BARRIER_SCALE,new Sprite(s[0],s[1]/u,s[2]/u,s[3],s[4],s[5],s[6]),150,a))}else{const t=.02*Math.floor(this.player.stats.score/2500)*BlueJumpGame.BARRIER_SCALE;t=constrain(t,0,.5*BlueJumpGame.BARRIER_SCALE);const i=BlueJumpGame.MOBILE_CONTROLS?.5:.8,u=Math.random()<.5?1:-1,m=.5*(BlueJumpGame.JUMP_POWER*BlueJumpGame.JUMP_POWER+BlueJumpGame.JUMP_POWER)/BlueJumpGame.GRAVITY,l=1.7*BlueJumpGame.JUMP_POWER*BlueJumpGame.HORIZONTAL_SPEED*i*1.2+t;l=constrain(l,0,width);const r=(.3+.7*Math.random())*m,h=constrain(e.x+u*(.3+.7*Math.random())*l,BlueJumpGame.MOVEMENT,width-BlueJumpGame.BARRIER_SCALE-BlueJumpGame.MOVEMENT);this.barriers.push(new Barrier(h,e.y-r,1,6*Math.random()*i-3,0,0,BlueJumpGame.BARRIER_SCALE,.25*BlueJumpGame.BARRIER_SCALE,new Sprite(s[0],s[1],s[2],s[3],s[4],s[5],s[6]),150,a))}}deviceOrientationHandler(e){this.rotation=e.gamma,this.orientedMovement=.020444*e.gamma}static prefix(e,t){let i,a,s=0;for(;s<BlueJumpGame.pfx.length&&!e[i];){if(i=t,""===BlueJumpGame.pfx[s]&&(i=i.substr(0,1).toLowerCase()+i.substr(1)),"undefined"!=(a=typeof e[i=BlueJumpGame.pfx[s]+i]))return BlueJumpGame.pfx=[BlueJumpGame.pfx[s]],"function"==a?e[i]():e[i];s++}}static isMobileDevice(){let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}}BlueJumpGame.AUTOJUMP=!0,BlueJumpGame.DEBUG=!0,BlueJumpGame.LEVELCREATION=!0,BlueJumpGame.LANDING_THRESHOLD=25,BlueJumpGame.HORIZONTAL_SPEED=11,BlueJumpGame.GRAVITY=1,BlueJumpGame.BARRIER_SCALE=.07*window.screen.width,BlueJumpGame.ARROW_SCALE=.06*window.screen.width,BlueJumpGame.MOVEMENT=.75*BlueJumpGame.BARRIER_SCALE,BlueJumpGame.BACKGROUND_SHADES=13,BlueJumpGame.MAX_BARRIERS=12,BlueJumpGame.CONTROLS_MSG="",BlueJumpGame.TIP="",BlueJumpGame.MOBILE_CONTROLS=BlueJumpGame.isMobileDevice(),BlueJumpGame.JUMP_POWER,BlueJumpGame.TEXT_SIZE=.5*BlueJumpGame.BARRIER_SCALE,BlueJumpGame.FONT,BlueJumpGame.pfx=["webkit","moz","ms","o",""],BlueJumpGame.field,BlueJumpGame.IS_SAFARI=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,BlueJumpGame.dirtblock=[null,BlueJumpGame.BARRIER_SCALE,.25*BlueJumpGame.BARRIER_SCALE,1,!1,0,0],BlueJumpGame.spikes=[null,5/3*BlueJumpGame.BARRIER_SCALE,.513*BlueJumpGame.BARRIER_SCALE,1,!1,0,0],BlueJumpGame.lava=[null,5/3*BlueJumpGame.BARRIER_SCALE,.558*BlueJumpGame.BARRIER_SCALE,5,!0,0,0],BlueJumpGame.brickblock0=[null,BlueJumpGame.BARRIER_SCALE,.25*BlueJumpGame.BARRIER_SCALE,1,!1,0,0],BlueJumpGame.brickblock1=[null,BlueJumpGame.BARRIER_SCALE,.25*BlueJumpGame.BARRIER_SCALE,1,!1,0,0],BlueJumpGame.blueGuy02=[null,2*BlueJumpGame.BARRIER_SCALE/3,2*BlueJumpGame.BARRIER_SCALE/3,7,!0,18,18],BlueJumpGame.blueGuy03=[null,2*BlueJumpGame.BARRIER_SCALE/3,2*BlueJumpGame.BARRIER_SCALE/3,10,!1,19,19],BlueJumpGame.blueGuy04=[null,2*BlueJumpGame.BARRIER_SCALE/3,2*BlueJumpGame.BARRIER_SCALE/3,6,!1,19,19],BlueJumpGame.transition=[null,2*BlueJumpGame.BARRIER_SCALE/3,2.2*BlueJumpGame.BARRIER_SCALE/3,1,!1,0,0],BlueJumpGame.grave=[null,2*BlueJumpGame.BARRIER_SCALE/3,2.2*BlueJumpGame.BARRIER_SCALE/3,1,!1,0,0];class Floor{constructor(e,t,i,a,s){this.sprite=new Sprite(e,t,i,a,s,0,0,30),this.repeats=Math.ceil(window.screen.width/t)}show(e,t){for(let i=0;i<this.repeats;i++)this.sprite.show(i*this.sprite.displayWidth,(BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height)-this.sprite.displayHeight,e,t)}}class Player{constructor(e,t){this.highestY=t,this.buried=!1,this.shouldUpdate=!0,this.initialP={x:e,y:t},this.p={x:e,y:t},this.v={x:0,y:0},this.a={x:0,y:BlueJumpGame.GRAVITY},this.stats={score:0,pixelsTraversed:0,barriersJumped:0,alive:!0},this.activity=0,this.activities=[];for(let e=2;e<=6;e++)void 0!==arguments[e]&&(this.activities.push(new Sprite(arguments[e][0],arguments[e][1],arguments[e][2],arguments[e][3],arguments[e][4],arguments[e][5],arguments[e][6])),this.walk=function(){this.activity=1});this.falling=!0}fall(){this.falling=!0,this.a.y=BlueJumpGame.GRAVITY}stand(){this.activity=0}getTraversedPixels(){return this.highestY=this.highestY>this.p.y?this.p.y:this.highestY,Math.round(this.stats.pixelsTraversed+this.initialP.y-this.highestY)}getScore(){const e=3*this.getTraversedPixels()+400*(this.stats.barriersJumped-1)*.7;return Math.round(e)}update(){if(!BlueJumpGame.AUTOJUMP&&!keyIsDown(32)||this.falling||this.jump(),this.stats.alive&&this.stand(),this.v.x=0,BlueJumpGame.MOBILE_CONTROLS?this.v.x=BlueJumpGame.HORIZONTAL_SPEED*orientedMovement:(keyIsDown(37)||keyIsDown(65))!==(keyIsDown(39)||keyIsDown(68))&&(this.stats.alive&&this.walk(),keyIsDown(37)||keyIsDown(65)?this.v.x=-BlueJumpGame.HORIZONTAL_SPEED:this.v.x=BlueJumpGame.HORIZONTAL_SPEED),this.p.x=constrain(this.p.x+this.v.x,0,width-this.activities[this.activity].width),this.p.y=constrain(this.p.y+this.v.y,0,height-this.activities[this.activity].height),this.v.x+=this.a.x,this.v.y+=this.a.y,this.p.y<height/3){const e=height/3-this.p.y;this.stats.pixelsTraversed+=e,this.p.y=height/3;for(let t=0;t<bj.barriers.length;t++)bj.barriers[t].p.y+=e,bj.barriers[t].p.y>=height-40&&bj.barriers.splice(t,1);for(let t=0;t<fakeBarriers.length;t++)fakeBarriers[t].p.y+=e/fakeBarriers[t].p.z,fakeBarriers[t].p.y>=height-50&&fakeBarriers.splice(t,1)}this.a.y=BlueJumpGame.GRAVITY,this.p.y+this.activities[this.activity].height>=height&&(this.stats.alive?(this.land(),this.die()):this.bury());for(let e=0;e<barriers.length;e++)this.collide(barriers[e])&&this.p.y+this.activities[this.activity].height>=barriers[e].p.y&&this.p.y+this.activities[this.activity].height-barriers[e].p.y<=LANDING_THRESHOLD&&this.v.y>0&&(this.land(barriers[e].p.y-this.activities[this.activity].height,barriers[e].v.x),barriers[e].jumped||this.stats.barriersJumped++,barriers[e].jumped=!0);this.stats.score=this.getScore()}jump(e){const t=void 0!==e?e:BlueJumpGame.JUMP_POWER;this.fall(),this.v.y-=t}land(e,t){this.falling=!1,this.a.y=0,this.v.y=0,void 0!==e&&(this.p.y=e),void 0!==t&&(this.p.x+=2*t)}collide(e){return this.p.x+this.activities[this.activity].width-this.activities[this.activity].padding.right>=e.p.x&&this.p.x+this.activities[this.activity].padding.left<=e.p.x+e.width&&this.p.y+this.activities[this.activity].height>=e.p.y&&this.p.y<=e.p.y+e.height}die(){this.shouldUpdate=!1,this.activity=3,this.p.y=(BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height)-3*BlueJumpGame.BARRIER_SCALE/3,textAnimations.push(new TextAnimation(3,.8*width,2*BlueJumpGame.TEXT_SIZE,frameRate()/3,2*frameRate()/3,[0,0,0],frameCount)),setTimeout(()=>{textAnimations.push(new TextAnimation(2,.8*width,2*BlueJumpGame.TEXT_SIZE,frameRate()/3,2*frameRate()/3,[0,0,0],frameCount))},1e3),setTimeout(()=>{textAnimations.push(new TextAnimation(1,.8*width,2*BlueJumpGame.TEXT_SIZE,frameRate()/3,2*frameRate()/3,[0,0,0],frameCount))},2e3),setTimeout(()=>{this.stats.alive=!1,this.activity=2,this.jump(2.2*JUMP_POWER),this.shouldUpdate=!0,textAnimations.push(new TextAnimation("SECOND CHANCE!",.8*width,1.5*BlueJumpGame.TEXT_SIZE,frameRate()/3,2*frameRate(),[0,0,0],frameCount))},3200)}resurrect(){this.stats.alive=!0,this.activity=0}bury(){this.shouldUpdate=!1,this.burying=setInterval(()=>{this.p.y+=2,this.p.y>=(BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height)-BlueJumpGame.BARRIER_SCALE/3&&(clearInterval(this.burying),this.activity=4,this.burying=setInterval(()=>{this.p.y--,this.p.y<=(BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height)-2.7*BlueJumpGame.BARRIER_SCALE/3&&(clearInterval(this.burying),textAnimations.push(new TextAnimation("GAME OVER!",.8*width,1.5*txtSize,frameRate()/3,1/0,[0,0,0],frameCount,width/2,100)),this.setMode(1),this.buried=!0)},1e3/frameRate()))},1e3/frameRate())}}class Sprite{constructor(e,t,i,a,s,u,m,l){this.img=e,this.displayWidth=t,this.displayHeight=i,this.framesCount=a,this.action=s,this.count=0,this.fpsScale=void 0===l?2:l,this.padding={left:void 0===u?0:u,right:void 0===m?0:m}}show(e,t,i,a){let s=Math.floor(this.count/this.fpsScale)%this.framesCount;const u=void 0===i?this.displayWidth:i,m=void 0===a?this.displayHeight:a;this.count++,this.action&&s===this.framesCount-1&&Math.random()>.25&&(s=0,this.count++),image(this.img,e,t,this.displayWidth,this.displayHeight,s*u,0,u,m)}}class Text{constructor(e,t,i,a,s,u,m,l,r){this.text=e,this.finalSize=i,this.currentSize=t-t%i,this.decrease=(this.currentSize-this.finalSize)/a,this.transition=a,this.delay=s,this.colour=u,this.creation=m,this.x=void 0===l?width/2:l,this.y=void 0===r?height/2:r}update(){this.currentSize>this.finalSize&&(this.currentSize-=this.decrease)}show(){textSize(this.currentSize),textAlign(CENTER),fill(this.colour),stroke(255),strokeWeight(6),text(this.text,this.x,this.y)}shouldBeDeleted(){return frameCount<=this.transition+this.delay+this.creation}}let bj;function preload(){BlueJumpGame.dirtblock[0]=loadImage("assets/img/dirt0.png"),BlueJumpGame.spikes[0]=loadImage("assets/img/spikes.png"),BlueJumpGame.brickblock0[0]=loadImage("assets/img/bricks0.png"),BlueJumpGame.brickblock1[0]=loadImage("assets/img/bricks1.png"),BlueJumpGame.transition[0]=loadImage("assets/img/transition.png"),BlueJumpGame.grave[0]=loadImage("assets/img/grave.png"),BlueJumpGame.blueGuy02[0]=loadImage("assets/img/sprites/bouncing.png"),BlueJumpGame.blueGuy03[0]=loadImage("assets/img/sprites/walking.png"),BlueJumpGame.blueGuy04[0]=loadImage("assets/img/sprites/undead.png"),BlueJumpGame.lava[0]=loadImage("assets/img/sprites/lava.png"),BlueJumpGame.FONT=loadFont("assets/fonts/robot01.ttf")}function setup(){bj=new BlueJumpGame,BlueJumpGame.dirtblock[0].loadPixels(),BlueJumpGame.spikes[0].loadPixels(),BlueJumpGame.brickblock0[0].loadPixels(),BlueJumpGame.brickblock1[0].loadPixels(),BlueJumpGame.transition[0].loadPixels(),BlueJumpGame.grave[0].loadPixels(),BlueJumpGame.blueGuy02[0].loadPixels(),BlueJumpGame.blueGuy03[0].loadPixels(),BlueJumpGame.blueGuy04[0].loadPixels(),BlueJumpGame.lava[0].loadPixels(),BlueJumpGame.IS_SAFARI?createCanvas(window.screen.width,windowHeight):createCanvas(window.screen.width,window.screen.height),BlueJumpGame.field=document.getElementById("defaultCanvas0").getContext("2d"),colorMode(RGB),bj.colours=[color(64,112,184),color(191,218,235),color(90,0,0),color(200,0,0)],0===BlueJumpGame.MOBILE_CONTROLS?frameRate(30):frameRate(27),textFont(BlueJumpGame.FONT)}function draw(){background(51),noStroke();for(let e=0;e<1;e+=1/BlueJumpGame.BACKGROUND_SHADES){const t=bj.player.stats.alive?0:2,i=lerpColor(bj.colours[t],bj.colours[t+1],e);fill(i),rect(0,height*e,width,height*(e+1))}let e=bj.fakeBarriers[0];for(let t=0;t<bj.fakeBarriers.length;t++)bj.fakeBarriers[t].p.y<e.p.y&&(e=bj.fakeBarriers[t]),bj.fakeBarriers[t].show();bj.fakeBarriers.length<BlueJumpGame.MAX_BARRIERS&&bj.pickNewHighest(e.p,!0,bj.fakeBarriers.length<BlueJumpGame.MAX_BARRIERS-2);let t=bj.barriers[0];for(let e=0;e<bj.barriers.length;e++)bj.barriers[e].p.y<t.p.y&&(t=bj.barriers[e]),bj.barriers[e].show();t.p.y>-100&&BlueJumpGame.LEVELCREATION&&bj.pickNewHighest(t.p,!1),BlueJumpGame.DEBUG&&(textAlign(RIGHT),textSize(18),stroke(0),fill(255,255,0),text("Score: "+bj.player.getScore(),width-60,60),text("Barriers: "+bj.player.stats.barriersJumped,width-60,90),text("Pixels traversed vertically: "+bj.player.getTraversedPixels(),width-60,120),text("FPS: "+Math.round(frameRate()),width-60,150),text("Controls: "+BlueJumpGame.MOBILE_CONTROLS,width-60,210),text("rotation: "+bj.rotation.toFixed(3),width-60,240),text("orientedMovement: "+bj.orientedMovement.toFixed(3),width-60,270),text("barriersLength: "+bj.fakeBarriers.length,width-60,300),text("width: "+window.screen.width,width-60,330),text("height: "+(BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height),width-60,360),text("mouseX, mouseY: "+mouseX+", "+mouseY,width-60,390)),bj.player.activities[bj.player.activity].show(bj.player.p.x,bj.player.p.y,100,100),bj.player.stats.alive?BlueJumpGame.spikesFloor.show(150,46):BlueJumpGame.lavaFloor.show(150,50);for(let e=0;e<bj.textAnimations.length;e++)bj.textAnimations[e].shouldBeDeleted()?(bj.textAnimations[e].update(),bj.textAnimations[e].show()):bj.textAnimations[e].splice(e,1);switch(bj.gameMode){case 0:BlueJumpGame.IS_SAFARI||BlueJumpGame.prefix(document,"FullScreen")||BlueJumpGame.prefix(document,"IsFullScreen")||(bj.setMode(-1),bj.fullScreenActive=!1);for(let e=0;e<bj.barriers.length;e++)bj.barriers[e].update();bj.player.shouldUpdate&&bj.fullScreenActive&&bj.player.update();break;case-1:noStroke(),fill("rgba(0,0,0,0.8)"),rect(0,0,window.screen.width,BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height),fill(200,200,0),strokeWeight(.125*BlueJumpGame.ARROW_SCALE),stroke(255),push(),translate(100,30),beginShape(),vertex(0,0),vertex(1.05*BlueJumpGame.ARROW_SCALE,.27*BlueJumpGame.ARROW_SCALE),vertex(.62*BlueJumpGame.ARROW_SCALE,.55*BlueJumpGame.ARROW_SCALE),vertex(1.65*BlueJumpGame.ARROW_SCALE,2.085*BlueJumpGame.ARROW_SCALE),vertex(1.18*BlueJumpGame.ARROW_SCALE,2.41*BlueJumpGame.ARROW_SCALE),vertex(.18*BlueJumpGame.ARROW_SCALE,.79*BlueJumpGame.ARROW_SCALE),vertex(-.25*BlueJumpGame.ARROW_SCALE,BlueJumpGame.ARROW_SCALE),endShape(CLOSE),pop(),textAlign(LEFT),textSize(BlueJumpGame.TEXT_SIZE),fill(0),text("PLAY",100,30+3*BlueJumpGame.ARROW_SCALE),strokeWeight(.0675*BlueJumpGame.ARROW_SCALE),textSize(.5*BlueJumpGame.TEXT_SIZE),text(BlueJumpGame.CONTROLS_MSG,40,4*BlueJumpGame.ARROW_SCALE),text(BlueJumpGame.TIP,40,4.7*BlueJumpGame.ARROW_SCALE);break;case 1:noStroke(),fill("rgba(0, 0, 0, 0.4)"),rect(0,0,window.screen.width,BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height);const e=width/2-4.87*BlueJumpGame.TEXT_SIZE;bj.returned?(fill(255,128,0),textSize(BlueJumpGame.TEXT_SIZE),textAlign(CENTER),textSize(.5*BlueJumpGame.TEXT_SIZE),textAlign(LEFT),text("#",e,1.7*BlueJumpGame.TEXT_SIZE+115),text("Player",e+1.2*BlueJumpGame.TEXT_SIZE,1.7*BlueJumpGame.TEXT_SIZE+115),text("Score",e+8*BlueJumpGame.TEXT_SIZE,1.7*BlueJumpGame.TEXT_SIZE+115),fill(255,255,255)):(textSize(BlueJumpGame.TEXT_SIZE),textAlign(CENTER),floor(frameCount/2)%4==0?text("loading",width/2,height/2):floor(frameCount/2)%4==1?text("loading.",width/2,height/2):floor(frameCount/2)%4==2?text("loading..",width/2,height/2):text("loading...",width/2,height/2))}fill(0),strokeWeight(3),stroke(255),textAlign(CENTER),textSize(.9*BlueJumpGame.TEXT_SIZE),text(bj.player.stats.score,width/2,.8*BlueJumpGame.TEXT_SIZE),textAlign(RIGHT),textFont("arial"),textSize(.3*BlueJumpGame.TEXT_SIZE),noStroke(),text("©",width-.3*BlueJumpGame.BARRIER_SCALE-2*BlueJumpGame.TEXT_SIZE,height/2),textFont(BlueJumpGame.FONT),textSize(.2*BlueJumpGame.TEXT_SIZE),text("| 2016 | Nout Kleef",width-.3*BlueJumpGame.BARRIER_SCALE,height/2)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJhcnJpZXIuanMiLCJCbHVlSnVtcEdhbWUuanMiLCJGbG9vci5qcyIsIlBsYXllci5qcyIsIlNwcml0ZS5qcyIsIlRleHQuanMiLCJpbmRleC5qcyJdLCJuYW1lcyI6WyJCYXJyaWVyIiwiW29iamVjdCBPYmplY3RdIiwieCIsInkiLCJ6IiwieHYiLCJ5diIsInp2Iiwid2lkdGgiLCJoZWlnaHQiLCJ0ZXh0dXJlIiwib3JpZ1ciLCJvcmlnSCIsInRoaXMiLCJqdW1wZWQiLCJpbml0aWFsUCIsInAiLCJ2Iiwic2hvdyIsIk1hdGgiLCJhYnMiLCJCbHVlSnVtcEdhbWUiLCJNT1ZFTUVOVCIsImdhbWVNb2RlIiwiZGlydEJsb2NrIiwiYnJpY2tCbG9jayIsImJhcnJpZXJzIiwiZmFrZUJhcnJpZXJzIiwidGV4dEFuaW1hdGlvbnMiLCJjb2xvdXJzIiwib3JpZW50ZWRNb3ZlbWVudCIsInJvdGF0aW9uIiwiaGlnaGVzdCIsImZ1bGxTY3JlZW5BY3RpdmUiLCJyZXR1cm5lZCIsIk1PQklMRV9DT05UUk9MUyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZXZpY2VPcmllbnRhdGlvbkhhbmRsZXIiLCJCQVJSSUVSX1NDQUxFIiwiQVJST1dfU0NBTEUiLCJDT05UUk9MU19NU0ciLCJUSVAiLCJKVU1QX1BPV0VSIiwicGxheWVyIiwiUGxheWVyIiwiYmx1ZUd1eTAyIiwiYmx1ZUd1eTAzIiwiYmx1ZUd1eTA0IiwidHJhbnNpdGlvbiIsImdyYXZlIiwic3Bpa2VzRmxvb3IiLCJGbG9vciIsInNwaWtlcyIsImxhdmFGbG9vciIsImxhdmEiLCJwdXNoIiwiYWN0aXZpdGllcyIsImFjdGl2aXR5IiwiU3ByaXRlIiwiZGlydGJsb2NrIiwicGlja05ld0hpZ2hlc3QiLCJzZXRNb2RlIiwibW9kZSIsInNob3VsZFVwZGF0ZSIsInByZWZpeCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzZXRUaW1lb3V0IiwiY29uc29sZSIsImxvZyIsImJpbmQiLCJvbGRQb3MiLCJwaWNrUmFuZG9tIiwiaW5TaWdodCIsImgiLCJ0eHRyIiwic3RhdHMiLCJhbGl2ZSIsInJhbmRvbSIsImJyaWNrYmxvY2swIiwiYnJpY2tibG9jazEiLCJJU19TQUZBUkkiLCJ3aW5kb3dIZWlnaHQiLCJzY3JlZW4iLCJkaWZmaWN1bHR5IiwiZmxvb3IiLCJzY29yZSIsImNvbnN0cmFpbiIsImNvbnN0ciIsImRpciIsIm1heFkiLCJHUkFWSVRZIiwibWF4WCIsIkhPUklaT05UQUxfU1BFRUQiLCJpbmNyZWFzZVkiLCJuZXdYIiwiZSIsImdhbW1hIiwib2JqIiwibWV0aG9kIiwibSIsInQiLCJwZngiLCJsZW5ndGgiLCJzdWJzdHIiLCJ0b0xvd2VyQ2FzZSIsImNoZWNrIiwiYSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInZlbmRvciIsIm9wZXJhIiwidGVzdCIsIkFVVE9KVU1QIiwiREVCVUciLCJMRVZFTENSRUFUSU9OIiwiTEFORElOR19USFJFU0hPTEQiLCJCQUNLR1JPVU5EX1NIQURFUyIsIk1BWF9CQVJSSUVSUyIsImlzTW9iaWxlRGV2aWNlIiwiVEVYVF9TSVpFIiwiRk9OVCIsImZpZWxkIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwiSFRNTEVsZW1lbnQiLCJpbmRleE9mIiwiaW1nIiwiZGlzcGxheVdpZHRoIiwiZGlzcGxheUhlaWdodCIsImZyYW1lc0NvdW50IiwiYWN0aW9uIiwic3ByaXRlIiwicmVwZWF0cyIsImNlaWwiLCJvcmlnV2lkdGgiLCJvcmlnSGVpZ2h0IiwiaSIsImhpZ2hlc3RZIiwiYnVyaWVkIiwicGl4ZWxzVHJhdmVyc2VkIiwiYmFycmllcnNKdW1wZWQiLCJhcmd1bWVudHMiLCJ3YWxrIiwiZmFsbGluZyIsInJvdW5kIiwicyIsImdldFRyYXZlcnNlZFBpeGVscyIsImtleUlzRG93biIsImp1bXAiLCJzdGFuZCIsImV4Y2VlZGFuY2UiLCJiIiwiYmoiLCJzcGxpY2UiLCJmYiIsImxhbmQiLCJkaWUiLCJidXJ5IiwiY29sbGlkZSIsImdldFNjb3JlIiwiRiIsInBvd2VyIiwiZmFsbCIsImRYIiwidGFyZ2V0IiwicGFkZGluZyIsInJpZ2h0IiwibGVmdCIsIlRleHRBbmltYXRpb24iLCJmcmFtZVJhdGUiLCJmcmFtZUNvdW50IiwiYnVyeWluZyIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInR4dFNpemUiLCJJbmZpbml0eSIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwiZnBzU2NhbGUiLCJjb3VudCIsImZyYW1lSW5kZXgiLCJzcmNXaWR0aCIsInNyY0hlaWdodCIsImltYWdlIiwiVGV4dCIsInRleHQiLCJiZWdpblNpemUiLCJmaW5hbFNpemUiLCJkZWxheSIsImNvbG91ciIsImNyZWF0aW9uIiwiY3VycmVudFNpemUiLCJkZWNyZWFzZSIsInRleHRTaXplIiwidGV4dEFsaWduIiwiQ0VOVEVSIiwiZmlsbCIsInN0cm9rZSIsInN0cm9rZVdlaWdodCIsInByZWxvYWQiLCJsb2FkSW1hZ2UiLCJsb2FkRm9udCIsInNldHVwIiwibG9hZFBpeGVscyIsImNyZWF0ZUNhbnZhcyIsImdldENvbnRleHQiLCJjb2xvck1vZGUiLCJSR0IiLCJjb2xvciIsInRleHRGb250IiwiZHJhdyIsImJhY2tncm91bmQiLCJub1N0cm9rZSIsImJnIiwib3JpZ2luIiwic2hhZGUiLCJsZXJwQ29sb3IiLCJyZWN0IiwiaGlnaGVzdEZha2UiLCJSSUdIVCIsInRvRml4ZWQiLCJtb3VzZVgiLCJtb3VzZVkiLCJzaG91bGRCZURlbGV0ZWQiLCJ1cGRhdGUiLCJ0cmFuc2xhdGUiLCJiZWdpblNoYXBlIiwidmVydGV4IiwiZW5kU2hhcGUiLCJDTE9TRSIsInBvcCIsIkxFRlQiLCJ4b2ZmIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFBQSxRQUNBQyxZQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBQyxLQUFBSCxRQUFBQSxFQUNBRyxLQUFBQyxRQUFBLEVBQ0FELEtBQUFG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QSxHQUNBNkUsTUFBQXdGLFdBQUEsR0FBQSxHQUFBLEVBQ0FlLEtBQUEsWUFBQXJMLE1BQUEsRUFBQUMsT0FBQSxHQUVBb0wsS0FBQSxhQUFBckwsTUFBQSxFQUFBQyxPQUFBLElBZ0JBK0wsS0FBQSxHQUNBRSxhQUFBLEdBQ0FELE9BQUEsS0FDQUgsVUFBQUMsUUFDQUYsU0FBQSxHQUFBaEwsYUFBQW9HLFdBQ0FvRSxLQUFBakMsR0FBQWhILE9BQUFpQyxNQUFBVSxNQUFBL0UsTUFBQSxFQUFBLEdBQUFhLGFBQUFvRyxXQUVBNkUsVUFBQXlCLE9BQ0FWLFNBQUEsU0FDQWhCLFNBQUEsR0FBQWhMLGFBQUFvRyxXQUNBK0YsV0FDQTNCLEtBQUEsSUFBQXJMLE1BQUEsR0FBQWEsYUFBQWtCLGNBQUEsRUFBQWxCLGFBQUFvRyxVQUFBaEgsT0FBQSxHQUNBNE0sU0FBQWhNLGFBQUFxRyxNQUNBMkUsU0FBQSxHQUFBaEwsYUFBQW9HLFdBQ0FvRSxLQUFBLHNCQUFBckwsTUFBQSxHQUFBYSxhQUFBa0IsY0FBQTlCLE9BQUEiLCJmaWxlIjoiYmx1ZUp1bXAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBCYXJyaWVyIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCB6LCB4diwgeXYsIHp2LCB3aWR0aCwgaGVpZ2h0LCB0ZXh0dXJlLCBvcmlnVywgb3JpZ0gpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgdGhpcy5qdW1wZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vcmlnVyA9IG9yaWdXO1xuICAgICAgICB0aGlzLm9yaWdIID0gb3JpZ0g7XG4gICAgICAgIHRoaXMuaW5pdGlhbFAgPSB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgIHo6IHpcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wID0ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICB6OiB6XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudiA9IHtcbiAgICAgICAgICAgIHg6IHh2LFxuICAgICAgICAgICAgeTogeXYsXG4gICAgICAgICAgICB6OiB6dlxuICAgICAgICB9O1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGggLyB6O1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodCAvIHo7XG4gICAgfVxuXG4gICAgc2hvdygpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlLnNob3codGhpcy5wLngsIHRoaXMucC55LCB0aGlzLm9yaWdXLCB0aGlzLm9yaWdIKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIHRoaXMucC54ICs9IHRoaXMudi54O1xuICAgICAgICB0aGlzLnAueSArPSB0aGlzLnYueTtcbiAgICAgICAgdGhpcy5wLnogKz0gdGhpcy52Lno7XG4gICAgICAgIHRoaXMudi54ID0gTWF0aC5hYnModGhpcy5wLnggLSB0aGlzLmluaXRpYWxQLngpID4gQmx1ZUp1bXBHYW1lLk1PVkVNRU5UID8gdGhpcy52LnggKiAtMSA6IHRoaXMudi54O1xuICAgIH1cbn1cbiIsImNsYXNzIEJsdWVKdW1wR2FtZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGU7XG4gICAgICAgIHRoaXMuZGlydEJsb2NrO1xuICAgICAgICB0aGlzLmJyaWNrQmxvY2s7XG4gICAgICAgIHRoaXMuYmFycmllcnMgPSBbXTtcbiAgICAgICAgdGhpcy5mYWtlQmFycmllcnMgPSBbXTtcbiAgICAgICAgdGhpcy50ZXh0QW5pbWF0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLmNvbG91cnMgPSBbXTtcbiAgICAgICAgdGhpcy5vcmllbnRlZE1vdmVtZW50ID0gMDtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IDA7XG4gICAgICAgIHRoaXMuaGlnaGVzdCA9IDA7XG4gICAgICAgIHRoaXMuZnVsbFNjcmVlbkFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJldHVybmVkID0gZmFsc2U7XG4gICAgICAgIC8vIGluaXRpYWxpc2UgY29udHJvbHNcbiAgICAgICAgaWYgKEJsdWVKdW1wR2FtZS5NT0JJTEVfQ09OVFJPTFMpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICdkZXZpY2VvcmllbnRhdGlvbicsXG4gICAgICAgICAgICAgICAgdGhpcy5kZXZpY2VPcmllbnRhdGlvbkhhbmRsZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSAqPSAyLjU7XG4gICAgICAgICAgICBCbHVlSnVtcEdhbWUuTU9WRU1FTlQgKj0gMi41O1xuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLkFSUk9XX1NDQUxFICo9IDIuNTtcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5DT05UUk9MU19NU0cgPSAnVGlsdCB5b3VyIGRldmljZSB0byBtb3ZlJztcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5USVAgPSAnVElQOiB1c2UgcG9ydHJhaXQgbW9kZSEnO1xuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLkpVTVBfUE9XRVIgPSAyMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5DT05UUk9MU19NU0cgPSAnVXNlIGFycm93IGtleXMgKDwgYW5kID4pIG9yIFxcJ0FcXCcgJyArXG4gICAgICAgICAgICAgICAgJ2FuZCBcXCdEXFwnIHRvIG1vdmUnO1xuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLlRJUCA9ICdUSVA6IHByZXNzIFxcJ2VzY1xcJyB0byBwYXVzZSB0aGUgZ2FtZSc7XG4gICAgICAgICAgICBCbHVlSnVtcEdhbWUuSlVNUF9QT1dFUiA9IDMwO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluaXRpYWxpc2UgcGxheWVyXG4gICAgICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllciggLy8gVE9ETzogcmVmYWN0b3IgdGhpcy4gZHJhc3RpY2FsbHkuXG4gICAgICAgICAgICB3aWR0aCAvIDIgLSBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSAvIDMsXG4gICAgICAgICAgICBoZWlnaHQgKiAzIC8gNCxcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5ibHVlR3V5MDIsXG4gICAgICAgICAgICBCbHVlSnVtcEdhbWUuYmx1ZUd1eTAzLFxuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLmJsdWVHdXkwNCxcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS50cmFuc2l0aW9uLFxuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLmdyYXZlXG4gICAgICAgICk7XG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgZmxvb3JzXG4gICAgICAgIEJsdWVKdW1wR2FtZS5zcGlrZXNGbG9vciA9IG5ldyBGbG9vcihcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5zcGlrZXNbMF0sXG4gICAgICAgICAgICBCbHVlSnVtcEdhbWUuc3Bpa2VzWzFdLFxuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLnNwaWtlc1syXSxcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5zcGlrZXNbM10sXG4gICAgICAgICAgICBCbHVlSnVtcEdhbWUuc3Bpa2VzWzRdXG4gICAgICAgICk7XG4gICAgICAgIEJsdWVKdW1wR2FtZS5sYXZhRmxvb3IgPSBuZXcgRmxvb3IoXG4gICAgICAgICAgICBCbHVlSnVtcEdhbWUubGF2YVswXSxcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5sYXZhWzFdLFxuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLmxhdmFbMl0sXG4gICAgICAgICAgICBCbHVlSnVtcEdhbWUubGF2YVszXSxcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5sYXZhWzRdXG4gICAgICAgICk7XG4gICAgICAgIC8vIHNldCB1cCBmaXJzdCBiYXJyaWVyXG4gICAgICAgIHRoaXMuYmFycmllcnMucHVzaCggLy8gVE9ETzogcmVmYWN0b3IgdGhpcyB0b29cbiAgICAgICAgICAgIG5ldyBCYXJyaWVyKFxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnAueCArIDAuNSAqIHRoaXMucGxheWVyLmFjdGl2aXRpZXNbdGhpcy5wbGF5ZXIuYWN0aXZpdHldLndpZHRoIC0gMC41ICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIucC55ICsgdGhpcy5wbGF5ZXIuYWN0aXZpdGllc1t0aGlzLnBsYXllci5hY3Rpdml0eV0uaGVpZ2h0LFxuICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsXG4gICAgICAgICAgICAgICAgMC4yNSAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFLFxuICAgICAgICAgICAgICAgIG5ldyBTcHJpdGUoXG4gICAgICAgICAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5kaXJ0YmxvY2tbMF0sXG4gICAgICAgICAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5kaXJ0YmxvY2tbMV0sXG4gICAgICAgICAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5kaXJ0YmxvY2tbMl0sXG4gICAgICAgICAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5kaXJ0YmxvY2tbM10sXG4gICAgICAgICAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5kaXJ0YmxvY2tbNF0sXG4gICAgICAgICAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5kaXJ0YmxvY2tbNV0sXG4gICAgICAgICAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5kaXJ0YmxvY2tbNl0pLFxuICAgICAgICAgICAgICAgIDE1MCxcbiAgICAgICAgICAgICAgICA0NlxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICAvLyBmaW5hbGlzZVxuICAgICAgICB0aGlzLnBpY2tOZXdIaWdoZXN0KDAsIHRydWUpO1xuICAgICAgICB0aGlzLnNldE1vZGUoLTEpO1xuICAgIH1cblxuICAgIHNldE1vZGUobW9kZSkge1xuICAgICAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgLTE6XG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZSA9IC0xO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGUgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnNob3VsZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZSA9IDE7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwbGF5KCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhQmx1ZUp1bXBHYW1lLnByZWZpeChkb2N1bWVudCwgJ0Z1bGxTY3JlZW4nKSAmJlxuICAgICAgICAgICAgIUJsdWVKdW1wR2FtZS5wcmVmaXgoZG9jdW1lbnQsICdJc0Z1bGxTY3JlZW4nKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5wcmVmaXgoXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlZmF1bHRDYW52YXMwJyksXG4gICAgICAgICAgICAgICAgJ1JlcXVlc3RGdWxsU2NyZWVuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nYW1lTW9kZSAhPT0gMSkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5mdWxsU2NyZWVuQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE1vZGUoMCk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcyksIDUwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwaWNrTmV3SGlnaGVzdChvbGRQb3MsIHBpY2tSYW5kb20sIGluU2lnaHQpIHsgLy8gVE9ETzogcmVmYWN0b3JcbiAgICAgICAgbGV0IGgsIHR4dHI7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5zdGF0cy5hbGl2ZSkge1xuICAgICAgICAgICAgdHh0ciA9IEJsdWVKdW1wR2FtZS5kaXJ0YmxvY2s7XG4gICAgICAgICAgICBoID0gNDY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMjUpIHtcbiAgICAgICAgICAgICAgICB0eHRyID0gQmx1ZUp1bXBHYW1lLmJyaWNrYmxvY2swO1xuICAgICAgICAgICAgICAgIGggPSA0NjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHh0ciA9IEJsdWVKdW1wR2FtZS5icmlja2Jsb2NrMTtcbiAgICAgICAgICAgICAgICBoID0gMzM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwaWNrUmFuZG9tKSB7XG4gICAgICAgICAgICBjb25zdCBkaWZmaWN1bHR5ID0gTWF0aC5mbG9vcih0aGlzLnBsYXllci5zdGF0cy5zY29yZSAvIDI1MDApICogMC4wMiAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFO1xuICAgICAgICAgICAgZGlmZmljdWx0eSA9IGNvbnN0cmFpbihkaWZmaWN1bHR5LCAwLCAwLjUgKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSk7XG4gICAgICAgICAgICBjb25zdCBjb25zdHIgPSBCbHVlSnVtcEdhbWUuTU9CSUxFX0NPTlRST0xTID8gMC41IDogMC44MDtcbiAgICAgICAgICAgIGNvbnN0IGRpciA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAxIDogLTE7XG4gICAgICAgICAgICBjb25zdCBtYXhZID0gMC41ICogKEJsdWVKdW1wR2FtZS5KVU1QX1BPV0VSICogQmx1ZUp1bXBHYW1lLkpVTVBfUE9XRVIgKyBCbHVlSnVtcEdhbWUuSlVNUF9QT1dFUikgLyBCbHVlSnVtcEdhbWUuR1JBVklUWTtcbiAgICAgICAgICAgIGNvbnN0IG1heFggPSAxLjcgKiBCbHVlSnVtcEdhbWUuSlVNUF9QT1dFUiAqIEJsdWVKdW1wR2FtZS5IT1JJWk9OVEFMX1NQRUVEICogY29uc3RyICogMS4yICsgZGlmZmljdWx0eTtcbiAgICAgICAgICAgIG1heFggPSBjb25zdHJhaW4obWF4WCwgMCwgd2lkdGgpO1xuICAgICAgICAgICAgY29uc3QgaW5jcmVhc2VZID0gKDAuMyArIDAuNyAqIE1hdGgucmFuZG9tKCkpICogbWF4WTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1ggPSBjb25zdHJhaW4ob2xkUG9zLnggKyBkaXIgKiAoMC4zICsgMC43ICogTWF0aC5yYW5kb20oKSkgKiBtYXhYLCBCbHVlSnVtcEdhbWUuTU9WRU1FTlQsIHdpZHRoIC0gQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUgLSBCbHVlSnVtcEdhbWUuTU9WRU1FTlQpO1xuICAgICAgICAgICAgdGhpcy5iYXJyaWVycy5wdXNoKG5ldyBCYXJyaWVyKG5ld1gsIG9sZFBvcy55IC0gaW5jcmVhc2VZLCAxLCAtMyArIDYgKiBNYXRoLnJhbmRvbSgpICogY29uc3RyLCAwLCAwLCBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSwgMC4yNSAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFLCBuZXcgU3ByaXRlKHR4dHJbMF0sIHR4dHJbMV0sIHR4dHJbMl0sIHR4dHJbM10sIHR4dHJbNF0sIHR4dHJbNV0sIHR4dHJbNl0pLCAxNTAsIGgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSAxMCArIE1hdGgucmFuZG9tKCkgKiAod2lkdGggLSAxMTApO1xuICAgICAgICAgICAgY29uc3QgeSA9IGluU2lnaHQgPyAtMjAwICsgTWF0aC5yYW5kb20oKSAqICgoQmx1ZUp1bXBHYW1lLklTX1NBRkFSSSA/IHdpbmRvd0hlaWdodCA6IHdpbmRvdy5zY3JlZW4uaGVpZ2h0KSArIDIwMCkgOiAtMjAwICsgTWF0aC5yYW5kb20oKSAqIDE3NTtcbiAgICAgICAgICAgIGNvbnN0IHogPSAyICsgTWF0aC5yYW5kb20oKSAqIDEuMTtcbiAgICAgICAgICAgIHRoaXMuZmFrZUJhcnJpZXJzLnB1c2gobmV3IEJhcnJpZXIoeCwgeSwgeiwgMCwgMCwgMCwgQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsIDAuMjUgKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSwgbmV3IFNwcml0ZSh0eHRyWzBdLCB0eHRyWzFdIC8geiwgdHh0clsyXSAvIHosIHR4dHJbM10sIHR4dHJbNF0sIHR4dHJbNV0sIHR4dHJbNl0pLCAxNTAsIGgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRldmljZU9yaWVudGF0aW9uSGFuZGxlcihlKSB7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSBlLmdhbW1hO1xuICAgICAgICB0aGlzLm9yaWVudGVkTW92ZW1lbnQgPSBlLmdhbW1hICogMC4wMjA0NDQ7XG4gICAgfVxuXG4gICAgc3RhdGljIHByZWZpeChvYmosIG1ldGhvZCkge1xuICAgICAgICBsZXQgcCA9IDAsXG4gICAgICAgICAgICBtLCB0O1xuICAgICAgICB3aGlsZSAocCA8IEJsdWVKdW1wR2FtZS5wZngubGVuZ3RoICYmICFvYmpbbV0pIHtcbiAgICAgICAgICAgIG0gPSBtZXRob2Q7XG4gICAgICAgICAgICBpZiAoQmx1ZUp1bXBHYW1lLnBmeFtwXSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgIG0gPSBtLnN1YnN0cigwLCAxKS50b0xvd2VyQ2FzZSgpICsgbS5zdWJzdHIoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtID0gQmx1ZUp1bXBHYW1lLnBmeFtwXSArIG07XG4gICAgICAgICAgICB0ID0gdHlwZW9mIG9ialttXTtcbiAgICAgICAgICAgIGlmICh0ICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICBCbHVlSnVtcEdhbWUucGZ4ID0gW0JsdWVKdW1wR2FtZS5wZnhbcF1dO1xuICAgICAgICAgICAgICAgIHJldHVybiAodCA9PSBcImZ1bmN0aW9uXCIgPyBvYmpbbV0oKSA6IG9ialttXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgaXNNb2JpbGVEZXZpY2UoKSB7XG4gICAgICAgIGxldCBjaGVjayA9IGZhbHNlO1xuICAgICAgICAoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgIGlmICgvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vfGFuZHJvaWR8aXBhZHxwbGF5Ym9va3xzaWxrL2kudGVzdChhKSB8fCAvMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaS50ZXN0KGEuc3Vic3RyKDAsIDQpKSkgY2hlY2sgPSB0cnVlXG4gICAgICAgIH0pKG5hdmlnYXRvci51c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnZlbmRvciB8fCB3aW5kb3cub3BlcmEpO1xuICAgICAgICByZXR1cm4gY2hlY2s7XG4gICAgfVxufVxuXG5CbHVlSnVtcEdhbWUuQVVUT0pVTVAgPSB0cnVlO1xuQmx1ZUp1bXBHYW1lLkRFQlVHID0gdHJ1ZTtcbkJsdWVKdW1wR2FtZS5MRVZFTENSRUFUSU9OID0gdHJ1ZTtcbkJsdWVKdW1wR2FtZS5MQU5ESU5HX1RIUkVTSE9MRCA9IDI1O1xuQmx1ZUp1bXBHYW1lLkhPUklaT05UQUxfU1BFRUQgPSAxMTtcbkJsdWVKdW1wR2FtZS5HUkFWSVRZID0gMTtcbkJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFID0gMC4wNyAqIHdpbmRvdy5zY3JlZW4ud2lkdGg7XG5CbHVlSnVtcEdhbWUuQVJST1dfU0NBTEUgPSAwLjA2ICogd2luZG93LnNjcmVlbi53aWR0aDtcbkJsdWVKdW1wR2FtZS5NT1ZFTUVOVCA9IDAuNzUgKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRTtcbkJsdWVKdW1wR2FtZS5CQUNLR1JPVU5EX1NIQURFUyA9IDEzO1xuQmx1ZUp1bXBHYW1lLk1BWF9CQVJSSUVSUyA9IDEyOyAvLyBtYXhpbXVtIGFtb3VudCBvZiAoZmFrZSkgYmFycmllcnNcbkJsdWVKdW1wR2FtZS5DT05UUk9MU19NU0cgPSAnJztcbkJsdWVKdW1wR2FtZS5USVAgPSAnJztcbkJsdWVKdW1wR2FtZS5NT0JJTEVfQ09OVFJPTFMgPSBCbHVlSnVtcEdhbWUuaXNNb2JpbGVEZXZpY2UoKTtcbkJsdWVKdW1wR2FtZS5KVU1QX1BPV0VSO1xuQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSA9IEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFICogMC41O1xuQmx1ZUp1bXBHYW1lLkZPTlQ7XG5CbHVlSnVtcEdhbWUucGZ4ID0gW1wid2Via2l0XCIsIFwibW96XCIsIFwibXNcIiwgXCJvXCIsIFwiXCJdO1xuQmx1ZUp1bXBHYW1lLmZpZWxkO1xuQmx1ZUp1bXBHYW1lLklTX1NBRkFSSSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcbiAgICAuY2FsbCh3aW5kb3cuSFRNTEVsZW1lbnQpLmluZGV4T2YoJ0NvbnN0cnVjdG9yJykgPiAwO1xuLy8gbG9hZCBhc3NldHNcbkJsdWVKdW1wR2FtZS5kaXJ0YmxvY2sgPSBbXG4gICAgbnVsbCwgLy8gd2lsbCBiZSBwb3B1bGF0ZWQgbGF0ZXIgLSBzZWUgcHJlbG9hZCgpXG4gICAgQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsXG4gICAgMC4yNSAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFLFxuICAgIDEsXG4gICAgZmFsc2UsXG4gICAgMCxcbiAgICAwXG5dO1xuQmx1ZUp1bXBHYW1lLnNwaWtlcyA9IFtcbiAgICBudWxsLCAvLyB3aWxsIGJlIHBvcHVsYXRlZCBsYXRlciAtIHNlZSBwcmVsb2FkKClcbiAgICA1IC8gMyAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFLFxuICAgIDAuNTEzICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsXG4gICAgMSxcbiAgICBmYWxzZSxcbiAgICAwLFxuICAgIDBcbl07XG5CbHVlSnVtcEdhbWUubGF2YSA9IFtcbiAgICBudWxsLCAvLyB3aWxsIGJlIHBvcHVsYXRlZCBsYXRlciAtIHNlZSBwcmVsb2FkKClcbiAgICA1IC8gMyAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFLFxuICAgIDAuNTU4ICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsXG4gICAgNSxcbiAgICB0cnVlLFxuICAgIDAsXG4gICAgMFxuXTtcbkJsdWVKdW1wR2FtZS5icmlja2Jsb2NrMCA9IFtcbiAgICBudWxsLCAvLyB3aWxsIGJlIHBvcHVsYXRlZCBsYXRlciAtIHNlZSBwcmVsb2FkKClcbiAgICBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSxcbiAgICAwLjI1ICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsXG4gICAgMSxcbiAgICBmYWxzZSxcbiAgICAwLFxuICAgIDBcbl07XG5CbHVlSnVtcEdhbWUuYnJpY2tibG9jazEgPSBbXG4gICAgbnVsbCwgLy8gd2lsbCBiZSBwb3B1bGF0ZWQgbGF0ZXIgLSBzZWUgcHJlbG9hZCgpXG4gICAgQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsXG4gICAgMC4yNSAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFLFxuICAgIDEsXG4gICAgZmFsc2UsXG4gICAgMCxcbiAgICAwXG5dO1xuQmx1ZUp1bXBHYW1lLmJsdWVHdXkwMiA9IFtcbiAgICBudWxsLCAvLyB3aWxsIGJlIHBvcHVsYXRlZCBsYXRlciAtIHNlZSBwcmVsb2FkKClcbiAgICAyICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUgLyAzLFxuICAgIDIgKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSAvIDMsXG4gICAgNyxcbiAgICB0cnVlLFxuICAgIDE4LFxuICAgIDE4XG5dO1xuQmx1ZUp1bXBHYW1lLmJsdWVHdXkwMyA9IFtcbiAgICBudWxsLCAvLyB3aWxsIGJlIHBvcHVsYXRlZCBsYXRlciAtIHNlZSBwcmVsb2FkKClcbiAgICAyICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUgLyAzLFxuICAgIDIgKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSAvIDMsXG4gICAgMTAsXG4gICAgZmFsc2UsXG4gICAgMTksXG4gICAgMTlcbl07XG5CbHVlSnVtcEdhbWUuYmx1ZUd1eTA0ID0gW1xuICAgIG51bGwsIC8vIHdpbGwgYmUgcG9wdWxhdGVkIGxhdGVyIC0gc2VlIHByZWxvYWQoKVxuICAgIDIgKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSAvIDMsXG4gICAgMiAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFIC8gMyxcbiAgICA2LFxuICAgIGZhbHNlLFxuICAgIDE5LFxuICAgIDE5XG5dO1xuQmx1ZUp1bXBHYW1lLnRyYW5zaXRpb24gPSBbXG4gICAgbnVsbCwgLy8gd2lsbCBiZSBwb3B1bGF0ZWQgbGF0ZXIgLSBzZWUgcHJlbG9hZCgpXG4gICAgMiAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFIC8gMyxcbiAgICAyLjIgKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSAvIDMsXG4gICAgMSxcbiAgICBmYWxzZSxcbiAgICAwLFxuICAgIDBcbl07XG5CbHVlSnVtcEdhbWUuZ3JhdmUgPSBbXG4gICAgbnVsbCwgLy8gd2lsbCBiZSBwb3B1bGF0ZWQgbGF0ZXIgLSBzZWUgcHJlbG9hZCgpXG4gICAgMiAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFIC8gMyxcbiAgICAyLjIgKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSAvIDMsXG4gICAgMSxcbiAgICBmYWxzZSxcbiAgICAwLFxuICAgIDBcbl07XG4iLCJjbGFzcyBGbG9vciB7XG4gICAgY29uc3RydWN0b3IoaW1nLCBkaXNwbGF5V2lkdGgsIGRpc3BsYXlIZWlnaHQsIGZyYW1lc0NvdW50LCBhY3Rpb24pIHtcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBuZXcgU3ByaXRlKFxuICAgICAgICAgICAgaW1nLCBkaXNwbGF5V2lkdGgsIGRpc3BsYXlIZWlnaHQsIGZyYW1lc0NvdW50LCBhY3Rpb24sIDAsIDAsIDMwXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMucmVwZWF0cyA9IE1hdGguY2VpbCh3aW5kb3cuc2NyZWVuLndpZHRoIC8gZGlzcGxheVdpZHRoKTtcbiAgICB9XG5cbiAgICBzaG93KG9yaWdXaWR0aCwgb3JpZ0hlaWdodCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVwZWF0czsgaSsrKVxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2hvdyhcbiAgICAgICAgICAgICAgICBpICogdGhpcy5zcHJpdGUuZGlzcGxheVdpZHRoLFxuICAgICAgICAgICAgICAgIChCbHVlSnVtcEdhbWUuSVNfU0FGQVJJID8gd2luZG93SGVpZ2h0IDogd2luZG93LnNjcmVlbi5oZWlnaHQpIC0gdGhpcy5zcHJpdGUuZGlzcGxheUhlaWdodCxcbiAgICAgICAgICAgICAgICBvcmlnV2lkdGgsXG4gICAgICAgICAgICAgICAgb3JpZ0hlaWdodFxuICAgICAgICAgICAgKTtcbiAgICB9XG59XG4iLCJjbGFzcyBQbGF5ZXIge1xuICAgIGNvbnN0cnVjdG9yKHgsIHkpIHtcbiAgICAgICAgdGhpcy5oaWdoZXN0WSA9IHk7XG4gICAgICAgIHRoaXMuYnVyaWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pbml0aWFsUCA9IHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucCA9IHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudiA9IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYSA9IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiBCbHVlSnVtcEdhbWUuR1JBVklUWVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0YXRzID0ge1xuICAgICAgICAgICAgc2NvcmU6IDAsXG4gICAgICAgICAgICBwaXhlbHNUcmF2ZXJzZWQ6IDAsXG4gICAgICAgICAgICBiYXJyaWVyc0p1bXBlZDogMCxcbiAgICAgICAgICAgIGFsaXZlOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWN0aXZpdHkgPSAwO1xuICAgICAgICB0aGlzLmFjdGl2aXRpZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDI7IGkgPD0gNjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1tpXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2aXRpZXMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgbmV3IFNwcml0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1tpXVswXSwgYXJndW1lbnRzW2ldWzFdLCBhcmd1bWVudHNbaV1bMl0sIGFyZ3VtZW50c1tpXVszXSwgYXJndW1lbnRzW2ldWzRdLCBhcmd1bWVudHNbaV1bNV0sIGFyZ3VtZW50c1tpXVs2XVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLndhbGsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZpdHkgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZhbGxpbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIGZhbGwoKSB7XG4gICAgICAgIHRoaXMuZmFsbGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuYS55ID0gQmx1ZUp1bXBHYW1lLkdSQVZJVFk7XG4gICAgfVxuXG4gICAgc3RhbmQoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZpdHkgPSAwO1xuICAgIH1cblxuICAgIGdldFRyYXZlcnNlZFBpeGVscygpIHtcbiAgICAgICAgdGhpcy5oaWdoZXN0WSA9IHRoaXMuaGlnaGVzdFkgPiB0aGlzLnAueSA/IHRoaXMucC55IDogdGhpcy5oaWdoZXN0WTtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy5zdGF0cy5waXhlbHNUcmF2ZXJzZWQgKyB0aGlzLmluaXRpYWxQLnkgLSB0aGlzLmhpZ2hlc3RZKTtcbiAgICB9XG5cbiAgICBnZXRTY29yZSgpIHtcbiAgICAgICAgY29uc3QgcyA9IDMgKiB0aGlzLmdldFRyYXZlcnNlZFBpeGVscygpICsgNDAwICogKHRoaXMuc3RhdHMuYmFycmllcnNKdW1wZWQgLSAxKSAqIDAuNztcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQocyk7XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAoKEJsdWVKdW1wR2FtZS5BVVRPSlVNUCB8fCBrZXlJc0Rvd24oMzIpKSAmJiAhdGhpcy5mYWxsaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmp1bXAoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGF0cy5hbGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5zdGFuZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudi54ID0gMDtcbiAgICAgICAgaWYgKEJsdWVKdW1wR2FtZS5NT0JJTEVfQ09OVFJPTFMpIHsgLy8gbW9iaWxlIGNvbnRyb2xzXG4gICAgICAgICAgICB0aGlzLnYueCA9IEJsdWVKdW1wR2FtZS5IT1JJWk9OVEFMX1NQRUVEICogb3JpZW50ZWRNb3ZlbWVudDtcbiAgICAgICAgfSBlbHNlIHsgLy8ga2V5Ym9hcmQgY29udHJvbHNcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAoa2V5SXNEb3duKDM3KSB8fCBrZXlJc0Rvd24oNjUpKSAhPT0gKGtleUlzRG93bigzOSkgfHwga2V5SXNEb3duKDY4KSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRzLmFsaXZlKSB0aGlzLndhbGsoKTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5SXNEb3duKDM3KSB8fCBrZXlJc0Rvd24oNjUpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnYueCA9IC1CbHVlSnVtcEdhbWUuSE9SSVpPTlRBTF9TUEVFRDtcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMudi54ID0gQmx1ZUp1bXBHYW1lLkhPUklaT05UQUxfU1BFRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wLnggPSBjb25zdHJhaW4odGhpcy5wLnggKyB0aGlzLnYueCwgMCwgd2lkdGggLSB0aGlzLmFjdGl2aXRpZXNbdGhpcy5hY3Rpdml0eV0ud2lkdGgpO1xuICAgICAgICB0aGlzLnAueSA9IGNvbnN0cmFpbih0aGlzLnAueSArIHRoaXMudi55LCAwLCBoZWlnaHQgLSB0aGlzLmFjdGl2aXRpZXNbdGhpcy5hY3Rpdml0eV0uaGVpZ2h0KTtcbiAgICAgICAgdGhpcy52LnggKz0gdGhpcy5hLng7XG4gICAgICAgIHRoaXMudi55ICs9IHRoaXMuYS55O1xuICAgICAgICBpZiAodGhpcy5wLnkgPCBoZWlnaHQgLyAzKSB7XG4gICAgICAgICAgICBjb25zdCBleGNlZWRhbmNlID0gaGVpZ2h0IC8gMyAtIHRoaXMucC55O1xuICAgICAgICAgICAgdGhpcy5zdGF0cy5waXhlbHNUcmF2ZXJzZWQgKz0gZXhjZWVkYW5jZTtcbiAgICAgICAgICAgIHRoaXMucC55ID0gaGVpZ2h0IC8gMztcbiAgICAgICAgICAgIGZvciAobGV0IGIgPSAwOyBiIDwgYmouYmFycmllcnMubGVuZ3RoOyBiKyspIHtcbiAgICAgICAgICAgICAgICBiai5iYXJyaWVyc1tiXS5wLnkgKz0gZXhjZWVkYW5jZTtcbiAgICAgICAgICAgICAgICBpZiAoYmouYmFycmllcnNbYl0ucC55ID49IGhlaWdodCAtIDQwKVxuICAgICAgICAgICAgICAgICAgICBiai5iYXJyaWVycy5zcGxpY2UoYiwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBmYiA9IDA7IGZiIDwgZmFrZUJhcnJpZXJzLmxlbmd0aDsgZmIrKykge1xuICAgICAgICAgICAgICAgIGZha2VCYXJyaWVyc1tmYl0ucC55ICs9IGV4Y2VlZGFuY2UgLyBmYWtlQmFycmllcnNbZmJdLnAuejtcbiAgICAgICAgICAgICAgICBpZiAoZmFrZUJhcnJpZXJzW2ZiXS5wLnkgPj0gaGVpZ2h0IC0gNTApXG4gICAgICAgICAgICAgICAgICAgIGZha2VCYXJyaWVycy5zcGxpY2UoZmIsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYS55ID0gQmx1ZUp1bXBHYW1lLkdSQVZJVFk7XG4gICAgICAgIGlmICh0aGlzLnAueSArIHRoaXMuYWN0aXZpdGllc1t0aGlzLmFjdGl2aXR5XS5oZWlnaHQgPj0gaGVpZ2h0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0cy5hbGl2ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFuZCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGllKCk7XG4gICAgICAgICAgICB9IGVsc2UgdGhpcy5idXJ5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgYiA9IDA7IGIgPCBiYXJyaWVycy5sZW5ndGg7IGIrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29sbGlkZShiYXJyaWVyc1tiXSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucC55ICsgdGhpcy5hY3Rpdml0aWVzW3RoaXMuYWN0aXZpdHldLmhlaWdodCA+PSBiYXJyaWVyc1tiXS5wLnkgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wLnkgKyB0aGlzLmFjdGl2aXRpZXNbdGhpcy5hY3Rpdml0eV0uaGVpZ2h0IC0gYmFycmllcnNbYl0ucC55IDw9IExBTkRJTkdfVEhSRVNIT0xEICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudi55ID4gMFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXJyaWVyc1tiXS5wLnkgLSB0aGlzLmFjdGl2aXRpZXNbdGhpcy5hY3Rpdml0eV0uaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFycmllcnNbYl0udi54XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYmFycmllcnNbYl0uanVtcGVkKSB0aGlzLnN0YXRzLmJhcnJpZXJzSnVtcGVkKys7XG4gICAgICAgICAgICAgICAgICAgIGJhcnJpZXJzW2JdLmp1bXBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdHMuc2NvcmUgPSB0aGlzLmdldFNjb3JlKCk7XG4gICAgfVxuXG4gICAganVtcChGKSB7XG4gICAgICAgIGNvbnN0IHBvd2VyID0gdHlwZW9mIEYgIT09ICd1bmRlZmluZWQnID8gRiA6IEJsdWVKdW1wR2FtZS5KVU1QX1BPV0VSO1xuICAgICAgICB0aGlzLmZhbGwoKTtcbiAgICAgICAgdGhpcy52LnkgLT0gcG93ZXI7XG4gICAgfVxuXG4gICAgbGFuZCh5LCBkWCkge1xuICAgICAgICB0aGlzLmZhbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hLnkgPSAwO1xuICAgICAgICB0aGlzLnYueSA9IDA7XG4gICAgICAgIGlmICh0eXBlb2YgeSAhPT0gJ3VuZGVmaW5lZCcpIHRoaXMucC55ID0geTtcbiAgICAgICAgaWYgKHR5cGVvZiBkWCAhPT0gJ3VuZGVmaW5lZCcpIHRoaXMucC54ICs9IDIgKiBkWDtcbiAgICB9XG5cbiAgICBjb2xsaWRlKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wLnggKyB0aGlzLmFjdGl2aXRpZXNbdGhpcy5hY3Rpdml0eV0ud2lkdGggLSB0aGlzLmFjdGl2aXRpZXNbdGhpcy5hY3Rpdml0eV0ucGFkZGluZy5yaWdodCA+PSB0YXJnZXQucC54ICYmXG4gICAgICAgICAgICB0aGlzLnAueCArIHRoaXMuYWN0aXZpdGllc1t0aGlzLmFjdGl2aXR5XS5wYWRkaW5nLmxlZnQgPD0gdGFyZ2V0LnAueCArIHRhcmdldC53aWR0aCAmJlxuICAgICAgICAgICAgdGhpcy5wLnkgKyB0aGlzLmFjdGl2aXRpZXNbdGhpcy5hY3Rpdml0eV0uaGVpZ2h0ID49IHRhcmdldC5wLnkgJiZcbiAgICAgICAgICAgIHRoaXMucC55IDw9IHRhcmdldC5wLnkgKyB0YXJnZXQuaGVpZ2h0O1xuICAgIH1cblxuICAgIGRpZSgpIHtcbiAgICAgICAgdGhpcy5zaG91bGRVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hY3Rpdml0eSA9IDM7XG4gICAgICAgIHRoaXMucC55ID0gKEJsdWVKdW1wR2FtZS5JU19TQUZBUkkgPyB3aW5kb3dIZWlnaHQgOiB3aW5kb3cuc2NyZWVuLmhlaWdodCkgLSAzICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUgLyAzO1xuICAgICAgICB0ZXh0QW5pbWF0aW9ucy5wdXNoKFxuICAgICAgICAgICAgbmV3IFRleHRBbmltYXRpb24oMywgd2lkdGggKiAwLjgsIDIgKiBCbHVlSnVtcEdhbWUuVEVYVF9TSVpFLCBmcmFtZVJhdGUoKSAvIDMsIDIgKiBmcmFtZVJhdGUoKSAvIDMsIFswLCAwLCAwXSwgZnJhbWVDb3VudClcbiAgICAgICAgKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0ZXh0QW5pbWF0aW9ucy5wdXNoKFxuICAgICAgICAgICAgICAgIG5ldyBUZXh0QW5pbWF0aW9uKDIsIHdpZHRoICogMC44LCAyICogQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSwgZnJhbWVSYXRlKCkgLyAzLCAyICogZnJhbWVSYXRlKCkgLyAzLCBbMCwgMCwgMF0sIGZyYW1lQ291bnQpXG4gICAgICAgICAgICApO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0ZXh0QW5pbWF0aW9ucy5wdXNoKFxuICAgICAgICAgICAgICAgIG5ldyBUZXh0QW5pbWF0aW9uKDEsIHdpZHRoICogMC44LCAyICogQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSwgZnJhbWVSYXRlKCkgLyAzLCAyICogZnJhbWVSYXRlKCkgLyAzLCBbMCwgMCwgMF0sIGZyYW1lQ291bnQpXG4gICAgICAgICAgICApO1xuICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXRzLmFsaXZlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmFjdGl2aXR5ID0gMjtcbiAgICAgICAgICAgIHRoaXMuanVtcCgyLjIgKiBKVU1QX1BPV0VSKTtcbiAgICAgICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRleHRBbmltYXRpb25zLnB1c2gobmV3IFRleHRBbmltYXRpb24oXCJTRUNPTkQgQ0hBTkNFIVwiLCB3aWR0aCAqIDAuOCwgMS41ICogQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSwgZnJhbWVSYXRlKCkgLyAzLCAyICogZnJhbWVSYXRlKCksIFswLCAwLCAwXSwgZnJhbWVDb3VudCkpO1xuICAgICAgICB9LCAzMjAwKTtcbiAgICB9XG5cbiAgICByZXN1cnJlY3QoKSB7XG4gICAgICAgIHRoaXMuc3RhdHMuYWxpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmFjdGl2aXR5ID0gMDtcbiAgICB9XG5cbiAgICBidXJ5KCkge1xuICAgICAgICAvLyBwdXNoUmFuayh0aGlzLnN0YXRzLnNjb3JlKTtcbiAgICAgICAgLy8gZ2V0UmFua3MoKTtcbiAgICAgICAgdGhpcy5zaG91bGRVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5idXJ5aW5nID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wLnkgKz0gMjtcbiAgICAgICAgICAgIGlmICh0aGlzLnAueSA+PSAoQmx1ZUp1bXBHYW1lLklTX1NBRkFSSSA/IHdpbmRvd0hlaWdodCA6IHdpbmRvdy5zY3JlZW4uaGVpZ2h0KSAtIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFIC8gMykge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5idXJ5aW5nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2aXR5ID0gNDtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1cnlpbmcgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucC55LS07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnAueSA8PSAoQmx1ZUp1bXBHYW1lLklTX1NBRkFSSSA/IHdpbmRvd0hlaWdodCA6IHdpbmRvdy5zY3JlZW4uaGVpZ2h0KSAtIDIuNyAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFIC8gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmJ1cnlpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFuaW1hdGlvbnMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGV4dEFuaW1hdGlvbihcIkdBTUUgT1ZFUiFcIiwgd2lkdGggKiAwLjgsIDEuNSAqIHR4dFNpemUsIGZyYW1lUmF0ZSgpIC8gMywgSW5maW5pdHksIFswLCAwLCAwXSwgZnJhbWVDb3VudCwgd2lkdGggLyAyLCAxMDApXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRNb2RlKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idXJpZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMTAwMCAvIGZyYW1lUmF0ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwMCAvIGZyYW1lUmF0ZSgpKTtcbiAgICB9XG59XG4iLCJjbGFzcyBTcHJpdGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBpbWcsXG4gICAgICAgIGRpc3BsYXlXaWR0aCwgZGlzcGxheUhlaWdodCxcbiAgICAgICAgZnJhbWVzQ291bnQsXG4gICAgICAgIGFjdGlvbixcbiAgICAgICAgcGFkZGluZ0xlZnQsIHBhZGRpbmdSaWdodCxcbiAgICAgICAgZnBzU2NhbGVcbiAgICApIHtcbiAgICAgICAgdGhpcy5pbWcgPSBpbWc7XG4gICAgICAgIHRoaXMuZGlzcGxheVdpZHRoID0gZGlzcGxheVdpZHRoO1xuICAgICAgICB0aGlzLmRpc3BsYXlIZWlnaHQgPSBkaXNwbGF5SGVpZ2h0O1xuICAgICAgICB0aGlzLmZyYW1lc0NvdW50ID0gZnJhbWVzQ291bnQ7XG4gICAgICAgIHRoaXMuYWN0aW9uID0gYWN0aW9uO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5mcHNTY2FsZSA9IHR5cGVvZiBmcHNTY2FsZSA9PT0gJ3VuZGVmaW5lZCcgPyAyIDogZnBzU2NhbGU7XG4gICAgICAgIHRoaXMucGFkZGluZyA9IHtcbiAgICAgICAgICAgIGxlZnQ6IHR5cGVvZiBwYWRkaW5nTGVmdCA9PT0gJ3VuZGVmaW5lZCcgPyAwIDogcGFkZGluZ0xlZnQsXG4gICAgICAgICAgICByaWdodDogdHlwZW9mIHBhZGRpbmdSaWdodCA9PT0gJ3VuZGVmaW5lZCcgPyAwIDogcGFkZGluZ1JpZ2h0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc2hvdyh4LCB5LCBvcmlnV2lkdGgsIG9yaWdIZWlnaHQpIHtcbiAgICAgICAgbGV0IGZyYW1lSW5kZXggPVxuICAgICAgICAgICAgTWF0aC5mbG9vcih0aGlzLmNvdW50IC8gdGhpcy5mcHNTY2FsZSkgJSB0aGlzLmZyYW1lc0NvdW50O1xuICAgICAgICBjb25zdCBzcmNXaWR0aCA9IHR5cGVvZiBvcmlnV2lkdGggPT09ICd1bmRlZmluZWQnID8gdGhpcy5kaXNwbGF5V2lkdGggOiBvcmlnV2lkdGg7XG4gICAgICAgIGNvbnN0IHNyY0hlaWdodCA9IHR5cGVvZiBvcmlnSGVpZ2h0ID09PSAndW5kZWZpbmVkJyA/IHRoaXMuZGlzcGxheUhlaWdodCA6IG9yaWdIZWlnaHQ7XG4gICAgICAgIHRoaXMuY291bnQrKztcbiAgICAgICAgLy8gcGVyZm9ybSB0aGUgYWN0aW9uIChzdWNoIGFzIGJsaW5raW5nKVxuICAgICAgICBpZiAodGhpcy5hY3Rpb24gJiYgZnJhbWVJbmRleCA9PT0gdGhpcy5mcmFtZXNDb3VudCAtIDEgJiYgTWF0aC5yYW5kb20oKSA+IDAuMjUpIHtcbiAgICAgICAgICAgIGZyYW1lSW5kZXggPSAwO1xuICAgICAgICAgICAgdGhpcy5jb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIGltYWdlKFxuICAgICAgICAgICAgdGhpcy5pbWcsXG4gICAgICAgICAgICB4LCB5LFxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5V2lkdGgsIHRoaXMuZGlzcGxheUhlaWdodCxcbiAgICAgICAgICAgIGZyYW1lSW5kZXggKiBzcmNXaWR0aCwgMCxcbiAgICAgICAgICAgIHNyY1dpZHRoLCBzcmNIZWlnaHRcbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJjbGFzcyBUZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgdGV4dCwgYmVnaW5TaXplLCBmaW5hbFNpemUsIHRyYW5zaXRpb24sIGRlbGF5LCBjb2xvdXIsIGNyZWF0aW9uLCB4LCB5XG4gICAgKSB7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMuZmluYWxTaXplID0gZmluYWxTaXplO1xuICAgICAgICB0aGlzLmN1cnJlbnRTaXplID0gYmVnaW5TaXplIC0gKGJlZ2luU2l6ZSAlIGZpbmFsU2l6ZSk7IC8vIFRPRE86IGNoZWNrIHRoaXNcbiAgICAgICAgdGhpcy5kZWNyZWFzZSA9ICh0aGlzLmN1cnJlbnRTaXplIC0gdGhpcy5maW5hbFNpemUpIC8gdHJhbnNpdGlvbjtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uID0gdHJhbnNpdGlvbjtcbiAgICAgICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgICAgICB0aGlzLmNvbG91ciA9IGNvbG91cjtcbiAgICAgICAgdGhpcy5jcmVhdGlvbiA9IGNyZWF0aW9uO1xuICAgICAgICB0aGlzLnggPSB0eXBlb2YgeCA9PT0gJ3VuZGVmaW5lZCcgPyB3aWR0aCAvIDIgOiB4O1xuICAgICAgICB0aGlzLnkgPSB0eXBlb2YgeSA9PT0gJ3VuZGVmaW5lZCcgPyBoZWlnaHQgLyAyIDogeTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRTaXplID4gdGhpcy5maW5hbFNpemUpIHRoaXMuY3VycmVudFNpemUgLT0gdGhpcy5kZWNyZWFzZTtcbiAgICB9XG5cbiAgICBzaG93KCkge1xuICAgICAgICB0ZXh0U2l6ZSh0aGlzLmN1cnJlbnRTaXplKTtcbiAgICAgICAgdGV4dEFsaWduKENFTlRFUik7XG4gICAgICAgIGZpbGwodGhpcy5jb2xvdXIpO1xuICAgICAgICBzdHJva2UoMjU1KTtcbiAgICAgICAgc3Ryb2tlV2VpZ2h0KDYpO1xuICAgICAgICB0ZXh0KHRoaXMudGV4dCwgdGhpcy54LCB0aGlzLnkpO1xuICAgIH1cblxuICAgIHNob3VsZEJlRGVsZXRlZCgpIHtcbiAgICAgICAgcmV0dXJuIGZyYW1lQ291bnQgPD0gdGhpcy50cmFuc2l0aW9uICsgdGhpcy5kZWxheSArIHRoaXMuY3JlYXRpb247XG4gICAgfVxufVxuIiwibGV0IGJqO1xuXG5mdW5jdGlvbiBwcmVsb2FkKCkge1xuICAgIC8vIGltYWdlc1xuICAgIEJsdWVKdW1wR2FtZS5kaXJ0YmxvY2tbMF0gPSBsb2FkSW1hZ2UoJ2Fzc2V0cy9pbWcvZGlydDAucG5nJyk7XG4gICAgQmx1ZUp1bXBHYW1lLnNwaWtlc1swXSA9IGxvYWRJbWFnZSgnYXNzZXRzL2ltZy9zcGlrZXMucG5nJyk7XG4gICAgQmx1ZUp1bXBHYW1lLmJyaWNrYmxvY2swWzBdID0gbG9hZEltYWdlKCdhc3NldHMvaW1nL2JyaWNrczAucG5nJyk7XG4gICAgQmx1ZUp1bXBHYW1lLmJyaWNrYmxvY2sxWzBdID0gbG9hZEltYWdlKCdhc3NldHMvaW1nL2JyaWNrczEucG5nJyk7XG4gICAgQmx1ZUp1bXBHYW1lLnRyYW5zaXRpb25bMF0gPSBsb2FkSW1hZ2UoJ2Fzc2V0cy9pbWcvdHJhbnNpdGlvbi5wbmcnKTtcbiAgICBCbHVlSnVtcEdhbWUuZ3JhdmVbMF0gPSBsb2FkSW1hZ2UoJ2Fzc2V0cy9pbWcvZ3JhdmUucG5nJyk7XG4gICAgLy8gc3ByaXRlc1xuICAgIEJsdWVKdW1wR2FtZS5ibHVlR3V5MDJbMF0gPSBsb2FkSW1hZ2UoJ2Fzc2V0cy9pbWcvc3ByaXRlcy9ib3VuY2luZy5wbmcnKTtcbiAgICBCbHVlSnVtcEdhbWUuYmx1ZUd1eTAzWzBdID0gbG9hZEltYWdlKCdhc3NldHMvaW1nL3Nwcml0ZXMvd2Fsa2luZy5wbmcnKTtcbiAgICBCbHVlSnVtcEdhbWUuYmx1ZUd1eTA0WzBdID0gbG9hZEltYWdlKCdhc3NldHMvaW1nL3Nwcml0ZXMvdW5kZWFkLnBuZycpO1xuICAgIEJsdWVKdW1wR2FtZS5sYXZhWzBdID0gbG9hZEltYWdlKCdhc3NldHMvaW1nL3Nwcml0ZXMvbGF2YS5wbmcnKTtcbiAgICAvLyBmb250c1xuICAgIEJsdWVKdW1wR2FtZS5GT05UID0gbG9hZEZvbnQoJ2Fzc2V0cy9mb250cy9yb2JvdDAxLnR0ZicpO1xufVxuXG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAvLyBpbml0aWFsaXNlIGdhbWUgaW5zdGFuY2VcbiAgICBiaiA9IG5ldyBCbHVlSnVtcEdhbWUoKTtcbiAgICAvLyBmaW5pc2ggdXAgbG9hZGluZyB0aGUgYXNzZXRzXG4gICAgLy8gaW1hZ2VzXG4gICAgQmx1ZUp1bXBHYW1lLmRpcnRibG9ja1swXS5sb2FkUGl4ZWxzKCk7XG4gICAgQmx1ZUp1bXBHYW1lLnNwaWtlc1swXS5sb2FkUGl4ZWxzKCk7XG4gICAgQmx1ZUp1bXBHYW1lLmJyaWNrYmxvY2swWzBdLmxvYWRQaXhlbHMoKTtcbiAgICBCbHVlSnVtcEdhbWUuYnJpY2tibG9jazFbMF0ubG9hZFBpeGVscygpO1xuICAgIEJsdWVKdW1wR2FtZS50cmFuc2l0aW9uWzBdLmxvYWRQaXhlbHMoKTtcbiAgICBCbHVlSnVtcEdhbWUuZ3JhdmVbMF0ubG9hZFBpeGVscygpO1xuICAgIC8vIHNwcml0ZXNcbiAgICBCbHVlSnVtcEdhbWUuYmx1ZUd1eTAyWzBdLmxvYWRQaXhlbHMoKTtcbiAgICBCbHVlSnVtcEdhbWUuYmx1ZUd1eTAzWzBdLmxvYWRQaXhlbHMoKTtcbiAgICBCbHVlSnVtcEdhbWUuYmx1ZUd1eTA0WzBdLmxvYWRQaXhlbHMoKTtcbiAgICBCbHVlSnVtcEdhbWUubGF2YVswXS5sb2FkUGl4ZWxzKCk7XG4gICAgLy8gY2hhbmdlIGJlaGF2aW91ciBkZXBlbmRpbmcgb24gYnJvd3NlclxuICAgIGlmIChCbHVlSnVtcEdhbWUuSVNfU0FGQVJJKSB7XG4gICAgICAgIGNyZWF0ZUNhbnZhcyh3aW5kb3cuc2NyZWVuLndpZHRoLCB3aW5kb3dIZWlnaHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNyZWF0ZUNhbnZhcyh3aW5kb3cuc2NyZWVuLndpZHRoLCB3aW5kb3cuc2NyZWVuLmhlaWdodCk7XG4gICAgfVxuICAgIEJsdWVKdW1wR2FtZS5maWVsZCA9XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVmYXVsdENhbnZhczBcIikuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIGNvbG9yTW9kZShSR0IpO1xuICAgIGJqLmNvbG91cnMgPSBbXG4gICAgICAgIGNvbG9yKDY0LCAxMTIsIDE4NCksXG4gICAgICAgIGNvbG9yKDE5MSwgMjE4LCAyMzUpLFxuICAgICAgICBjb2xvcig5MCwgMCwgMCksXG4gICAgICAgIGNvbG9yKDIwMCwgMCwgMClcbiAgICBdO1xuICAgIC8vIGtlZXAgc3BlZWQgc2ltaWxhciBhY3Jvc3MgZGlmZmVyZW50IGRldmljZXNcbiAgICBpZiAoQmx1ZUp1bXBHYW1lLk1PQklMRV9DT05UUk9MUyA9PT0gMCkgZnJhbWVSYXRlKDMwKTtcbiAgICBlbHNlIGZyYW1lUmF0ZSgyNyk7XG4gICAgLy8gZml4IGZvbnRcbiAgICB0ZXh0Rm9udChCbHVlSnVtcEdhbWUuRk9OVCk7XG59XG5cbmZ1bmN0aW9uIGRyYXcoKSB7XG4gICAgYmFja2dyb3VuZCg1MSk7XG4gICAgbm9TdHJva2UoKTtcbiAgICAvLyBkcmF3IHNoYWRlZCBiYWNrZ3JvdW5kXG4gICAgZm9yIChsZXQgYmcgPSAwOyBiZyA8IDE7IGJnICs9IDEgLyBCbHVlSnVtcEdhbWUuQkFDS0dST1VORF9TSEFERVMpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luID0gYmoucGxheWVyLnN0YXRzLmFsaXZlID8gMCA6IDI7IC8vIDAxOmFsaXZlLCAyMzpkZWFkXG4gICAgICAgIGNvbnN0IHNoYWRlID0gbGVycENvbG9yKFxuICAgICAgICAgICAgYmouY29sb3Vyc1tvcmlnaW5dLCBiai5jb2xvdXJzW29yaWdpbiArIDFdLCBiZ1xuICAgICAgICApO1xuICAgICAgICBmaWxsKHNoYWRlKTtcbiAgICAgICAgcmVjdCgwLCBoZWlnaHQgKiBiZywgd2lkdGgsIGhlaWdodCAqIChiZyArIDEpKTtcbiAgICB9XG4gICAgLy8gZHJhdyB0aGUgZmFrZSBiYXJyaWVyc1xuICAgIGxldCBoaWdoZXN0RmFrZSA9IGJqLmZha2VCYXJyaWVyc1swXTtcbiAgICBmb3IgKGxldCBmYiA9IDA7IGZiIDwgYmouZmFrZUJhcnJpZXJzLmxlbmd0aDsgZmIrKykge1xuICAgICAgICBpZiAoYmouZmFrZUJhcnJpZXJzW2ZiXS5wLnkgPCBoaWdoZXN0RmFrZS5wLnkpXG4gICAgICAgICAgICBoaWdoZXN0RmFrZSA9IGJqLmZha2VCYXJyaWVyc1tmYl07IC8vIFRPRE86IGlzIHRoaXMgcmlnaHQ/XG4gICAgICAgIGJqLmZha2VCYXJyaWVyc1tmYl0uc2hvdygpO1xuICAgIH1cbiAgICBpZiAoYmouZmFrZUJhcnJpZXJzLmxlbmd0aCA8IEJsdWVKdW1wR2FtZS5NQVhfQkFSUklFUlMpXG4gICAgICAgIGJqLnBpY2tOZXdIaWdoZXN0KFxuICAgICAgICAgICAgaGlnaGVzdEZha2UucCxcbiAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICBiai5mYWtlQmFycmllcnMubGVuZ3RoIDwgQmx1ZUp1bXBHYW1lLk1BWF9CQVJSSUVSUyAtIDJcbiAgICAgICAgKTtcbiAgICAvLyBkcmF3IHRoZSByZWFsIGJhcnJpZXJzXG4gICAgbGV0IGhpZ2hlc3QgPSBiai5iYXJyaWVyc1swXTtcbiAgICBmb3IgKGxldCBiID0gMDsgYiA8IGJqLmJhcnJpZXJzLmxlbmd0aDsgYisrKSB7XG4gICAgICAgIGlmIChiai5iYXJyaWVyc1tiXS5wLnkgPCBoaWdoZXN0LnAueSlcblxuICAgICAgICAgICAgaGlnaGVzdCA9IGJqLmJhcnJpZXJzW2JdOyAvLyBUT0RPOiBpcyB0aGlzIHJpZ2h0P1xuICAgICAgICBiai5iYXJyaWVyc1tiXS5zaG93KCk7XG4gICAgfVxuICAgIGlmIChoaWdoZXN0LnAueSA+IC0xMDAgJiYgQmx1ZUp1bXBHYW1lLkxFVkVMQ1JFQVRJT04pXG4gICAgICAgIGJqLnBpY2tOZXdIaWdoZXN0KGhpZ2hlc3QucCwgZmFsc2UpO1xuICAgIC8vIGV4dHJhIGluZm9ybWF0aW9uXG4gICAgaWYgKEJsdWVKdW1wR2FtZS5ERUJVRykge1xuICAgICAgICB0ZXh0QWxpZ24oUklHSFQpO1xuICAgICAgICB0ZXh0U2l6ZSgxOCk7XG4gICAgICAgIHN0cm9rZSgwKTtcbiAgICAgICAgZmlsbCgyNTUsIDI1NSwgMCk7XG4gICAgICAgIHRleHQoXCJTY29yZTogXCIgKyBiai5wbGF5ZXIuZ2V0U2NvcmUoKSwgd2lkdGggLSA2MCwgNjApO1xuICAgICAgICB0ZXh0KFwiQmFycmllcnM6IFwiICsgYmoucGxheWVyLnN0YXRzLmJhcnJpZXJzSnVtcGVkLCB3aWR0aCAtIDYwLCA5MCk7XG4gICAgICAgIHRleHQoXCJQaXhlbHMgdHJhdmVyc2VkIHZlcnRpY2FsbHk6IFwiICsgYmoucGxheWVyLmdldFRyYXZlcnNlZFBpeGVscygpLCB3aWR0aCAtIDYwLCAxMjApO1xuICAgICAgICB0ZXh0KFwiRlBTOiBcIiArIE1hdGgucm91bmQoZnJhbWVSYXRlKCkpLCB3aWR0aCAtIDYwLCAxNTApO1xuICAgICAgICB0ZXh0KFwiQ29udHJvbHM6IFwiICsgQmx1ZUp1bXBHYW1lLk1PQklMRV9DT05UUk9MUywgd2lkdGggLSA2MCwgMjEwKTtcbiAgICAgICAgdGV4dChcInJvdGF0aW9uOiBcIiArIGJqLnJvdGF0aW9uLnRvRml4ZWQoMyksIHdpZHRoIC0gNjAsIDI0MCk7XG4gICAgICAgIHRleHQoXCJvcmllbnRlZE1vdmVtZW50OiBcIiArIGJqLm9yaWVudGVkTW92ZW1lbnQudG9GaXhlZCgzKSwgd2lkdGggLSA2MCwgMjcwKTtcbiAgICAgICAgdGV4dChcImJhcnJpZXJzTGVuZ3RoOiBcIiArIGJqLmZha2VCYXJyaWVycy5sZW5ndGgsIHdpZHRoIC0gNjAsIDMwMCk7XG4gICAgICAgIHRleHQoXCJ3aWR0aDogXCIgKyB3aW5kb3cuc2NyZWVuLndpZHRoLCB3aWR0aCAtIDYwLCAzMzApO1xuICAgICAgICB0ZXh0KFwiaGVpZ2h0OiBcIiArIChCbHVlSnVtcEdhbWUuSVNfU0FGQVJJID8gd2luZG93SGVpZ2h0IDogd2luZG93LnNjcmVlbi5oZWlnaHQpLCB3aWR0aCAtIDYwLCAzNjApO1xuICAgICAgICB0ZXh0KFwibW91c2VYLCBtb3VzZVk6IFwiICsgbW91c2VYICsgXCIsIFwiICsgbW91c2VZLCB3aWR0aCAtIDYwLCAzOTApO1xuICAgIH1cbiAgICAvLyBzaG93IGNoYXJhY3RlciBwZXJmb3JtaW5nIGN1cnJlbnQgYWN0aXZpdHlcbiAgICBiai5wbGF5ZXIuYWN0aXZpdGllc1tiai5wbGF5ZXIuYWN0aXZpdHldLnNob3coXG4gICAgICAgIGJqLnBsYXllci5wLngsIGJqLnBsYXllci5wLnksXG4gICAgICAgIDEwMCwgMTAwXG4gICAgKTtcbiAgICAvLyBkaXNwbGF5IHRoZSBmbG9vclxuICAgIGlmIChiai5wbGF5ZXIuc3RhdHMuYWxpdmUpIEJsdWVKdW1wR2FtZS5zcGlrZXNGbG9vci5zaG93KDE1MCwgNDYpO1xuICAgIGVsc2UgQmx1ZUp1bXBHYW1lLmxhdmFGbG9vci5zaG93KDE1MCwgNTApO1xuICAgIC8vIHNob3cgYW55IHRleHQgXCJhbmltYXRpb25zXCJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJqLnRleHRBbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChiai50ZXh0QW5pbWF0aW9uc1tpXS5zaG91bGRCZURlbGV0ZWQoKSkge1xuICAgICAgICAgICAgYmoudGV4dEFuaW1hdGlvbnNbaV0udXBkYXRlKCk7XG4gICAgICAgICAgICBiai50ZXh0QW5pbWF0aW9uc1tpXS5zaG93KCk7XG4gICAgICAgIH0gZWxzZSBiai50ZXh0QW5pbWF0aW9uc1tpXS5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICAgIC8vIHNob3cgc3R1ZmYgZGVwZW5kaW5nIG9uIGN1cnJlbnQgZ2FtZU1vZGUgVE9ETzogcmVmYWN0b3IgdGhpc1xuICAgIHN3aXRjaCAoYmouZ2FtZU1vZGUpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgaWYgKCFCbHVlSnVtcEdhbWUuSVNfU0FGQVJJICYmIC8vIFRPRE86IHNwbGl0IG9mZlxuICAgICAgICAgICAgICAgICFCbHVlSnVtcEdhbWUucHJlZml4KGRvY3VtZW50LCBcIkZ1bGxTY3JlZW5cIikgJiZcbiAgICAgICAgICAgICAgICAhQmx1ZUp1bXBHYW1lLnByZWZpeChkb2N1bWVudCwgXCJJc0Z1bGxTY3JlZW5cIikpIHtcbiAgICAgICAgICAgICAgICAvLyBub3QgaW4gZnVsbHNjcmVlbiBtb2RlXG4gICAgICAgICAgICAgICAgYmouc2V0TW9kZSgtMSk7XG4gICAgICAgICAgICAgICAgYmouZnVsbFNjcmVlbkFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiai5iYXJyaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGJqLmJhcnJpZXJzW2ldLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJqLnBsYXllci5zaG91bGRVcGRhdGUgJiYgYmouZnVsbFNjcmVlbkFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGJqLnBsYXllci51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC0xOlxuICAgICAgICAgICAgbm9TdHJva2UoKTtcbiAgICAgICAgICAgIGZpbGwoJ3JnYmEoMCwwLDAsMC44KScpOyAvLyBUT0RPOiBpcyB0aGVyZSBhbiBhY3R1YWwgZnVuY3Rpb24gZm9yIHRoaXM/XG4gICAgICAgICAgICByZWN0KDAsIDAsIHdpbmRvdy5zY3JlZW4ud2lkdGgsIChCbHVlSnVtcEdhbWUuSVNfU0FGQVJJID8gd2luZG93SGVpZ2h0IDogd2luZG93LnNjcmVlbi5oZWlnaHQpKTtcbiAgICAgICAgICAgIGZpbGwoMjAwLCAyMDAsIDApO1xuICAgICAgICAgICAgc3Ryb2tlV2VpZ2h0KEJsdWVKdW1wR2FtZS5BUlJPV19TQ0FMRSAqIDAuMTI1KTtcbiAgICAgICAgICAgIHN0cm9rZSgyNTUpO1xuICAgICAgICAgICAgLy8gdGVrZW4gZWVuIHBpamxcbiAgICAgICAgICAgIHB1c2goKTtcbiAgICAgICAgICAgIHRyYW5zbGF0ZSgxMDAsIDMwKTtcbiAgICAgICAgICAgIGJlZ2luU2hhcGUoKTtcbiAgICAgICAgICAgIHZlcnRleCgwLCAwKTtcbiAgICAgICAgICAgIHZlcnRleChcbiAgICAgICAgICAgICAgICBCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEUgKiAxLjA1LFxuICAgICAgICAgICAgICAgIDAuMjcgKiBCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB2ZXJ0ZXgoXG4gICAgICAgICAgICAgICAgMC42MiAqIEJsdWVKdW1wR2FtZS5BUlJPV19TQ0FMRSxcbiAgICAgICAgICAgICAgICAwLjU1ICogQmx1ZUp1bXBHYW1lLkFSUk9XX1NDQUxFXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdmVydGV4KFxuICAgICAgICAgICAgICAgIDEuNjUgKiBCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEUsXG4gICAgICAgICAgICAgICAgMi4wODUgKiBCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB2ZXJ0ZXgoXG4gICAgICAgICAgICAgICAgMS4xOCAqIEJsdWVKdW1wR2FtZS5BUlJPV19TQ0FMRSxcbiAgICAgICAgICAgICAgICAyLjQxICogQmx1ZUp1bXBHYW1lLkFSUk9XX1NDQUxFXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdmVydGV4KFxuICAgICAgICAgICAgICAgIDAuMTggKiBCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEUsXG4gICAgICAgICAgICAgICAgMC43OSAqIEJsdWVKdW1wR2FtZS5BUlJPV19TQ0FMRVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHZlcnRleChcbiAgICAgICAgICAgICAgICAtMC4yNSAqIEJsdWVKdW1wR2FtZS5BUlJPV19TQ0FMRSxcbiAgICAgICAgICAgICAgICBCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlbmRTaGFwZShDTE9TRSk7XG4gICAgICAgICAgICBwb3AoKTtcbiAgICAgICAgICAgIHRleHRBbGlnbihMRUZUKTtcbiAgICAgICAgICAgIHRleHRTaXplKEJsdWVKdW1wR2FtZS5URVhUX1NJWkUpO1xuICAgICAgICAgICAgZmlsbCgwKTtcbiAgICAgICAgICAgIHRleHQoXCJQTEFZXCIsIDEwMCwgMzAgKyAzICogQmx1ZUp1bXBHYW1lLkFSUk9XX1NDQUxFKTtcbiAgICAgICAgICAgIHN0cm9rZVdlaWdodChCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEUgKiAwLjA2NzUpO1xuICAgICAgICAgICAgdGV4dFNpemUoMC41ICogQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSk7XG4gICAgICAgICAgICB0ZXh0KEJsdWVKdW1wR2FtZS5DT05UUk9MU19NU0csIDQwLCA0ICogQmx1ZUp1bXBHYW1lLkFSUk9XX1NDQUxFKTtcbiAgICAgICAgICAgIHRleHQoQmx1ZUp1bXBHYW1lLlRJUCwgNDAsIDQuNyAqIEJsdWVKdW1wR2FtZS5BUlJPV19TQ0FMRSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgbm9TdHJva2UoKTtcbiAgICAgICAgICAgIGZpbGwoXCJyZ2JhKDAsIDAsIDAsIDAuNClcIik7IC8vIFRPRE86IGlzIHRoZXJlIGFuIGFjdHVhbCBmdW5jdGlvbiBmb3IgdGhpcz9cbiAgICAgICAgICAgIHJlY3QoMCwgMCwgd2luZG93LnNjcmVlbi53aWR0aCwgKEJsdWVKdW1wR2FtZS5JU19TQUZBUkkgPyB3aW5kb3dIZWlnaHQgOiB3aW5kb3cuc2NyZWVuLmhlaWdodCkpO1xuICAgICAgICAgICAgY29uc3QgeG9mZiA9IHdpZHRoIC8gMiAtIDQuODcgKiBCbHVlSnVtcEdhbWUuVEVYVF9TSVpFO1xuICAgICAgICAgICAgaWYgKCFiai5yZXR1cm5lZCkge1xuICAgICAgICAgICAgICAgIHRleHRTaXplKEJsdWVKdW1wR2FtZS5URVhUX1NJWkUpO1xuICAgICAgICAgICAgICAgIHRleHRBbGlnbihDRU5URVIpO1xuICAgICAgICAgICAgICAgIGlmIChmbG9vcihmcmFtZUNvdW50IC8gMikgJSA0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQoJ2xvYWRpbmcnLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmxvb3IoZnJhbWVDb3VudCAvIDIpICUgNCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0KCdsb2FkaW5nLicsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmbG9vcihmcmFtZUNvdW50IC8gMikgJSA0ID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQoJ2xvYWRpbmcuLicsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCgnbG9hZGluZy4uLicsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaWxsKDI1NSwgMTI4LCAwKTtcbiAgICAgICAgICAgICAgICB0ZXh0U2l6ZShCbHVlSnVtcEdhbWUuVEVYVF9TSVpFKTtcbiAgICAgICAgICAgICAgICB0ZXh0QWxpZ24oQ0VOVEVSKTtcbiAgICAgICAgICAgICAgICB0ZXh0U2l6ZSgwLjUgKiBCbHVlSnVtcEdhbWUuVEVYVF9TSVpFKTtcbiAgICAgICAgICAgICAgICB0ZXh0QWxpZ24oTEVGVCk7XG4gICAgICAgICAgICAgICAgdGV4dCgnIycsIHhvZmYsIDEuNyAqIEJsdWVKdW1wR2FtZS5URVhUX1NJWkUgKyAxMTUpO1xuICAgICAgICAgICAgICAgIHRleHQoJ1BsYXllcicsIHhvZmYgKyAxLjIgKiBCbHVlSnVtcEdhbWUuVEVYVF9TSVpFLCAxLjcgKiBCbHVlSnVtcEdhbWUuVEVYVF9TSVpFICsgMTE1KTtcbiAgICAgICAgICAgICAgICB0ZXh0KCdTY29yZScsIHhvZmYgKyA4ICogQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSwgMS43ICogQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSArIDExNSk7XG4gICAgICAgICAgICAgICAgZmlsbCgyNTUsIDI1NSwgMjU1KTtcbiAgICAgICAgICAgICAgICAvLyBzaG93UmFua3MoeG9mZik7XG4gICAgICAgICAgICB9XG4gICAgfVxuICAgIC8vIHNob3cgcGxheWVyJ3Mgc2NvcmVcbiAgICBmaWxsKDApO1xuICAgIHN0cm9rZVdlaWdodCgzKTtcbiAgICBzdHJva2UoMjU1KTtcbiAgICB0ZXh0QWxpZ24oQ0VOVEVSKTtcbiAgICB0ZXh0U2l6ZSgwLjkgKiBCbHVlSnVtcEdhbWUuVEVYVF9TSVpFKTtcbiAgICB0ZXh0KGJqLnBsYXllci5zdGF0cy5zY29yZSwgd2lkdGggLyAyLCAwLjggKiBCbHVlSnVtcEdhbWUuVEVYVF9TSVpFKTtcbiAgICAvLyBzaG93IGNyZWRpdHNcbiAgICB0ZXh0QWxpZ24oUklHSFQpO1xuICAgIHRleHRGb250KCdhcmlhbCcpO1xuICAgIHRleHRTaXplKDAuMyAqIEJsdWVKdW1wR2FtZS5URVhUX1NJWkUpO1xuICAgIG5vU3Ryb2tlKCk7XG4gICAgdGV4dCgnXFx1MDBBOScsIHdpZHRoIC0gMC4zICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUgLSAyICogQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSwgaGVpZ2h0IC8gMik7XG4gICAgdGV4dEZvbnQoQmx1ZUp1bXBHYW1lLkZPTlQpO1xuICAgIHRleHRTaXplKDAuMiAqIEJsdWVKdW1wR2FtZS5URVhUX1NJWkUpO1xuICAgIHRleHQoJ3wgMjAxNiB8IE5vdXQgS2xlZWYnLCB3aWR0aCAtIDAuMyAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFLCBoZWlnaHQgLyAyKTtcbn1cbiJdfQ==
