class Barrier{constructor(e,t,i,a,s,u,m,l,r,h,p){this.texture=r,this.jumped=!1,this.origW=h,this.origH=p,this.initialP={x:e,y:t,z:i},this.p={x:e,y:t,z:i},this.v={x:a,y:s,z:u},this.width=m/i,this.height=l/i}show(){this.texture.show(this.p.x,this.p.y,this.origW,this.origH)}update(){this.p.x+=this.v.x,this.p.y+=this.v.y,this.p.z+=this.v.z,this.v.x=Math.abs(this.p.x-this.initialP.x)>BlueJumpGame.MOVEMENT?-1*this.v.x:this.v.x}}class BlueJumpGame{constructor(){this.gameMode,this.dirtBlock,this.brickBlock,this.barriers=[],this.fakeBarriers=[],this.textAnimations=[],this.colours=[],this.orientedMovement=0,this.rotation=0,this.highest=0,this.fullScreenActive=!1,this.returned=!1,BlueJumpGame.MOBILE_CONTROLS?(window.addEventListener("deviceorientation",this.deviceOrientationHandler),BlueJumpGame.BARRIER_SCALE*=2.5,BlueJumpGame.MOVEMENT*=2.5,BlueJumpGame.ARROW_SCALE*=2.5,BlueJumpGame.CONTROLS_MSG="Tilt your device to move",BlueJumpGame.TIP="TIP: use portrait mode!",BlueJumpGame.JUMP_POWER=20):(BlueJumpGame.CONTROLS_MSG="Use arrow keys (< and >) or 'A' and 'D' to move",BlueJumpGame.TIP="TIP: press 'esc' to pause the game",BlueJumpGame.JUMP_POWER=30),console.log(width,height),this.player=new Player(width/2-BlueJumpGame.BARRIER_SCALE/3,3*height/4,BlueJumpGame.blueGuy02,BlueJumpGame.blueGuy03,BlueJumpGame.blueGuy04,BlueJumpGame.transition,BlueJumpGame.grave),BlueJumpGame.spikesFloor=new Floor(BlueJumpGame.spikes[0],BlueJumpGame.spikes[1],BlueJumpGame.spikes[2],BlueJumpGame.spikes[3],BlueJumpGame.spikes[4]),BlueJumpGame.lavaFloor=new Floor(BlueJumpGame.lava[0],BlueJumpGame.lava[1],BlueJumpGame.lava[2],BlueJumpGame.lava[3],BlueJumpGame.lava[4]),this.barriers.push(new Barrier(this.player.p.x+.5*this.player.activities[this.player.activity].displayWidth-.5*BlueJumpGame.BARRIER_SCALE,this.player.p.y+this.player.activities[this.player.activity].displayHeight+15,1,0,0,0,BlueJumpGame.BARRIER_SCALE,.25*BlueJumpGame.BARRIER_SCALE,new Sprite(BlueJumpGame.dirtblock[0],BlueJumpGame.dirtblock[1],BlueJumpGame.dirtblock[2],BlueJumpGame.dirtblock[3],BlueJumpGame.dirtblock[4],BlueJumpGame.dirtblock[5],BlueJumpGame.dirtblock[6]),150,46)),this.pickNewHighest(0,!0),this.setMode(-1)}setMode(e){switch(e){case-1:this.gameMode=-1,this.player.shouldUpdate=!1;break;case 0:this.gameMode=0,this.player.shouldUpdate=!0;break;case 1:this.gameMode=1,this.player.shouldUpdate=!1}}play(){BlueJumpGame.prefix(document,"FullScreen")||BlueJumpGame.prefix(document,"IsFullScreen")||BlueJumpGame.prefix(document.getElementById("defaultCanvas0"),"RequestFullScreen"),1!==this.gameMode&&setTimeout(function(){this.fullScreenActive=!0,this.setMode(0)}.bind(this),600)}pickNewHighest(e,t,i){let a,s;if(this.player.stats.alive?(s=BlueJumpGame.dirtblock,a=46):Math.random()<.25?(s=BlueJumpGame.brickblock0,a=46):(s=BlueJumpGame.brickblock1,a=33),t){const e=10+Math.random()*(width-110),t=i?Math.random()*((BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height)+200)-200:175*Math.random()-200,u=2+1.1*Math.random();this.fakeBarriers.push(new Barrier(e,t,u,0,0,0,BlueJumpGame.BARRIER_SCALE,.25*BlueJumpGame.BARRIER_SCALE,new Sprite(s[0],s[1]/u,s[2]/u,s[3],s[4],s[5],s[6]),150,a))}else{const t=constrain(.02*Math.floor(this.player.stats.score/2500)*BlueJumpGame.BARRIER_SCALE,0,.5*BlueJumpGame.BARRIER_SCALE),i=BlueJumpGame.MOBILE_CONTROLS?.5:.8,u=Math.random()<.5?1:-1,m=.5*(BlueJumpGame.JUMP_POWER*BlueJumpGame.JUMP_POWER+BlueJumpGame.JUMP_POWER)/BlueJumpGame.GRAVITY,l=constrain(1.7*BlueJumpGame.JUMP_POWER*BlueJumpGame.HORIZONTAL_SPEED*i*1.2+t,0,width),r=(.3+.7*Math.random())*m,h=constrain(e.x+u*(.3+.7*Math.random())*l,BlueJumpGame.MOVEMENT,width-BlueJumpGame.BARRIER_SCALE-BlueJumpGame.MOVEMENT);this.barriers.push(new Barrier(h,e.y-r,1,6*Math.random()*i-3,0,0,BlueJumpGame.BARRIER_SCALE,.25*BlueJumpGame.BARRIER_SCALE,new Sprite(s[0],s[1],s[2],s[3],s[4],s[5],s[6]),150,a))}}deviceOrientationHandler(e){this.rotation=e.gamma,this.orientedMovement=.020444*e.gamma}static prefix(e,t){let i,a,s=0;for(;s<BlueJumpGame.pfx.length&&!e[i];){if(i=t,""===BlueJumpGame.pfx[s]&&(i=i.substr(0,1).toLowerCase()+i.substr(1)),"undefined"!=(a=typeof e[i=BlueJumpGame.pfx[s]+i]))return BlueJumpGame.pfx=[BlueJumpGame.pfx[s]],"function"==a?e[i]():e[i];s++}}static isMobileDevice(){let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}}BlueJumpGame.AUTOJUMP=!0,BlueJumpGame.DEBUG=!0,BlueJumpGame.LEVELCREATION=!0,BlueJumpGame.LANDING_THRESHOLD=25,BlueJumpGame.HORIZONTAL_SPEED=11,BlueJumpGame.GRAVITY=1,BlueJumpGame.BARRIER_SCALE=.07*window.screen.width,BlueJumpGame.ARROW_SCALE=.06*window.screen.width,BlueJumpGame.MOVEMENT=.75*BlueJumpGame.BARRIER_SCALE,BlueJumpGame.BACKGROUND_SHADES=13,BlueJumpGame.MAX_BARRIERS=12,BlueJumpGame.CONTROLS_MSG="",BlueJumpGame.TIP="",BlueJumpGame.MOBILE_CONTROLS=BlueJumpGame.isMobileDevice(),BlueJumpGame.JUMP_POWER,BlueJumpGame.TEXT_SIZE=.5*BlueJumpGame.BARRIER_SCALE,BlueJumpGame.FONT,BlueJumpGame.pfx=["webkit","moz","ms","o",""],BlueJumpGame.field,BlueJumpGame.IS_SAFARI=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,BlueJumpGame.dirtblock=[null,BlueJumpGame.BARRIER_SCALE,.25*BlueJumpGame.BARRIER_SCALE,1,!1,0,0],BlueJumpGame.spikes=[null,5/3*BlueJumpGame.BARRIER_SCALE,.513*BlueJumpGame.BARRIER_SCALE,1,!1,0,0],BlueJumpGame.lava=[null,5/3*BlueJumpGame.BARRIER_SCALE,.558*BlueJumpGame.BARRIER_SCALE,5,!0,0,0],BlueJumpGame.brickblock0=[null,BlueJumpGame.BARRIER_SCALE,.25*BlueJumpGame.BARRIER_SCALE,1,!1,0,0],BlueJumpGame.brickblock1=[null,BlueJumpGame.BARRIER_SCALE,.25*BlueJumpGame.BARRIER_SCALE,1,!1,0,0],BlueJumpGame.blueGuy02=[null,2*BlueJumpGame.BARRIER_SCALE/3,2*BlueJumpGame.BARRIER_SCALE/3,7,!0,18,18],BlueJumpGame.blueGuy03=[null,2*BlueJumpGame.BARRIER_SCALE/3,2*BlueJumpGame.BARRIER_SCALE/3,10,!1,19,19],BlueJumpGame.blueGuy04=[null,2*BlueJumpGame.BARRIER_SCALE/3,2*BlueJumpGame.BARRIER_SCALE/3,6,!1,19,19],BlueJumpGame.transition=[null,2*BlueJumpGame.BARRIER_SCALE/3,2.2*BlueJumpGame.BARRIER_SCALE/3,1,!1,0,0],BlueJumpGame.grave=[null,2*BlueJumpGame.BARRIER_SCALE/3,2.2*BlueJumpGame.BARRIER_SCALE/3,1,!1,0,0];class Floor{constructor(e,t,i,a,s){this.sprite=new Sprite(e,t,i,a,s,0,0,30),this.repeats=Math.ceil(window.screen.width/t)}show(e,t){for(let i=0;i<this.repeats;i++)this.sprite.show(i*this.sprite.displayWidth,(BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height)-this.sprite.displayHeight,e,t)}}class Player{constructor(e,t){this.highestY=t,this.buried=!1,this.shouldUpdate=!0,this.initialP={x:e,y:t},this.p={x:e,y:t},this.v={x:0,y:0},this.a={x:0,y:BlueJumpGame.GRAVITY},this.stats={score:0,pixelsTraversed:0,barriersJumped:0,alive:!0},this.activity=0,this.activities=[];for(let e=2;e<=6;e++)void 0!==arguments[e]&&(this.activities.push(new Sprite(arguments[e][0],arguments[e][1],arguments[e][2],arguments[e][3],arguments[e][4],arguments[e][5],arguments[e][6])),this.walk=function(){this.activity=1});this.falling=!0}fall(){this.falling=!0,this.a.y=BlueJumpGame.GRAVITY}stand(){this.activity=0}getTraversedPixels(){return this.highestY=this.highestY>this.p.y?this.p.y:this.highestY,Math.round(this.stats.pixelsTraversed+this.initialP.y-this.highestY)}getScore(){const e=3*this.getTraversedPixels()+400*(this.stats.barriersJumped-1)*.7;return Math.round(e)}update(){if(!BlueJumpGame.AUTOJUMP&&!keyIsDown(32)||this.falling||this.jump(),this.stats.alive&&this.stand(),this.v.x=0,BlueJumpGame.MOBILE_CONTROLS?this.v.x=BlueJumpGame.HORIZONTAL_SPEED*orientedMovement:(keyIsDown(37)||keyIsDown(65))!==(keyIsDown(39)||keyIsDown(68))&&(this.stats.alive&&this.walk(),keyIsDown(37)||keyIsDown(65)?this.v.x=-BlueJumpGame.HORIZONTAL_SPEED:this.v.x=BlueJumpGame.HORIZONTAL_SPEED),this.p.x=constrain(this.p.x+this.v.x,0,width-this.activities[this.activity].displayWidth),this.p.y=constrain(this.p.y+this.v.y,0,height-this.activities[this.activity].displayHeight),this.v.x+=this.a.x,this.v.y+=this.a.y,this.p.y<height/3){const e=height/3-this.p.y;this.stats.pixelsTraversed+=e,this.p.y=height/3;for(let t=0;t<bj.barriers.length;t++)bj.barriers[t].p.y+=e,bj.barriers[t].p.y>=height-40&&bj.barriers.splice(t,1);for(let t=0;t<bj.fakeBarriers.length;t++)bj.fakeBarriers[t].p.y+=e/bj.fakeBarriers[t].p.z,bj.fakeBarriers[t].p.y>=height-50&&bj.fakeBarriers.splice(t,1)}this.a.y=BlueJumpGame.GRAVITY,this.p.y+this.activities[this.activity].height>=height&&(this.stats.alive?(this.land(),this.die()):this.bury());for(let e=0;e<bj.barriers.length;e++)this.collide(bj.barriers[e])&&this.p.y+this.activities[this.activity].height>=bj.barriers[e].p.y&&this.p.y+this.activities[this.activity].height-bj.barriers[e].p.y<=LANDING_THRESHOLD&&this.v.y>0&&(this.land(bj.barriers[e].p.y-this.activities[this.activity].height,bj.barriers[e].v.x),bj.barriers[e].jumped||this.stats.barriersJumped++,bj.barriers[e].jumped=!0);this.stats.score=this.getScore()}jump(e){const t=void 0!==e?e:BlueJumpGame.JUMP_POWER;this.fall(),this.v.y-=t}land(e,t){this.falling=!1,this.a.y=0,this.v.y=0,void 0!==e&&(this.p.y=e),void 0!==t&&(this.p.x+=2*t)}collide(e){return this.p.x+this.activities[this.activity].width-this.activities[this.activity].padding.right>=e.p.x&&this.p.x+this.activities[this.activity].padding.left<=e.p.x+e.width&&this.p.y+this.activities[this.activity].height>=e.p.y&&this.p.y<=e.p.y+e.height}die(){this.shouldUpdate=!1,this.activity=3,this.p.y=(BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height)-3*BlueJumpGame.BARRIER_SCALE/3,textAnimations.push(new TextAnimation(3,.8*width,2*BlueJumpGame.TEXT_SIZE,frameRate()/3,2*frameRate()/3,[0,0,0],frameCount)),setTimeout(()=>{textAnimations.push(new TextAnimation(2,.8*width,2*BlueJumpGame.TEXT_SIZE,frameRate()/3,2*frameRate()/3,[0,0,0],frameCount))},1e3),setTimeout(()=>{textAnimations.push(new TextAnimation(1,.8*width,2*BlueJumpGame.TEXT_SIZE,frameRate()/3,2*frameRate()/3,[0,0,0],frameCount))},2e3),setTimeout(()=>{this.stats.alive=!1,this.activity=2,this.jump(2.2*JUMP_POWER),this.shouldUpdate=!0,textAnimations.push(new TextAnimation("SECOND CHANCE!",.8*width,1.5*BlueJumpGame.TEXT_SIZE,frameRate()/3,2*frameRate(),[0,0,0],frameCount))},3200)}resurrect(){this.stats.alive=!0,this.activity=0}bury(){this.shouldUpdate=!1,this.burying=setInterval(()=>{this.p.y+=2,this.p.y>=(BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height)-BlueJumpGame.BARRIER_SCALE/3&&(clearInterval(this.burying),this.activity=4,this.burying=setInterval(()=>{this.p.y--,this.p.y<=(BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height)-2.7*BlueJumpGame.BARRIER_SCALE/3&&(clearInterval(this.burying),textAnimations.push(new TextAnimation("GAME OVER!",.8*width,1.5*txtSize,frameRate()/3,1/0,[0,0,0],frameCount,width/2,100)),this.setMode(1),this.buried=!0)},1e3/frameRate()))},1e3/frameRate())}}class Sprite{constructor(e,t,i,a,s,u,m,l){this.img=e,this.displayWidth=t,this.displayHeight=i,this.framesCount=a,this.action=s,this.count=0,this.fpsScale=void 0===l?2:l,this.padding={left:void 0===u?0:u,right:void 0===m?0:m}}show(e,t,i,a){let s=Math.floor(this.count/this.fpsScale)%this.framesCount;const u=void 0===i?this.displayWidth:i,m=void 0===a?this.displayHeight:a;this.count++,this.action&&s===this.framesCount-1&&Math.random()>.25&&(s=0,this.count++),image(this.img,e,t,this.displayWidth,this.displayHeight,s*u,0,u,m)}}class Text{constructor(e,t,i,a,s,u,m,l,r){this.text=e,this.finalSize=i,this.currentSize=t-t%i,this.decrease=(this.currentSize-this.finalSize)/a,this.transition=a,this.delay=s,this.colour=u,this.creation=m,this.x=void 0===l?width/2:l,this.y=void 0===r?height/2:r}update(){this.currentSize>this.finalSize&&(this.currentSize-=this.decrease)}show(){textSize(this.currentSize),textAlign(CENTER),fill(this.colour),stroke(255),strokeWeight(6),text(this.text,this.x,this.y)}shouldBeDeleted(){return frameCount<=this.transition+this.delay+this.creation}}let bj;function preload(){BlueJumpGame.dirtblock[0]=loadImage("assets/img/dirt0.png"),BlueJumpGame.spikes[0]=loadImage("assets/img/spikes.png"),BlueJumpGame.brickblock0[0]=loadImage("assets/img/bricks0.png"),BlueJumpGame.brickblock1[0]=loadImage("assets/img/bricks1.png"),BlueJumpGame.transition[0]=loadImage("assets/img/transition.png"),BlueJumpGame.grave[0]=loadImage("assets/img/grave.png"),BlueJumpGame.blueGuy02[0]=loadImage("assets/img/sprites/bouncing.png"),BlueJumpGame.blueGuy03[0]=loadImage("assets/img/sprites/walking.png"),BlueJumpGame.blueGuy04[0]=loadImage("assets/img/sprites/undead.png"),BlueJumpGame.lava[0]=loadImage("assets/img/sprites/lava.png"),BlueJumpGame.FONT=loadFont("assets/fonts/robot01.ttf")}function setup(){BlueJumpGame.dirtblock[0].loadPixels(),BlueJumpGame.spikes[0].loadPixels(),BlueJumpGame.brickblock0[0].loadPixels(),BlueJumpGame.brickblock1[0].loadPixels(),BlueJumpGame.transition[0].loadPixels(),BlueJumpGame.grave[0].loadPixels(),BlueJumpGame.blueGuy02[0].loadPixels(),BlueJumpGame.blueGuy03[0].loadPixels(),BlueJumpGame.blueGuy04[0].loadPixels(),BlueJumpGame.lava[0].loadPixels(),BlueJumpGame.IS_SAFARI?createCanvas(window.screen.width,windowHeight):createCanvas(window.screen.width,window.screen.height),BlueJumpGame.field=document.getElementById("defaultCanvas0").getContext("2d"),bj=new BlueJumpGame,colorMode(RGB),bj.colours=[color(64,112,184),color(191,218,235),color(90,0,0),color(200,0,0)],0===BlueJumpGame.MOBILE_CONTROLS?frameRate(30):frameRate(27),textFont(BlueJumpGame.FONT)}function draw(){background(51),noStroke();for(let e=0;e<1;e+=1/BlueJumpGame.BACKGROUND_SHADES){const t=bj.player.stats.alive?0:2,i=lerpColor(bj.colours[t],bj.colours[t+1],e);fill(i),rect(0,height*e,width,height*(e+1))}let e=bj.fakeBarriers[0];for(let t=0;t<bj.fakeBarriers.length;t++)bj.fakeBarriers[t].p.y<e.p.y&&(e=bj.fakeBarriers[t]),bj.fakeBarriers[t].show();bj.fakeBarriers.length<BlueJumpGame.MAX_BARRIERS&&bj.pickNewHighest(e.p,!0,bj.fakeBarriers.length<BlueJumpGame.MAX_BARRIERS-2);let t=bj.barriers[0];for(let e=0;e<bj.barriers.length;e++)bj.barriers[e].p.y<t.p.y&&(t=bj.barriers[e]),bj.barriers[e].show();t.p.y>-100&&BlueJumpGame.LEVELCREATION&&bj.pickNewHighest(t.p,!1),BlueJumpGame.DEBUG&&(textAlign(RIGHT),textSize(18),stroke(0),fill(255,255,0),text("Score: "+bj.player.getScore(),width-60,60),text("Barriers: "+bj.player.stats.barriersJumped,width-60,90),text("Pixels traversed vertically: "+bj.player.getTraversedPixels(),width-60,120),text("FPS: "+Math.round(frameRate()),width-60,150),text("Controls: "+BlueJumpGame.MOBILE_CONTROLS,width-60,210),text("rotation: "+bj.rotation.toFixed(3),width-60,240),text("orientedMovement: "+bj.orientedMovement.toFixed(3),width-60,270),text("barriersLength: "+bj.fakeBarriers.length,width-60,300),text("width: "+window.screen.width,width-60,330),text("height: "+(BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height),width-60,360),text("mouseX, mouseY: "+mouseX+", "+mouseY,width-60,390)),bj.player.activities[bj.player.activity].show(bj.player.p.x,bj.player.p.y,100,100),bj.player.stats.alive?BlueJumpGame.spikesFloor.show(150,46):BlueJumpGame.lavaFloor.show(150,50);for(let e=0;e<bj.textAnimations.length;e++)bj.textAnimations[e].shouldBeDeleted()?(bj.textAnimations[e].update(),bj.textAnimations[e].show()):bj.textAnimations[e].splice(e,1);switch(bj.gameMode){case 0:BlueJumpGame.IS_SAFARI||BlueJumpGame.prefix(document,"FullScreen")||BlueJumpGame.prefix(document,"IsFullScreen")||(bj.setMode(-1),bj.fullScreenActive=!1);for(let e=0;e<bj.barriers.length;e++)bj.barriers[e].update();bj.player.shouldUpdate&&bj.fullScreenActive&&bj.player.update();break;case-1:noStroke(),fill("rgba(0,0,0,0.8)"),rect(0,0,window.screen.width,BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height),fill(200,200,0),strokeWeight(.125*BlueJumpGame.ARROW_SCALE),stroke(255),push(),translate(100,30),beginShape(),vertex(0,0),vertex(1.05*BlueJumpGame.ARROW_SCALE,.27*BlueJumpGame.ARROW_SCALE),vertex(.62*BlueJumpGame.ARROW_SCALE,.55*BlueJumpGame.ARROW_SCALE),vertex(1.65*BlueJumpGame.ARROW_SCALE,2.085*BlueJumpGame.ARROW_SCALE),vertex(1.18*BlueJumpGame.ARROW_SCALE,2.41*BlueJumpGame.ARROW_SCALE),vertex(.18*BlueJumpGame.ARROW_SCALE,.79*BlueJumpGame.ARROW_SCALE),vertex(-.25*BlueJumpGame.ARROW_SCALE,BlueJumpGame.ARROW_SCALE),endShape(CLOSE),pop(),textAlign(LEFT),textSize(BlueJumpGame.TEXT_SIZE),fill(0),text("PLAY",100,30+3*BlueJumpGame.ARROW_SCALE),strokeWeight(.0675*BlueJumpGame.ARROW_SCALE),textSize(.5*BlueJumpGame.TEXT_SIZE),text(BlueJumpGame.CONTROLS_MSG,40,4*BlueJumpGame.ARROW_SCALE),text(BlueJumpGame.TIP,40,4.7*BlueJumpGame.ARROW_SCALE);break;case 1:noStroke(),fill("rgba(0, 0, 0, 0.4)"),rect(0,0,window.screen.width,BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height);const e=width/2-4.87*BlueJumpGame.TEXT_SIZE;bj.returned?(fill(255,128,0),textSize(BlueJumpGame.TEXT_SIZE),textAlign(CENTER),textSize(.5*BlueJumpGame.TEXT_SIZE),textAlign(LEFT),text("#",e,1.7*BlueJumpGame.TEXT_SIZE+115),text("Player",e+1.2*BlueJumpGame.TEXT_SIZE,1.7*BlueJumpGame.TEXT_SIZE+115),text("Score",e+8*BlueJumpGame.TEXT_SIZE,1.7*BlueJumpGame.TEXT_SIZE+115),fill(255,255,255)):(textSize(BlueJumpGame.TEXT_SIZE),textAlign(CENTER),floor(frameCount/2)%4==0?text("loading",width/2,height/2):floor(frameCount/2)%4==1?text("loading.",width/2,height/2):floor(frameCount/2)%4==2?text("loading..",width/2,height/2):text("loading...",width/2,height/2))}fill(0),strokeWeight(3),stroke(255),textAlign(CENTER),textSize(.9*BlueJumpGame.TEXT_SIZE),text(bj.player.stats.score,width/2,.8*BlueJumpGame.TEXT_SIZE),textAlign(RIGHT),textFont("arial"),textSize(.3*BlueJumpGame.TEXT_SIZE),noStroke(),text("Â©",width-.3*BlueJumpGame.BARRIER_SCALE-2*BlueJumpGame.TEXT_SIZE,height/2),textFont(BlueJumpGame.FONT),textSize(.2*BlueJumpGame.TEXT_SIZE),text("| 2016 | Nout Kleef",width-.3*BlueJumpGame.BARRIER_SCALE,height/2)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJhcnJpZXIuanMiLCJCbHVlSnVtcEdhbWUuanMiLCJGbG9vci5qcyIsIlBsYXllci5qcyIsIlNwcml0ZS5qcyIsIlRleHQuanMiLCJpbmRleC5qcyJdLCJuYW1lcyI6WyJCYXJyaWVyIiwiW29iamVjdCBPYmplY3RdIiwieCIsInkiLCJ6IiwieHYiLCJ5diIsInp2Iiwid2lkdGgiLCJoZWlnaHQiLCJ0ZXh0dXJlIiwib3JpZ1ciLCJvcmlnSCIsInRoaXMiLCJqdW1wZWQiLCJpbml0aWFsUCIsInAiLCJ2Iiwic2hvdyIsIk1hdGgiLCJhYnMiLCJCbHVlSnVtcEdhbWUiLCJNT1ZFTUVOVCIsImdhbWVNb2RlIiwiZGlydEJsb2NrIiwiYnJpY2tCbG9jayIsImJhcnJpZXJzIiwiZmFrZUJhcnJpZXJzIiwidGV4dEFuaW1hdGlvbnMiLCJjb2xvdXJzIiwib3JpZW50ZWRNb3ZlbWVudCIsInJvdGF0aW9uIiwiaGlnaGVzdCIsImZ1bGxTY3JlZW5BY3RpdmUiLCJyZXR1cm5lZCIsIk1PQklMRV9DT05UUk9MUyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZXZpY2VPcmllbnRhdGlvbkhhbmRsZXIiLCJCQVJSSUVSX1NDQUxFIiwiQVJST1dfU0NBTEUiLCJDT05UUk9MU19NU0ciLCJUSVAiLCJKVU1QX1BPV0VSIiwiY29uc29sZSIsImxvZyIsInBsYXllciIsIlBsYXllciIsImJsdWVHdXkwMiIsImJsdWVHdXkwMyIsImJsdWVHdXkwNCIsInRyYW5zaXRpb24iLCJncmF2ZSIsInNwaWtlc0Zsb29yIiwiRmxvb3IiLCJzcGlrZXMiLCJsYXZhRmxvb3IiLCJsYXZhIiwicHVzaCIsImFjdGl2aXRpZXMiLCJhY3Rpdml0eSIsImRpc3BsYXlXaWR0aCIsImRpc3BsYXlIZWlnaHQiLCJTcHJpdGUiLCJkaXJ0YmxvY2siLCJwaWNrTmV3SGlnaGVzdCIsInNldE1vZGUiLCJtb2RlIiwic2hvdWxkVXBkYXRlIiwicHJlZml4IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInNldFRpbWVvdXQiLCJiaW5kIiwib2xkUG9zIiwicGlja1JhbmRvbSIsImluU2lnaHQiLCJoIiwidHh0ciIsInN0YXRzIiwiYWxpdmUiLCJyYW5kb20iLCJicmlja2Jsb2NrMCIsImJyaWNrYmxvY2sxIiwiSVNfU0FGQVJJIiwid2luZG93SGVpZ2h0Iiwic2NyZWVuIiwiZGlmZmljdWx0eSIsImNvbnN0cmFpbiIsImZsb29yIiwic2NvcmUiLCJjb25zdHIiLCJkaXIiLCJtYXhZIiwiR1JBVklUWSIsIm1heFgiLCJIT1JJWk9OVEFMX1NQRUVEIiwiaW5jcmVhc2VZIiwibmV3WCIsImUiLCJnYW1tYSIsIm9iaiIsIm1ldGhvZCIsIm0iLCJ0IiwicGZ4IiwibGVuZ3RoIiwic3Vic3RyIiwidG9Mb3dlckNhc2UiLCJjaGVjayIsImEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ2ZW5kb3IiLCJvcGVyYSIsInRlc3QiLCJBVVRPSlVNUCIsIkRFQlVHIiwiTEVWRUxDUkVBVElPTiIsIkxBTkRJTkdfVEhSRVNIT0xEIiwiQkFDS0dST1VORF9TSEFERVMiLCJNQVhfQkFSUklFUlMiLCJpc01vYmlsZURldmljZSIsIlRFWFRfU0laRSIsIkZPTlQiLCJmaWVsZCIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsIkhUTUxFbGVtZW50IiwiaW5kZXhPZiIsImltZyIsImZyYW1lc0NvdW50IiwiYWN0aW9uIiwic3ByaXRlIiwicmVwZWF0cyIsImNlaWwiLCJvcmlnV2lkdGgiLCJvcmlnSGVpZ2h0IiwiaSIsImhpZ2hlc3RZIiwiYnVyaWVkIiwicGl4ZWxzVHJhdmVyc2VkIiwiYmFycmllcnNKdW1wZWQiLCJhcmd1bWVudHMiLCJ3YWxrIiwiZmFsbGluZyIsInJvdW5kIiwicyIsImdldFRyYXZlcnNlZFBpeGVscyIsImtleUlzRG93biIsImp1bXAiLCJzdGFuZCIsImV4Y2VlZGFuY2UiLCJiIiwiYmoiLCJzcGxpY2UiLCJmYiIsImxhbmQiLCJkaWUiLCJidXJ5IiwiY29sbGlkZSIsImdldFNjb3JlIiwiRiIsInBvd2VyIiwiZmFsbCIsImRYIiwidGFyZ2V0IiwicGFkZGluZyIsInJpZ2h0IiwibGVmdCIsIlRleHRBbmltYXRpb24iLCJmcmFtZVJhdGUiLCJmcmFtZUNvdW50IiwiYnVyeWluZyIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInR4dFNpemUiLCJJbmZpbml0eSIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwiZnBzU2NhbGUiLCJjb3VudCIsImZyYW1lSW5kZXgiLCJzcmNXaWR0aCIsInNyY0hlaWdodCIsImltYWdlIiwiVGV4dCIsInRleHQiLCJiZWdpblNpemUiLCJmaW5hbFNpemUiLCJkZWxheSIsImNvbG91ciIsImNyZWF0aW9uIiwiY3VycmVudFNpemUiLCJkZWNyZWFzZSIsInRleHRTaXplIiwidGV4dEFsaWduIiwiQ0VOVEVSIiwiZmlsbCIsInN0cm9rZSIsInN0cm9rZVdlaWdodCIsInByZWxvYWQiLCJsb2FkSW1hZ2UiLCJsb2FkRm9udCIsInNldHVwIiwibG9hZFBpeGVscyIsImNyZWF0ZUNhbnZhcyIsImdldENvbnRleHQiLCJjb2xvck1vZGUiLCJSR0IiLCJjb2xvciIsInRleHRGb250IiwiZHJhdyIsImJhY2tncm91bmQiLCJub1N0cm9rZSIsImJnIiwib3JpZ2luIiwic2hhZGUiLCJsZXJwQ29sb3IiLCJyZWN0IiwiaGlnaGVzdEZha2UiLCJSSUdIVCIsInRvRml4ZWQiLCJtb3VzZVgiLCJtb3VzZVkiLCJzaG91bGRCZURlbGV0ZWQiLCJ1cGRhdGUiLCJ0cmFuc2xhdGUiLCJiZWdpblNoYXBlIiwidmVydGV4IiwiZW5kU2hhcGUiLCJDTE9TRSIsInBvcCIsIkxFRlQiLCJ4b2ZmIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFBQSxRQUNBQyxZQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBQyxLQUFBSCxRQUFBQSxFQUNBRyxLQUFBQyxRQUFBLEVBQ0FELEtBQUFG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QUFDLE9BQUEsR0FDQWdGLE1BQUFxRixXQUFBLEdBQUEsR0FBQSxFQUNBZSxLQUFBLFdBQUFyTCxNQUFBLEVBQUFDLE9BQUEsR0FDQWdGLE1BQUFxRixXQUFBLEdBQUEsR0FBQSxFQUNBZSxLQUFBLFlBQUFyTCxNQUFBLEVBQUFDLE9BQUEsR0FFQW9MLEtBQUEsYUFBQXJMLE1BQUEsRUFBQUMsT0FBQSxJQWdCQStMLEtBQUEsR0FDQUUsYUFBQSxHQUNBRCxPQUFBLEtBQ0FILFVBQUFDLFFBQ0FGLFNBQUEsR0FBQWhMLGFBQUFzRyxXQUNBa0UsS0FBQWpDLEdBQUE5RyxPQUFBaUMsTUFBQVcsTUFBQWxGLE1BQUEsRUFBQSxHQUFBYSxhQUFBc0csV0FFQTJFLFVBQUF5QixPQUNBVixTQUFBLFNBQ0FoQixTQUFBLEdBQUFoTCxhQUFBc0csV0FDQTZGLFdBQ0EzQixLQUFBLElBQUFyTCxNQUFBLEdBQUFhLGFBQUFrQixjQUFBLEVBQUFsQixhQUFBc0csVUFBQWxILE9BQUEsR0FDQTRNLFNBQUFoTSxhQUFBdUcsTUFDQXlFLFNBQUEsR0FBQWhMLGFBQUFzRyxXQUNBa0UsS0FBQSxzQkFBQXJMLE1BQUEsR0FBQWEsYUFBQWtCLGNBQUE5QixPQUFBIiwiZmlsZSI6ImJsdWVKdW1wLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQmFycmllciB7XG4gICAgY29uc3RydWN0b3IoeCwgeSwgeiwgeHYsIHl2LCB6diwgd2lkdGgsIGhlaWdodCwgdGV4dHVyZSwgb3JpZ1csIG9yaWdIKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHRoaXMuanVtcGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMub3JpZ1cgPSBvcmlnVztcbiAgICAgICAgdGhpcy5vcmlnSCA9IG9yaWdIO1xuICAgICAgICB0aGlzLmluaXRpYWxQID0ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICB6OiB6XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucCA9IHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgejogelxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnYgPSB7XG4gICAgICAgICAgICB4OiB4dixcbiAgICAgICAgICAgIHk6IHl2LFxuICAgICAgICAgICAgejogenZcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoIC8gejtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQgLyB6O1xuICAgIH1cblxuICAgIHNob3coKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZS5zaG93KHRoaXMucC54LCB0aGlzLnAueSwgdGhpcy5vcmlnVywgdGhpcy5vcmlnSCk7XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLnAueCArPSB0aGlzLnYueDtcbiAgICAgICAgdGhpcy5wLnkgKz0gdGhpcy52Lnk7XG4gICAgICAgIHRoaXMucC56ICs9IHRoaXMudi56O1xuICAgICAgICB0aGlzLnYueCA9IE1hdGguYWJzKHRoaXMucC54IC0gdGhpcy5pbml0aWFsUC54KSA+IEJsdWVKdW1wR2FtZS5NT1ZFTUVOVCA/IHRoaXMudi54ICogLTEgOiB0aGlzLnYueDtcbiAgICB9XG59XG4iLCJjbGFzcyBCbHVlSnVtcEdhbWUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmdhbWVNb2RlO1xuICAgICAgICB0aGlzLmRpcnRCbG9jaztcbiAgICAgICAgdGhpcy5icmlja0Jsb2NrO1xuICAgICAgICB0aGlzLmJhcnJpZXJzID0gW107XG4gICAgICAgIHRoaXMuZmFrZUJhcnJpZXJzID0gW107XG4gICAgICAgIHRoaXMudGV4dEFuaW1hdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5jb2xvdXJzID0gW107XG4gICAgICAgIHRoaXMub3JpZW50ZWRNb3ZlbWVudCA9IDA7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSAwO1xuICAgICAgICB0aGlzLmhpZ2hlc3QgPSAwO1xuICAgICAgICB0aGlzLmZ1bGxTY3JlZW5BY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXR1cm5lZCA9IGZhbHNlO1xuICAgICAgICAvLyBpbml0aWFsaXNlIGNvbnRyb2xzXG4gICAgICAgIGlmIChCbHVlSnVtcEdhbWUuTU9CSUxFX0NPTlRST0xTKSB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAnZGV2aWNlb3JpZW50YXRpb24nLFxuICAgICAgICAgICAgICAgIHRoaXMuZGV2aWNlT3JpZW50YXRpb25IYW5kbGVyXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUgKj0gMi41O1xuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLk1PVkVNRU5UICo9IDIuNTtcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5BUlJPV19TQ0FMRSAqPSAyLjU7XG4gICAgICAgICAgICBCbHVlSnVtcEdhbWUuQ09OVFJPTFNfTVNHID0gJ1RpbHQgeW91ciBkZXZpY2UgdG8gbW92ZSc7XG4gICAgICAgICAgICBCbHVlSnVtcEdhbWUuVElQID0gJ1RJUDogdXNlIHBvcnRyYWl0IG1vZGUhJztcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5KVU1QX1BPV0VSID0gMjA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBCbHVlSnVtcEdhbWUuQ09OVFJPTFNfTVNHID0gJ1VzZSBhcnJvdyBrZXlzICg8IGFuZCA+KSBvciBcXCdBXFwnICcgK1xuICAgICAgICAgICAgICAgICdhbmQgXFwnRFxcJyB0byBtb3ZlJztcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5USVAgPSAnVElQOiBwcmVzcyBcXCdlc2NcXCcgdG8gcGF1c2UgdGhlIGdhbWUnO1xuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLkpVTVBfUE9XRVIgPSAzMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbml0aWFsaXNlIHBsYXllclxuICAgICAgICBjb25zb2xlLmxvZyh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyKCAvLyBUT0RPOiByZWZhY3RvciB0aGlzLiBkcmFzdGljYWxseS5cbiAgICAgICAgICAgIHdpZHRoIC8gMiAtIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFIC8gMyxcbiAgICAgICAgICAgIGhlaWdodCAqIDMgLyA0LFxuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLmJsdWVHdXkwMixcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5ibHVlR3V5MDMsXG4gICAgICAgICAgICBCbHVlSnVtcEdhbWUuYmx1ZUd1eTA0LFxuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLnRyYW5zaXRpb24sXG4gICAgICAgICAgICBCbHVlSnVtcEdhbWUuZ3JhdmVcbiAgICAgICAgKTtcbiAgICAgICAgLy8gY3JlYXRlIHRoZSBmbG9vcnNcbiAgICAgICAgQmx1ZUp1bXBHYW1lLnNwaWtlc0Zsb29yID0gbmV3IEZsb29yKFxuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLnNwaWtlc1swXSxcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5zcGlrZXNbMV0sXG4gICAgICAgICAgICBCbHVlSnVtcEdhbWUuc3Bpa2VzWzJdLFxuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLnNwaWtlc1szXSxcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5zcGlrZXNbNF1cbiAgICAgICAgKTtcbiAgICAgICAgQmx1ZUp1bXBHYW1lLmxhdmFGbG9vciA9IG5ldyBGbG9vcihcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5sYXZhWzBdLFxuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLmxhdmFbMV0sXG4gICAgICAgICAgICBCbHVlSnVtcEdhbWUubGF2YVsyXSxcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5sYXZhWzNdLFxuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLmxhdmFbNF1cbiAgICAgICAgKTtcbiAgICAgICAgLy8gc2V0IHVwIGZpcnN0IGJhcnJpZXJcbiAgICAgICAgdGhpcy5iYXJyaWVycy5wdXNoKCAvLyBUT0RPOiByZWZhY3RvciB0aGlzIHRvb1xuICAgICAgICAgICAgbmV3IEJhcnJpZXIoXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIucC54ICsgMC41ICogdGhpcy5wbGF5ZXIuYWN0aXZpdGllc1t0aGlzLnBsYXllci5hY3Rpdml0eV0uZGlzcGxheVdpZHRoIC0gMC41ICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIucC55ICsgdGhpcy5wbGF5ZXIuYWN0aXZpdGllc1t0aGlzLnBsYXllci5hY3Rpdml0eV0uZGlzcGxheUhlaWdodCArIDE1LFxuICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsXG4gICAgICAgICAgICAgICAgMC4yNSAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFLFxuICAgICAgICAgICAgICAgIG5ldyBTcHJpdGUoXG4gICAgICAgICAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5kaXJ0YmxvY2tbMF0sXG4gICAgICAgICAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5kaXJ0YmxvY2tbMV0sXG4gICAgICAgICAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5kaXJ0YmxvY2tbMl0sXG4gICAgICAgICAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5kaXJ0YmxvY2tbM10sXG4gICAgICAgICAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5kaXJ0YmxvY2tbNF0sXG4gICAgICAgICAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5kaXJ0YmxvY2tbNV0sXG4gICAgICAgICAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5kaXJ0YmxvY2tbNl0pLFxuICAgICAgICAgICAgICAgIDE1MCxcbiAgICAgICAgICAgICAgICA0NlxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICAvLyBmaW5hbGlzZVxuICAgICAgICB0aGlzLnBpY2tOZXdIaWdoZXN0KDAsIHRydWUpO1xuICAgICAgICB0aGlzLnNldE1vZGUoLTEpO1xuICAgIH1cblxuICAgIHNldE1vZGUobW9kZSkge1xuICAgICAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgLTE6XG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZSA9IC0xO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGUgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnNob3VsZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZSA9IDE7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwbGF5KCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhQmx1ZUp1bXBHYW1lLnByZWZpeChkb2N1bWVudCwgJ0Z1bGxTY3JlZW4nKSAmJlxuICAgICAgICAgICAgIUJsdWVKdW1wR2FtZS5wcmVmaXgoZG9jdW1lbnQsICdJc0Z1bGxTY3JlZW4nKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5wcmVmaXgoXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlZmF1bHRDYW52YXMwJyksXG4gICAgICAgICAgICAgICAgJ1JlcXVlc3RGdWxsU2NyZWVuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nYW1lTW9kZSAhPT0gMSkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mdWxsU2NyZWVuQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE1vZGUoMCk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcyksIDYwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwaWNrTmV3SGlnaGVzdChvbGRQb3MsIHBpY2tSYW5kb20sIGluU2lnaHQpIHsgLy8gVE9ETzogcmVmYWN0b3JcbiAgICAgICAgbGV0IGgsIHR4dHI7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5zdGF0cy5hbGl2ZSkge1xuICAgICAgICAgICAgdHh0ciA9IEJsdWVKdW1wR2FtZS5kaXJ0YmxvY2s7XG4gICAgICAgICAgICBoID0gNDY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMjUpIHtcbiAgICAgICAgICAgICAgICB0eHRyID0gQmx1ZUp1bXBHYW1lLmJyaWNrYmxvY2swO1xuICAgICAgICAgICAgICAgIGggPSA0NjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHh0ciA9IEJsdWVKdW1wR2FtZS5icmlja2Jsb2NrMTtcbiAgICAgICAgICAgICAgICBoID0gMzM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwaWNrUmFuZG9tKSB7XG4gICAgICAgICAgICBjb25zdCBkaWZmaWN1bHR5ID0gY29uc3RyYWluKE1hdGguZmxvb3IodGhpcy5wbGF5ZXIuc3RhdHMuc2NvcmUgLyAyNTAwKSAqIDAuMDIgKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSwgMCwgMC41ICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUpO1xuICAgICAgICAgICAgY29uc3QgY29uc3RyID0gQmx1ZUp1bXBHYW1lLk1PQklMRV9DT05UUk9MUyA/IDAuNSA6IDAuODA7XG4gICAgICAgICAgICBjb25zdCBkaXIgPSBNYXRoLnJhbmRvbSgpIDwgMC41ID8gMSA6IC0xO1xuICAgICAgICAgICAgY29uc3QgbWF4WSA9IDAuNSAqIChCbHVlSnVtcEdhbWUuSlVNUF9QT1dFUiAqIEJsdWVKdW1wR2FtZS5KVU1QX1BPV0VSICsgQmx1ZUp1bXBHYW1lLkpVTVBfUE9XRVIpIC8gQmx1ZUp1bXBHYW1lLkdSQVZJVFk7XG4gICAgICAgICAgICBjb25zdCBtYXhYID0gY29uc3RyYWluKDEuNyAqIEJsdWVKdW1wR2FtZS5KVU1QX1BPV0VSICogQmx1ZUp1bXBHYW1lLkhPUklaT05UQUxfU1BFRUQgKiBjb25zdHIgKiAxLjIgKyBkaWZmaWN1bHR5LCAwLCB3aWR0aCk7XG4gICAgICAgICAgICBjb25zdCBpbmNyZWFzZVkgPSAoMC4zICsgMC43ICogTWF0aC5yYW5kb20oKSkgKiBtYXhZO1xuICAgICAgICAgICAgY29uc3QgbmV3WCA9IGNvbnN0cmFpbihvbGRQb3MueCArIGRpciAqICgwLjMgKyAwLjcgKiBNYXRoLnJhbmRvbSgpKSAqIG1heFgsIEJsdWVKdW1wR2FtZS5NT1ZFTUVOVCwgd2lkdGggLSBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSAtIEJsdWVKdW1wR2FtZS5NT1ZFTUVOVCk7XG4gICAgICAgICAgICB0aGlzLmJhcnJpZXJzLnB1c2gobmV3IEJhcnJpZXIobmV3WCwgb2xkUG9zLnkgLSBpbmNyZWFzZVksIDEsIC0zICsgNiAqIE1hdGgucmFuZG9tKCkgKiBjb25zdHIsIDAsIDAsIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFLCAwLjI1ICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsIG5ldyBTcHJpdGUodHh0clswXSwgdHh0clsxXSwgdHh0clsyXSwgdHh0clszXSwgdHh0cls0XSwgdHh0cls1XSwgdHh0cls2XSksIDE1MCwgaCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgeCA9IDEwICsgTWF0aC5yYW5kb20oKSAqICh3aWR0aCAtIDExMCk7XG4gICAgICAgICAgICBjb25zdCB5ID0gaW5TaWdodCA/IC0yMDAgKyBNYXRoLnJhbmRvbSgpICogKChCbHVlSnVtcEdhbWUuSVNfU0FGQVJJID8gd2luZG93SGVpZ2h0IDogd2luZG93LnNjcmVlbi5oZWlnaHQpICsgMjAwKSA6IC0yMDAgKyBNYXRoLnJhbmRvbSgpICogMTc1O1xuICAgICAgICAgICAgY29uc3QgeiA9IDIgKyBNYXRoLnJhbmRvbSgpICogMS4xO1xuICAgICAgICAgICAgdGhpcy5mYWtlQmFycmllcnMucHVzaChuZXcgQmFycmllcih4LCB5LCB6LCAwLCAwLCAwLCBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSwgMC4yNSAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFLCBuZXcgU3ByaXRlKHR4dHJbMF0sIHR4dHJbMV0gLyB6LCB0eHRyWzJdIC8geiwgdHh0clszXSwgdHh0cls0XSwgdHh0cls1XSwgdHh0cls2XSksIDE1MCwgaCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGV2aWNlT3JpZW50YXRpb25IYW5kbGVyKGUpIHtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IGUuZ2FtbWE7XG4gICAgICAgIHRoaXMub3JpZW50ZWRNb3ZlbWVudCA9IGUuZ2FtbWEgKiAwLjAyMDQ0NDtcbiAgICB9XG5cbiAgICBzdGF0aWMgcHJlZml4KG9iaiwgbWV0aG9kKSB7XG4gICAgICAgIGxldCBwID0gMCxcbiAgICAgICAgICAgIG0sIHQ7XG4gICAgICAgIHdoaWxlIChwIDwgQmx1ZUp1bXBHYW1lLnBmeC5sZW5ndGggJiYgIW9ialttXSkge1xuICAgICAgICAgICAgbSA9IG1ldGhvZDtcbiAgICAgICAgICAgIGlmIChCbHVlSnVtcEdhbWUucGZ4W3BdID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgbSA9IG0uc3Vic3RyKDAsIDEpLnRvTG93ZXJDYXNlKCkgKyBtLnN1YnN0cigxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG0gPSBCbHVlSnVtcEdhbWUucGZ4W3BdICsgbTtcbiAgICAgICAgICAgIHQgPSB0eXBlb2Ygb2JqW21dO1xuICAgICAgICAgICAgaWYgKHQgIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5wZnggPSBbQmx1ZUp1bXBHYW1lLnBmeFtwXV07XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0ID09IFwiZnVuY3Rpb25cIiA/IG9ialttXSgpIDogb2JqW21dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHArKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBpc01vYmlsZURldmljZSgpIHtcbiAgICAgICAgbGV0IGNoZWNrID0gZmFsc2U7XG4gICAgICAgIChmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgaWYgKC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyBjZXx4ZGF8eGlpbm98YW5kcm9pZHxpcGFkfHBsYXlib29rfHNpbGsvaS50ZXN0KGEpIHx8IC8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pLnRlc3QoYS5zdWJzdHIoMCwgNCkpKSBjaGVjayA9IHRydWVcbiAgICAgICAgfSkobmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudmVuZG9yIHx8IHdpbmRvdy5vcGVyYSk7XG4gICAgICAgIHJldHVybiBjaGVjaztcbiAgICB9XG59XG5cbkJsdWVKdW1wR2FtZS5BVVRPSlVNUCA9IHRydWU7XG5CbHVlSnVtcEdhbWUuREVCVUcgPSB0cnVlO1xuQmx1ZUp1bXBHYW1lLkxFVkVMQ1JFQVRJT04gPSB0cnVlO1xuQmx1ZUp1bXBHYW1lLkxBTkRJTkdfVEhSRVNIT0xEID0gMjU7XG5CbHVlSnVtcEdhbWUuSE9SSVpPTlRBTF9TUEVFRCA9IDExO1xuQmx1ZUp1bXBHYW1lLkdSQVZJVFkgPSAxO1xuQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUgPSAwLjA3ICogd2luZG93LnNjcmVlbi53aWR0aDtcbkJsdWVKdW1wR2FtZS5BUlJPV19TQ0FMRSA9IDAuMDYgKiB3aW5kb3cuc2NyZWVuLndpZHRoO1xuQmx1ZUp1bXBHYW1lLk1PVkVNRU5UID0gMC43NSAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFO1xuQmx1ZUp1bXBHYW1lLkJBQ0tHUk9VTkRfU0hBREVTID0gMTM7XG5CbHVlSnVtcEdhbWUuTUFYX0JBUlJJRVJTID0gMTI7IC8vIG1heGltdW0gYW1vdW50IG9mIChmYWtlKSBiYXJyaWVyc1xuQmx1ZUp1bXBHYW1lLkNPTlRST0xTX01TRyA9ICcnO1xuQmx1ZUp1bXBHYW1lLlRJUCA9ICcnO1xuQmx1ZUp1bXBHYW1lLk1PQklMRV9DT05UUk9MUyA9IEJsdWVKdW1wR2FtZS5pc01vYmlsZURldmljZSgpO1xuQmx1ZUp1bXBHYW1lLkpVTVBfUE9XRVI7XG5CbHVlSnVtcEdhbWUuVEVYVF9TSVpFID0gQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUgKiAwLjU7XG5CbHVlSnVtcEdhbWUuRk9OVDtcbkJsdWVKdW1wR2FtZS5wZnggPSBbXCJ3ZWJraXRcIiwgXCJtb3pcIiwgXCJtc1wiLCBcIm9cIiwgXCJcIl07XG5CbHVlSnVtcEdhbWUuZmllbGQ7XG5CbHVlSnVtcEdhbWUuSVNfU0FGQVJJID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xuICAgIC5jYWxsKHdpbmRvdy5IVE1MRWxlbWVudCkuaW5kZXhPZignQ29uc3RydWN0b3InKSA+IDA7XG4vLyBsb2FkIGFzc2V0c1xuQmx1ZUp1bXBHYW1lLmRpcnRibG9jayA9IFtcbiAgICBudWxsLCAvLyB3aWxsIGJlIHBvcHVsYXRlZCBsYXRlciAtIHNlZSBwcmVsb2FkKClcbiAgICBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSxcbiAgICAwLjI1ICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsXG4gICAgMSxcbiAgICBmYWxzZSxcbiAgICAwLFxuICAgIDBcbl07XG5CbHVlSnVtcEdhbWUuc3Bpa2VzID0gW1xuICAgIG51bGwsIC8vIHdpbGwgYmUgcG9wdWxhdGVkIGxhdGVyIC0gc2VlIHByZWxvYWQoKVxuICAgIDUgLyAzICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsXG4gICAgMC41MTMgKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSxcbiAgICAxLFxuICAgIGZhbHNlLFxuICAgIDAsXG4gICAgMFxuXTtcbkJsdWVKdW1wR2FtZS5sYXZhID0gW1xuICAgIG51bGwsIC8vIHdpbGwgYmUgcG9wdWxhdGVkIGxhdGVyIC0gc2VlIHByZWxvYWQoKVxuICAgIDUgLyAzICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsXG4gICAgMC41NTggKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSxcbiAgICA1LFxuICAgIHRydWUsXG4gICAgMCxcbiAgICAwXG5dO1xuQmx1ZUp1bXBHYW1lLmJyaWNrYmxvY2swID0gW1xuICAgIG51bGwsIC8vIHdpbGwgYmUgcG9wdWxhdGVkIGxhdGVyIC0gc2VlIHByZWxvYWQoKVxuICAgIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFLFxuICAgIDAuMjUgKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSxcbiAgICAxLFxuICAgIGZhbHNlLFxuICAgIDAsXG4gICAgMFxuXTtcbkJsdWVKdW1wR2FtZS5icmlja2Jsb2NrMSA9IFtcbiAgICBudWxsLCAvLyB3aWxsIGJlIHBvcHVsYXRlZCBsYXRlciAtIHNlZSBwcmVsb2FkKClcbiAgICBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSxcbiAgICAwLjI1ICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsXG4gICAgMSxcbiAgICBmYWxzZSxcbiAgICAwLFxuICAgIDBcbl07XG5CbHVlSnVtcEdhbWUuYmx1ZUd1eTAyID0gW1xuICAgIG51bGwsIC8vIHdpbGwgYmUgcG9wdWxhdGVkIGxhdGVyIC0gc2VlIHByZWxvYWQoKVxuICAgIDIgKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSAvIDMsXG4gICAgMiAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFIC8gMyxcbiAgICA3LFxuICAgIHRydWUsXG4gICAgMTgsXG4gICAgMThcbl07XG5CbHVlSnVtcEdhbWUuYmx1ZUd1eTAzID0gW1xuICAgIG51bGwsIC8vIHdpbGwgYmUgcG9wdWxhdGVkIGxhdGVyIC0gc2VlIHByZWxvYWQoKVxuICAgIDIgKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSAvIDMsXG4gICAgMiAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFIC8gMyxcbiAgICAxMCxcbiAgICBmYWxzZSxcbiAgICAxOSxcbiAgICAxOVxuXTtcbkJsdWVKdW1wR2FtZS5ibHVlR3V5MDQgPSBbXG4gICAgbnVsbCwgLy8gd2lsbCBiZSBwb3B1bGF0ZWQgbGF0ZXIgLSBzZWUgcHJlbG9hZCgpXG4gICAgMiAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFIC8gMyxcbiAgICAyICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUgLyAzLFxuICAgIDYsXG4gICAgZmFsc2UsXG4gICAgMTksXG4gICAgMTlcbl07XG5CbHVlSnVtcEdhbWUudHJhbnNpdGlvbiA9IFtcbiAgICBudWxsLCAvLyB3aWxsIGJlIHBvcHVsYXRlZCBsYXRlciAtIHNlZSBwcmVsb2FkKClcbiAgICAyICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUgLyAzLFxuICAgIDIuMiAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFIC8gMyxcbiAgICAxLFxuICAgIGZhbHNlLFxuICAgIDAsXG4gICAgMFxuXTtcbkJsdWVKdW1wR2FtZS5ncmF2ZSA9IFtcbiAgICBudWxsLCAvLyB3aWxsIGJlIHBvcHVsYXRlZCBsYXRlciAtIHNlZSBwcmVsb2FkKClcbiAgICAyICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUgLyAzLFxuICAgIDIuMiAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFIC8gMyxcbiAgICAxLFxuICAgIGZhbHNlLFxuICAgIDAsXG4gICAgMFxuXTtcbiIsImNsYXNzIEZsb29yIHtcbiAgICBjb25zdHJ1Y3RvcihpbWcsIGRpc3BsYXlXaWR0aCwgZGlzcGxheUhlaWdodCwgZnJhbWVzQ291bnQsIGFjdGlvbikge1xuICAgICAgICB0aGlzLnNwcml0ZSA9IG5ldyBTcHJpdGUoXG4gICAgICAgICAgICBpbWcsIGRpc3BsYXlXaWR0aCwgZGlzcGxheUhlaWdodCwgZnJhbWVzQ291bnQsIGFjdGlvbiwgMCwgMCwgMzBcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5yZXBlYXRzID0gTWF0aC5jZWlsKHdpbmRvdy5zY3JlZW4ud2lkdGggLyBkaXNwbGF5V2lkdGgpO1xuICAgIH1cblxuICAgIHNob3cob3JpZ1dpZHRoLCBvcmlnSGVpZ2h0KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZXBlYXRzOyBpKyspXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zaG93KFxuICAgICAgICAgICAgICAgIGkgKiB0aGlzLnNwcml0ZS5kaXNwbGF5V2lkdGgsXG4gICAgICAgICAgICAgICAgKEJsdWVKdW1wR2FtZS5JU19TQUZBUkkgPyB3aW5kb3dIZWlnaHQgOiB3aW5kb3cuc2NyZWVuLmhlaWdodCkgLSB0aGlzLnNwcml0ZS5kaXNwbGF5SGVpZ2h0LFxuICAgICAgICAgICAgICAgIG9yaWdXaWR0aCxcbiAgICAgICAgICAgICAgICBvcmlnSGVpZ2h0XG4gICAgICAgICAgICApO1xuICAgIH1cbn1cbiIsImNsYXNzIFBsYXllciB7XG4gICAgY29uc3RydWN0b3IoeCwgeSkge1xuICAgICAgICB0aGlzLmhpZ2hlc3RZID0geTtcbiAgICAgICAgdGhpcy5idXJpZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zaG91bGRVcGRhdGUgPSB0cnVlO1xuICAgICAgICB0aGlzLmluaXRpYWxQID0ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHlcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wID0ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHlcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52ID0ge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDBcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hID0ge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IEJsdWVKdW1wR2FtZS5HUkFWSVRZXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RhdHMgPSB7XG4gICAgICAgICAgICBzY29yZTogMCxcbiAgICAgICAgICAgIHBpeGVsc1RyYXZlcnNlZDogMCxcbiAgICAgICAgICAgIGJhcnJpZXJzSnVtcGVkOiAwLFxuICAgICAgICAgICAgYWxpdmU6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hY3Rpdml0eSA9IDA7XG4gICAgICAgIHRoaXMuYWN0aXZpdGllcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMjsgaSA8PSA2OyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzW2ldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZpdGllcy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBuZXcgU3ByaXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzW2ldWzBdLCBhcmd1bWVudHNbaV1bMV0sIGFyZ3VtZW50c1tpXVsyXSwgYXJndW1lbnRzW2ldWzNdLCBhcmd1bWVudHNbaV1bNF0sIGFyZ3VtZW50c1tpXVs1XSwgYXJndW1lbnRzW2ldWzZdXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMud2FsayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpdml0eSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmFsbGluZyA9IHRydWU7XG4gICAgfVxuXG4gICAgZmFsbCgpIHtcbiAgICAgICAgdGhpcy5mYWxsaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hLnkgPSBCbHVlSnVtcEdhbWUuR1JBVklUWTtcbiAgICB9XG5cbiAgICBzdGFuZCgpIHtcbiAgICAgICAgdGhpcy5hY3Rpdml0eSA9IDA7XG4gICAgfVxuXG4gICAgZ2V0VHJhdmVyc2VkUGl4ZWxzKCkge1xuICAgICAgICB0aGlzLmhpZ2hlc3RZID0gdGhpcy5oaWdoZXN0WSA+IHRoaXMucC55ID8gdGhpcy5wLnkgOiB0aGlzLmhpZ2hlc3RZO1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh0aGlzLnN0YXRzLnBpeGVsc1RyYXZlcnNlZCArIHRoaXMuaW5pdGlhbFAueSAtIHRoaXMuaGlnaGVzdFkpO1xuICAgIH1cblxuICAgIGdldFNjb3JlKCkge1xuICAgICAgICBjb25zdCBzID0gMyAqIHRoaXMuZ2V0VHJhdmVyc2VkUGl4ZWxzKCkgKyA0MDAgKiAodGhpcy5zdGF0cy5iYXJyaWVyc0p1bXBlZCAtIDEpICogMC43O1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChzKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICgoQmx1ZUp1bXBHYW1lLkFVVE9KVU1QIHx8IGtleUlzRG93bigzMikpICYmICF0aGlzLmZhbGxpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuanVtcCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRzLmFsaXZlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52LnggPSAwO1xuICAgICAgICBpZiAoQmx1ZUp1bXBHYW1lLk1PQklMRV9DT05UUk9MUykgeyAvLyBtb2JpbGUgY29udHJvbHNcbiAgICAgICAgICAgIHRoaXMudi54ID0gQmx1ZUp1bXBHYW1lLkhPUklaT05UQUxfU1BFRUQgKiBvcmllbnRlZE1vdmVtZW50O1xuICAgICAgICB9IGVsc2UgeyAvLyBrZXlib2FyZCBjb250cm9sc1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIChrZXlJc0Rvd24oMzcpIHx8IGtleUlzRG93big2NSkpICE9PSAoa2V5SXNEb3duKDM5KSB8fCBrZXlJc0Rvd24oNjgpKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHMuYWxpdmUpIHRoaXMud2FsaygpO1xuICAgICAgICAgICAgICAgIGlmIChrZXlJc0Rvd24oMzcpIHx8IGtleUlzRG93big2NSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudi54ID0gLUJsdWVKdW1wR2FtZS5IT1JJWk9OVEFMX1NQRUVEO1xuICAgICAgICAgICAgICAgIGVsc2UgdGhpcy52LnggPSBCbHVlSnVtcEdhbWUuSE9SSVpPTlRBTF9TUEVFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnAueCA9IGNvbnN0cmFpbih0aGlzLnAueCArIHRoaXMudi54LCAwLCB3aWR0aCAtIHRoaXMuYWN0aXZpdGllc1t0aGlzLmFjdGl2aXR5XS5kaXNwbGF5V2lkdGgpO1xuICAgICAgICB0aGlzLnAueSA9IGNvbnN0cmFpbih0aGlzLnAueSArIHRoaXMudi55LCAwLCBoZWlnaHQgLSB0aGlzLmFjdGl2aXRpZXNbdGhpcy5hY3Rpdml0eV0uZGlzcGxheUhlaWdodCk7XG4gICAgICAgIHRoaXMudi54ICs9IHRoaXMuYS54O1xuICAgICAgICB0aGlzLnYueSArPSB0aGlzLmEueTtcbiAgICAgICAgaWYgKHRoaXMucC55IDwgaGVpZ2h0IC8gMykge1xuICAgICAgICAgICAgY29uc3QgZXhjZWVkYW5jZSA9IGhlaWdodCAvIDMgLSB0aGlzLnAueTtcbiAgICAgICAgICAgIHRoaXMuc3RhdHMucGl4ZWxzVHJhdmVyc2VkICs9IGV4Y2VlZGFuY2U7XG4gICAgICAgICAgICB0aGlzLnAueSA9IGhlaWdodCAvIDM7XG4gICAgICAgICAgICBmb3IgKGxldCBiID0gMDsgYiA8IGJqLmJhcnJpZXJzLmxlbmd0aDsgYisrKSB7XG4gICAgICAgICAgICAgICAgYmouYmFycmllcnNbYl0ucC55ICs9IGV4Y2VlZGFuY2U7XG4gICAgICAgICAgICAgICAgaWYgKGJqLmJhcnJpZXJzW2JdLnAueSA+PSBoZWlnaHQgLSA0MClcbiAgICAgICAgICAgICAgICAgICAgYmouYmFycmllcnMuc3BsaWNlKGIsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgZmIgPSAwOyBmYiA8IGJqLmZha2VCYXJyaWVycy5sZW5ndGg7IGZiKyspIHtcbiAgICAgICAgICAgICAgICBiai5mYWtlQmFycmllcnNbZmJdLnAueSArPSBleGNlZWRhbmNlIC8gYmouZmFrZUJhcnJpZXJzW2ZiXS5wLno7XG4gICAgICAgICAgICAgICAgaWYgKGJqLmZha2VCYXJyaWVyc1tmYl0ucC55ID49IGhlaWdodCAtIDUwKVxuICAgICAgICAgICAgICAgICAgICBiai5mYWtlQmFycmllcnMuc3BsaWNlKGZiLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmEueSA9IEJsdWVKdW1wR2FtZS5HUkFWSVRZO1xuICAgICAgICBpZiAodGhpcy5wLnkgKyB0aGlzLmFjdGl2aXRpZXNbdGhpcy5hY3Rpdml0eV0uaGVpZ2h0ID49IGhlaWdodCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHMuYWxpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhbmQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHRoaXMuYnVyeSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGIgPSAwOyBiIDwgYmouYmFycmllcnMubGVuZ3RoOyBiKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbGxpZGUoYmouYmFycmllcnNbYl0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnAueSArIHRoaXMuYWN0aXZpdGllc1t0aGlzLmFjdGl2aXR5XS5oZWlnaHQgPj0gYmouYmFycmllcnNbYl0ucC55ICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucC55ICsgdGhpcy5hY3Rpdml0aWVzW3RoaXMuYWN0aXZpdHldLmhlaWdodCAtIGJqLmJhcnJpZXJzW2JdLnAueSA8PSBMQU5ESU5HX1RIUkVTSE9MRCAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnYueSA+IDBcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgYmouYmFycmllcnNbYl0ucC55IC0gdGhpcy5hY3Rpdml0aWVzW3RoaXMuYWN0aXZpdHldLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJqLmJhcnJpZXJzW2JdLnYueFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWJqLmJhcnJpZXJzW2JdLmp1bXBlZCkgdGhpcy5zdGF0cy5iYXJyaWVyc0p1bXBlZCsrO1xuICAgICAgICAgICAgICAgICAgICBiai5iYXJyaWVyc1tiXS5qdW1wZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRzLnNjb3JlID0gdGhpcy5nZXRTY29yZSgpO1xuICAgIH1cblxuICAgIGp1bXAoRikge1xuICAgICAgICBjb25zdCBwb3dlciA9IHR5cGVvZiBGICE9PSAndW5kZWZpbmVkJyA/IEYgOiBCbHVlSnVtcEdhbWUuSlVNUF9QT1dFUjtcbiAgICAgICAgdGhpcy5mYWxsKCk7XG4gICAgICAgIHRoaXMudi55IC09IHBvd2VyO1xuICAgIH1cblxuICAgIGxhbmQoeSwgZFgpIHtcbiAgICAgICAgdGhpcy5mYWxsaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYS55ID0gMDtcbiAgICAgICAgdGhpcy52LnkgPSAwO1xuICAgICAgICBpZiAodHlwZW9mIHkgIT09ICd1bmRlZmluZWQnKSB0aGlzLnAueSA9IHk7XG4gICAgICAgIGlmICh0eXBlb2YgZFggIT09ICd1bmRlZmluZWQnKSB0aGlzLnAueCArPSAyICogZFg7XG4gICAgfVxuXG4gICAgY29sbGlkZSh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucC54ICsgdGhpcy5hY3Rpdml0aWVzW3RoaXMuYWN0aXZpdHldLndpZHRoIC0gdGhpcy5hY3Rpdml0aWVzW3RoaXMuYWN0aXZpdHldLnBhZGRpbmcucmlnaHQgPj0gdGFyZ2V0LnAueCAmJlxuICAgICAgICAgICAgdGhpcy5wLnggKyB0aGlzLmFjdGl2aXRpZXNbdGhpcy5hY3Rpdml0eV0ucGFkZGluZy5sZWZ0IDw9IHRhcmdldC5wLnggKyB0YXJnZXQud2lkdGggJiZcbiAgICAgICAgICAgIHRoaXMucC55ICsgdGhpcy5hY3Rpdml0aWVzW3RoaXMuYWN0aXZpdHldLmhlaWdodCA+PSB0YXJnZXQucC55ICYmXG4gICAgICAgICAgICB0aGlzLnAueSA8PSB0YXJnZXQucC55ICsgdGFyZ2V0LmhlaWdodDtcbiAgICB9XG5cbiAgICBkaWUoKSB7XG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWN0aXZpdHkgPSAzO1xuICAgICAgICB0aGlzLnAueSA9IChCbHVlSnVtcEdhbWUuSVNfU0FGQVJJID8gd2luZG93SGVpZ2h0IDogd2luZG93LnNjcmVlbi5oZWlnaHQpIC0gMyAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFIC8gMztcbiAgICAgICAgdGV4dEFuaW1hdGlvbnMucHVzaChcbiAgICAgICAgICAgIG5ldyBUZXh0QW5pbWF0aW9uKDMsIHdpZHRoICogMC44LCAyICogQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSwgZnJhbWVSYXRlKCkgLyAzLCAyICogZnJhbWVSYXRlKCkgLyAzLCBbMCwgMCwgMF0sIGZyYW1lQ291bnQpXG4gICAgICAgICk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGV4dEFuaW1hdGlvbnMucHVzaChcbiAgICAgICAgICAgICAgICBuZXcgVGV4dEFuaW1hdGlvbigyLCB3aWR0aCAqIDAuOCwgMiAqIEJsdWVKdW1wR2FtZS5URVhUX1NJWkUsIGZyYW1lUmF0ZSgpIC8gMywgMiAqIGZyYW1lUmF0ZSgpIC8gMywgWzAsIDAsIDBdLCBmcmFtZUNvdW50KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGV4dEFuaW1hdGlvbnMucHVzaChcbiAgICAgICAgICAgICAgICBuZXcgVGV4dEFuaW1hdGlvbigxLCB3aWR0aCAqIDAuOCwgMiAqIEJsdWVKdW1wR2FtZS5URVhUX1NJWkUsIGZyYW1lUmF0ZSgpIC8gMywgMiAqIGZyYW1lUmF0ZSgpIC8gMywgWzAsIDAsIDBdLCBmcmFtZUNvdW50KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGF0cy5hbGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5hY3Rpdml0eSA9IDI7XG4gICAgICAgICAgICB0aGlzLmp1bXAoMi4yICogSlVNUF9QT1dFUik7XG4gICAgICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICB0ZXh0QW5pbWF0aW9ucy5wdXNoKG5ldyBUZXh0QW5pbWF0aW9uKFwiU0VDT05EIENIQU5DRSFcIiwgd2lkdGggKiAwLjgsIDEuNSAqIEJsdWVKdW1wR2FtZS5URVhUX1NJWkUsIGZyYW1lUmF0ZSgpIC8gMywgMiAqIGZyYW1lUmF0ZSgpLCBbMCwgMCwgMF0sIGZyYW1lQ291bnQpKTtcbiAgICAgICAgfSwgMzIwMCk7XG4gICAgfVxuXG4gICAgcmVzdXJyZWN0KCkge1xuICAgICAgICB0aGlzLnN0YXRzLmFsaXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hY3Rpdml0eSA9IDA7XG4gICAgfVxuXG4gICAgYnVyeSgpIHtcbiAgICAgICAgLy8gcHVzaFJhbmsodGhpcy5zdGF0cy5zY29yZSk7XG4gICAgICAgIC8vIGdldFJhbmtzKCk7XG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnVyeWluZyA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucC55ICs9IDI7XG4gICAgICAgICAgICBpZiAodGhpcy5wLnkgPj0gKEJsdWVKdW1wR2FtZS5JU19TQUZBUkkgPyB3aW5kb3dIZWlnaHQgOiB3aW5kb3cuc2NyZWVuLmhlaWdodCkgLSBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSAvIDMpIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuYnVyeWluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpdml0eSA9IDQ7XG4gICAgICAgICAgICAgICAgdGhpcy5idXJ5aW5nID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnAueS0tO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wLnkgPD0gKEJsdWVKdW1wR2FtZS5JU19TQUZBUkkgPyB3aW5kb3dIZWlnaHQgOiB3aW5kb3cuc2NyZWVuLmhlaWdodCkgLSAyLjcgKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSAvIDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5idXJ5aW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbmltYXRpb25zLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRleHRBbmltYXRpb24oXCJHQU1FIE9WRVIhXCIsIHdpZHRoICogMC44LCAxLjUgKiB0eHRTaXplLCBmcmFtZVJhdGUoKSAvIDMsIEluZmluaXR5LCBbMCwgMCwgMF0sIGZyYW1lQ291bnQsIHdpZHRoIC8gMiwgMTAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0TW9kZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVyaWVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDEwMDAgLyBmcmFtZVJhdGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDEwMDAgLyBmcmFtZVJhdGUoKSk7XG4gICAgfVxufVxuIiwiY2xhc3MgU3ByaXRlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgaW1nLFxuICAgICAgICBkaXNwbGF5V2lkdGgsIGRpc3BsYXlIZWlnaHQsXG4gICAgICAgIGZyYW1lc0NvdW50LFxuICAgICAgICBhY3Rpb24sXG4gICAgICAgIHBhZGRpbmdMZWZ0LCBwYWRkaW5nUmlnaHQsXG4gICAgICAgIGZwc1NjYWxlXG4gICAgKSB7XG4gICAgICAgIHRoaXMuaW1nID0gaW1nO1xuICAgICAgICB0aGlzLmRpc3BsYXlXaWR0aCA9IGRpc3BsYXlXaWR0aDtcbiAgICAgICAgdGhpcy5kaXNwbGF5SGVpZ2h0ID0gZGlzcGxheUhlaWdodDtcbiAgICAgICAgdGhpcy5mcmFtZXNDb3VudCA9IGZyYW1lc0NvdW50O1xuICAgICAgICB0aGlzLmFjdGlvbiA9IGFjdGlvbjtcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHRoaXMuZnBzU2NhbGUgPSB0eXBlb2YgZnBzU2NhbGUgPT09ICd1bmRlZmluZWQnID8gMiA6IGZwc1NjYWxlO1xuICAgICAgICB0aGlzLnBhZGRpbmcgPSB7XG4gICAgICAgICAgICBsZWZ0OiB0eXBlb2YgcGFkZGluZ0xlZnQgPT09ICd1bmRlZmluZWQnID8gMCA6IHBhZGRpbmdMZWZ0LFxuICAgICAgICAgICAgcmlnaHQ6IHR5cGVvZiBwYWRkaW5nUmlnaHQgPT09ICd1bmRlZmluZWQnID8gMCA6IHBhZGRpbmdSaWdodFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHNob3coeCwgeSwgb3JpZ1dpZHRoLCBvcmlnSGVpZ2h0KSB7XG4gICAgICAgIGxldCBmcmFtZUluZGV4ID1cbiAgICAgICAgICAgIE1hdGguZmxvb3IodGhpcy5jb3VudCAvIHRoaXMuZnBzU2NhbGUpICUgdGhpcy5mcmFtZXNDb3VudDtcbiAgICAgICAgY29uc3Qgc3JjV2lkdGggPSB0eXBlb2Ygb3JpZ1dpZHRoID09PSAndW5kZWZpbmVkJyA/IHRoaXMuZGlzcGxheVdpZHRoIDogb3JpZ1dpZHRoO1xuICAgICAgICBjb25zdCBzcmNIZWlnaHQgPSB0eXBlb2Ygb3JpZ0hlaWdodCA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLmRpc3BsYXlIZWlnaHQgOiBvcmlnSGVpZ2h0O1xuICAgICAgICB0aGlzLmNvdW50Kys7XG4gICAgICAgIC8vIHBlcmZvcm0gdGhlIGFjdGlvbiAoc3VjaCBhcyBibGlua2luZylcbiAgICAgICAgaWYgKHRoaXMuYWN0aW9uICYmIGZyYW1lSW5kZXggPT09IHRoaXMuZnJhbWVzQ291bnQgLSAxICYmIE1hdGgucmFuZG9tKCkgPiAwLjI1KSB7XG4gICAgICAgICAgICBmcmFtZUluZGV4ID0gMDtcbiAgICAgICAgICAgIHRoaXMuY291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBpbWFnZShcbiAgICAgICAgICAgIHRoaXMuaW1nLFxuICAgICAgICAgICAgeCwgeSxcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheVdpZHRoLCB0aGlzLmRpc3BsYXlIZWlnaHQsXG4gICAgICAgICAgICBmcmFtZUluZGV4ICogc3JjV2lkdGgsIDAsXG4gICAgICAgICAgICBzcmNXaWR0aCwgc3JjSGVpZ2h0XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiY2xhc3MgVGV4dCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHRleHQsIGJlZ2luU2l6ZSwgZmluYWxTaXplLCB0cmFuc2l0aW9uLCBkZWxheSwgY29sb3VyLCBjcmVhdGlvbiwgeCwgeVxuICAgICkge1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLmZpbmFsU2l6ZSA9IGZpbmFsU2l6ZTtcbiAgICAgICAgdGhpcy5jdXJyZW50U2l6ZSA9IGJlZ2luU2l6ZSAtIChiZWdpblNpemUgJSBmaW5hbFNpemUpOyAvLyBUT0RPOiBjaGVjayB0aGlzXG4gICAgICAgIHRoaXMuZGVjcmVhc2UgPSAodGhpcy5jdXJyZW50U2l6ZSAtIHRoaXMuZmluYWxTaXplKSAvIHRyYW5zaXRpb247XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbiA9IHRyYW5zaXRpb247XG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICAgICAgdGhpcy5jb2xvdXIgPSBjb2xvdXI7XG4gICAgICAgIHRoaXMuY3JlYXRpb24gPSBjcmVhdGlvbjtcbiAgICAgICAgdGhpcy54ID0gdHlwZW9mIHggPT09ICd1bmRlZmluZWQnID8gd2lkdGggLyAyIDogeDtcbiAgICAgICAgdGhpcy55ID0gdHlwZW9mIHkgPT09ICd1bmRlZmluZWQnID8gaGVpZ2h0IC8gMiA6IHk7XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50U2l6ZSA+IHRoaXMuZmluYWxTaXplKSB0aGlzLmN1cnJlbnRTaXplIC09IHRoaXMuZGVjcmVhc2U7XG4gICAgfVxuXG4gICAgc2hvdygpIHtcbiAgICAgICAgdGV4dFNpemUodGhpcy5jdXJyZW50U2l6ZSk7XG4gICAgICAgIHRleHRBbGlnbihDRU5URVIpO1xuICAgICAgICBmaWxsKHRoaXMuY29sb3VyKTtcbiAgICAgICAgc3Ryb2tlKDI1NSk7XG4gICAgICAgIHN0cm9rZVdlaWdodCg2KTtcbiAgICAgICAgdGV4dCh0aGlzLnRleHQsIHRoaXMueCwgdGhpcy55KTtcbiAgICB9XG5cbiAgICBzaG91bGRCZURlbGV0ZWQoKSB7XG4gICAgICAgIHJldHVybiBmcmFtZUNvdW50IDw9IHRoaXMudHJhbnNpdGlvbiArIHRoaXMuZGVsYXkgKyB0aGlzLmNyZWF0aW9uO1xuICAgIH1cbn1cbiIsImxldCBiajtcblxuZnVuY3Rpb24gcHJlbG9hZCgpIHtcbiAgICAvLyBpbWFnZXNcbiAgICBCbHVlSnVtcEdhbWUuZGlydGJsb2NrWzBdID0gbG9hZEltYWdlKCdhc3NldHMvaW1nL2RpcnQwLnBuZycpO1xuICAgIEJsdWVKdW1wR2FtZS5zcGlrZXNbMF0gPSBsb2FkSW1hZ2UoJ2Fzc2V0cy9pbWcvc3Bpa2VzLnBuZycpO1xuICAgIEJsdWVKdW1wR2FtZS5icmlja2Jsb2NrMFswXSA9IGxvYWRJbWFnZSgnYXNzZXRzL2ltZy9icmlja3MwLnBuZycpO1xuICAgIEJsdWVKdW1wR2FtZS5icmlja2Jsb2NrMVswXSA9IGxvYWRJbWFnZSgnYXNzZXRzL2ltZy9icmlja3MxLnBuZycpO1xuICAgIEJsdWVKdW1wR2FtZS50cmFuc2l0aW9uWzBdID0gbG9hZEltYWdlKCdhc3NldHMvaW1nL3RyYW5zaXRpb24ucG5nJyk7XG4gICAgQmx1ZUp1bXBHYW1lLmdyYXZlWzBdID0gbG9hZEltYWdlKCdhc3NldHMvaW1nL2dyYXZlLnBuZycpO1xuICAgIC8vIHNwcml0ZXNcbiAgICBCbHVlSnVtcEdhbWUuYmx1ZUd1eTAyWzBdID0gbG9hZEltYWdlKCdhc3NldHMvaW1nL3Nwcml0ZXMvYm91bmNpbmcucG5nJyk7XG4gICAgQmx1ZUp1bXBHYW1lLmJsdWVHdXkwM1swXSA9IGxvYWRJbWFnZSgnYXNzZXRzL2ltZy9zcHJpdGVzL3dhbGtpbmcucG5nJyk7XG4gICAgQmx1ZUp1bXBHYW1lLmJsdWVHdXkwNFswXSA9IGxvYWRJbWFnZSgnYXNzZXRzL2ltZy9zcHJpdGVzL3VuZGVhZC5wbmcnKTtcbiAgICBCbHVlSnVtcEdhbWUubGF2YVswXSA9IGxvYWRJbWFnZSgnYXNzZXRzL2ltZy9zcHJpdGVzL2xhdmEucG5nJyk7XG4gICAgLy8gZm9udHNcbiAgICBCbHVlSnVtcEdhbWUuRk9OVCA9IGxvYWRGb250KCdhc3NldHMvZm9udHMvcm9ib3QwMS50dGYnKTtcbn1cblxuZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgLy8gZmluaXNoIHVwIGxvYWRpbmcgdGhlIGFzc2V0c1xuICAgIC8vIGltYWdlc1xuICAgIEJsdWVKdW1wR2FtZS5kaXJ0YmxvY2tbMF0ubG9hZFBpeGVscygpO1xuICAgIEJsdWVKdW1wR2FtZS5zcGlrZXNbMF0ubG9hZFBpeGVscygpO1xuICAgIEJsdWVKdW1wR2FtZS5icmlja2Jsb2NrMFswXS5sb2FkUGl4ZWxzKCk7XG4gICAgQmx1ZUp1bXBHYW1lLmJyaWNrYmxvY2sxWzBdLmxvYWRQaXhlbHMoKTtcbiAgICBCbHVlSnVtcEdhbWUudHJhbnNpdGlvblswXS5sb2FkUGl4ZWxzKCk7XG4gICAgQmx1ZUp1bXBHYW1lLmdyYXZlWzBdLmxvYWRQaXhlbHMoKTtcbiAgICAvLyBzcHJpdGVzXG4gICAgQmx1ZUp1bXBHYW1lLmJsdWVHdXkwMlswXS5sb2FkUGl4ZWxzKCk7XG4gICAgQmx1ZUp1bXBHYW1lLmJsdWVHdXkwM1swXS5sb2FkUGl4ZWxzKCk7XG4gICAgQmx1ZUp1bXBHYW1lLmJsdWVHdXkwNFswXS5sb2FkUGl4ZWxzKCk7XG4gICAgQmx1ZUp1bXBHYW1lLmxhdmFbMF0ubG9hZFBpeGVscygpO1xuICAgIC8vIGNoYW5nZSBiZWhhdmlvdXIgZGVwZW5kaW5nIG9uIGJyb3dzZXJcbiAgICBpZiAoQmx1ZUp1bXBHYW1lLklTX1NBRkFSSSkge1xuICAgICAgICBjcmVhdGVDYW52YXMod2luZG93LnNjcmVlbi53aWR0aCwgd2luZG93SGVpZ2h0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjcmVhdGVDYW52YXMod2luZG93LnNjcmVlbi53aWR0aCwgd2luZG93LnNjcmVlbi5oZWlnaHQpO1xuICAgIH1cbiAgICBCbHVlSnVtcEdhbWUuZmllbGQgPVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlZmF1bHRDYW52YXMwXCIpLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAvLyBpbml0aWFsaXNlIGdhbWUgaW5zdGFuY2VcbiAgICBiaiA9IG5ldyBCbHVlSnVtcEdhbWUoKTtcbiAgICBjb2xvck1vZGUoUkdCKTtcbiAgICBiai5jb2xvdXJzID0gW1xuICAgICAgICBjb2xvcig2NCwgMTEyLCAxODQpLFxuICAgICAgICBjb2xvcigxOTEsIDIxOCwgMjM1KSxcbiAgICAgICAgY29sb3IoOTAsIDAsIDApLFxuICAgICAgICBjb2xvcigyMDAsIDAsIDApXG4gICAgXTtcbiAgICAvLyBrZWVwIHNwZWVkIHNpbWlsYXIgYWNyb3NzIGRpZmZlcmVudCBkZXZpY2VzXG4gICAgaWYgKEJsdWVKdW1wR2FtZS5NT0JJTEVfQ09OVFJPTFMgPT09IDApIGZyYW1lUmF0ZSgzMCk7XG4gICAgZWxzZSBmcmFtZVJhdGUoMjcpO1xuICAgIC8vIGZpeCBmb250XG4gICAgdGV4dEZvbnQoQmx1ZUp1bXBHYW1lLkZPTlQpO1xufVxuXG5mdW5jdGlvbiBkcmF3KCkge1xuICAgIGJhY2tncm91bmQoNTEpO1xuICAgIG5vU3Ryb2tlKCk7XG4gICAgLy8gZHJhdyBzaGFkZWQgYmFja2dyb3VuZFxuICAgIGZvciAobGV0IGJnID0gMDsgYmcgPCAxOyBiZyArPSAxIC8gQmx1ZUp1bXBHYW1lLkJBQ0tHUk9VTkRfU0hBREVTKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IGJqLnBsYXllci5zdGF0cy5hbGl2ZSA/IDAgOiAyOyAvLyAwMTphbGl2ZSwgMjM6ZGVhZFxuICAgICAgICBjb25zdCBzaGFkZSA9IGxlcnBDb2xvcihcbiAgICAgICAgICAgIGJqLmNvbG91cnNbb3JpZ2luXSwgYmouY29sb3Vyc1tvcmlnaW4gKyAxXSwgYmdcbiAgICAgICAgKTtcbiAgICAgICAgZmlsbChzaGFkZSk7XG4gICAgICAgIHJlY3QoMCwgaGVpZ2h0ICogYmcsIHdpZHRoLCBoZWlnaHQgKiAoYmcgKyAxKSk7XG4gICAgfVxuICAgIC8vIGRyYXcgdGhlIGZha2UgYmFycmllcnNcbiAgICBsZXQgaGlnaGVzdEZha2UgPSBiai5mYWtlQmFycmllcnNbMF07XG4gICAgZm9yIChsZXQgZmIgPSAwOyBmYiA8IGJqLmZha2VCYXJyaWVycy5sZW5ndGg7IGZiKyspIHtcbiAgICAgICAgaWYgKGJqLmZha2VCYXJyaWVyc1tmYl0ucC55IDwgaGlnaGVzdEZha2UucC55KVxuICAgICAgICAgICAgaGlnaGVzdEZha2UgPSBiai5mYWtlQmFycmllcnNbZmJdOyAvLyBUT0RPOiBpcyB0aGlzIHJpZ2h0P1xuICAgICAgICBiai5mYWtlQmFycmllcnNbZmJdLnNob3coKTtcbiAgICB9XG4gICAgaWYgKGJqLmZha2VCYXJyaWVycy5sZW5ndGggPCBCbHVlSnVtcEdhbWUuTUFYX0JBUlJJRVJTKVxuICAgICAgICBiai5waWNrTmV3SGlnaGVzdChcbiAgICAgICAgICAgIGhpZ2hlc3RGYWtlLnAsXG4gICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgYmouZmFrZUJhcnJpZXJzLmxlbmd0aCA8IEJsdWVKdW1wR2FtZS5NQVhfQkFSUklFUlMgLSAyXG4gICAgICAgICk7XG4gICAgLy8gZHJhdyB0aGUgcmVhbCBiYXJyaWVyc1xuICAgIGxldCBoaWdoZXN0ID0gYmouYmFycmllcnNbMF07XG4gICAgZm9yIChsZXQgYiA9IDA7IGIgPCBiai5iYXJyaWVycy5sZW5ndGg7IGIrKykge1xuICAgICAgICBpZiAoYmouYmFycmllcnNbYl0ucC55IDwgaGlnaGVzdC5wLnkpXG5cbiAgICAgICAgICAgIGhpZ2hlc3QgPSBiai5iYXJyaWVyc1tiXTsgLy8gVE9ETzogaXMgdGhpcyByaWdodD9cbiAgICAgICAgYmouYmFycmllcnNbYl0uc2hvdygpO1xuICAgIH1cbiAgICBpZiAoaGlnaGVzdC5wLnkgPiAtMTAwICYmIEJsdWVKdW1wR2FtZS5MRVZFTENSRUFUSU9OKVxuICAgICAgICBiai5waWNrTmV3SGlnaGVzdChoaWdoZXN0LnAsIGZhbHNlKTtcbiAgICAvLyBleHRyYSBpbmZvcm1hdGlvblxuICAgIGlmIChCbHVlSnVtcEdhbWUuREVCVUcpIHtcbiAgICAgICAgdGV4dEFsaWduKFJJR0hUKTtcbiAgICAgICAgdGV4dFNpemUoMTgpO1xuICAgICAgICBzdHJva2UoMCk7XG4gICAgICAgIGZpbGwoMjU1LCAyNTUsIDApO1xuICAgICAgICB0ZXh0KFwiU2NvcmU6IFwiICsgYmoucGxheWVyLmdldFNjb3JlKCksIHdpZHRoIC0gNjAsIDYwKTtcbiAgICAgICAgdGV4dChcIkJhcnJpZXJzOiBcIiArIGJqLnBsYXllci5zdGF0cy5iYXJyaWVyc0p1bXBlZCwgd2lkdGggLSA2MCwgOTApO1xuICAgICAgICB0ZXh0KFwiUGl4ZWxzIHRyYXZlcnNlZCB2ZXJ0aWNhbGx5OiBcIiArIGJqLnBsYXllci5nZXRUcmF2ZXJzZWRQaXhlbHMoKSwgd2lkdGggLSA2MCwgMTIwKTtcbiAgICAgICAgdGV4dChcIkZQUzogXCIgKyBNYXRoLnJvdW5kKGZyYW1lUmF0ZSgpKSwgd2lkdGggLSA2MCwgMTUwKTtcbiAgICAgICAgdGV4dChcIkNvbnRyb2xzOiBcIiArIEJsdWVKdW1wR2FtZS5NT0JJTEVfQ09OVFJPTFMsIHdpZHRoIC0gNjAsIDIxMCk7XG4gICAgICAgIHRleHQoXCJyb3RhdGlvbjogXCIgKyBiai5yb3RhdGlvbi50b0ZpeGVkKDMpLCB3aWR0aCAtIDYwLCAyNDApO1xuICAgICAgICB0ZXh0KFwib3JpZW50ZWRNb3ZlbWVudDogXCIgKyBiai5vcmllbnRlZE1vdmVtZW50LnRvRml4ZWQoMyksIHdpZHRoIC0gNjAsIDI3MCk7XG4gICAgICAgIHRleHQoXCJiYXJyaWVyc0xlbmd0aDogXCIgKyBiai5mYWtlQmFycmllcnMubGVuZ3RoLCB3aWR0aCAtIDYwLCAzMDApO1xuICAgICAgICB0ZXh0KFwid2lkdGg6IFwiICsgd2luZG93LnNjcmVlbi53aWR0aCwgd2lkdGggLSA2MCwgMzMwKTtcbiAgICAgICAgdGV4dChcImhlaWdodDogXCIgKyAoQmx1ZUp1bXBHYW1lLklTX1NBRkFSSSA/IHdpbmRvd0hlaWdodCA6IHdpbmRvdy5zY3JlZW4uaGVpZ2h0KSwgd2lkdGggLSA2MCwgMzYwKTtcbiAgICAgICAgdGV4dChcIm1vdXNlWCwgbW91c2VZOiBcIiArIG1vdXNlWCArIFwiLCBcIiArIG1vdXNlWSwgd2lkdGggLSA2MCwgMzkwKTtcbiAgICB9XG4gICAgLy8gc2hvdyBjaGFyYWN0ZXIgcGVyZm9ybWluZyBjdXJyZW50IGFjdGl2aXR5XG4gICAgYmoucGxheWVyLmFjdGl2aXRpZXNbYmoucGxheWVyLmFjdGl2aXR5XS5zaG93KFxuICAgICAgICBiai5wbGF5ZXIucC54LCBiai5wbGF5ZXIucC55LFxuICAgICAgICAxMDAsIDEwMFxuICAgICk7XG4gICAgLy8gZGlzcGxheSB0aGUgZmxvb3JcbiAgICBpZiAoYmoucGxheWVyLnN0YXRzLmFsaXZlKSBCbHVlSnVtcEdhbWUuc3Bpa2VzRmxvb3Iuc2hvdygxNTAsIDQ2KTtcbiAgICBlbHNlIEJsdWVKdW1wR2FtZS5sYXZhRmxvb3Iuc2hvdygxNTAsIDUwKTtcbiAgICAvLyBzaG93IGFueSB0ZXh0IFwiYW5pbWF0aW9uc1wiXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiai50ZXh0QW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYmoudGV4dEFuaW1hdGlvbnNbaV0uc2hvdWxkQmVEZWxldGVkKCkpIHtcbiAgICAgICAgICAgIGJqLnRleHRBbmltYXRpb25zW2ldLnVwZGF0ZSgpO1xuICAgICAgICAgICAgYmoudGV4dEFuaW1hdGlvbnNbaV0uc2hvdygpO1xuICAgICAgICB9IGVsc2UgYmoudGV4dEFuaW1hdGlvbnNbaV0uc3BsaWNlKGksIDEpO1xuICAgIH1cbiAgICAvLyBzaG93IHN0dWZmIGRlcGVuZGluZyBvbiBjdXJyZW50IGdhbWVNb2RlIFRPRE86IHJlZmFjdG9yIHRoaXNcbiAgICBzd2l0Y2ggKGJqLmdhbWVNb2RlKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGlmICghQmx1ZUp1bXBHYW1lLklTX1NBRkFSSSAmJiAvLyBUT0RPOiBzcGxpdCBvZmZcbiAgICAgICAgICAgICAgICAhQmx1ZUp1bXBHYW1lLnByZWZpeChkb2N1bWVudCwgXCJGdWxsU2NyZWVuXCIpICYmXG4gICAgICAgICAgICAgICAgIUJsdWVKdW1wR2FtZS5wcmVmaXgoZG9jdW1lbnQsIFwiSXNGdWxsU2NyZWVuXCIpKSB7XG4gICAgICAgICAgICAgICAgLy8gbm90IGluIGZ1bGxzY3JlZW4gbW9kZVxuICAgICAgICAgICAgICAgIGJqLnNldE1vZGUoLTEpO1xuICAgICAgICAgICAgICAgIGJqLmZ1bGxTY3JlZW5BY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmouYmFycmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBiai5iYXJyaWVyc1tpXS51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiai5wbGF5ZXIuc2hvdWxkVXBkYXRlICYmIGJqLmZ1bGxTY3JlZW5BY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBiai5wbGF5ZXIudXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAtMTpcbiAgICAgICAgICAgIG5vU3Ryb2tlKCk7XG4gICAgICAgICAgICBmaWxsKCdyZ2JhKDAsMCwwLDAuOCknKTsgLy8gVE9ETzogaXMgdGhlcmUgYW4gYWN0dWFsIGZ1bmN0aW9uIGZvciB0aGlzP1xuICAgICAgICAgICAgcmVjdCgwLCAwLCB3aW5kb3cuc2NyZWVuLndpZHRoLCAoQmx1ZUp1bXBHYW1lLklTX1NBRkFSSSA/IHdpbmRvd0hlaWdodCA6IHdpbmRvdy5zY3JlZW4uaGVpZ2h0KSk7XG4gICAgICAgICAgICBmaWxsKDIwMCwgMjAwLCAwKTtcbiAgICAgICAgICAgIHN0cm9rZVdlaWdodChCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEUgKiAwLjEyNSk7XG4gICAgICAgICAgICBzdHJva2UoMjU1KTtcbiAgICAgICAgICAgIC8vIHRla2VuIGVlbiBwaWpsXG4gICAgICAgICAgICBwdXNoKCk7XG4gICAgICAgICAgICB0cmFuc2xhdGUoMTAwLCAzMCk7XG4gICAgICAgICAgICBiZWdpblNoYXBlKCk7XG4gICAgICAgICAgICB2ZXJ0ZXgoMCwgMCk7XG4gICAgICAgICAgICB2ZXJ0ZXgoXG4gICAgICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLkFSUk9XX1NDQUxFICogMS4wNSxcbiAgICAgICAgICAgICAgICAwLjI3ICogQmx1ZUp1bXBHYW1lLkFSUk9XX1NDQUxFXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdmVydGV4KFxuICAgICAgICAgICAgICAgIDAuNjIgKiBCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEUsXG4gICAgICAgICAgICAgICAgMC41NSAqIEJsdWVKdW1wR2FtZS5BUlJPV19TQ0FMRVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHZlcnRleChcbiAgICAgICAgICAgICAgICAxLjY1ICogQmx1ZUp1bXBHYW1lLkFSUk9XX1NDQUxFLFxuICAgICAgICAgICAgICAgIDIuMDg1ICogQmx1ZUp1bXBHYW1lLkFSUk9XX1NDQUxFXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdmVydGV4KFxuICAgICAgICAgICAgICAgIDEuMTggKiBCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEUsXG4gICAgICAgICAgICAgICAgMi40MSAqIEJsdWVKdW1wR2FtZS5BUlJPV19TQ0FMRVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHZlcnRleChcbiAgICAgICAgICAgICAgICAwLjE4ICogQmx1ZUp1bXBHYW1lLkFSUk9XX1NDQUxFLFxuICAgICAgICAgICAgICAgIDAuNzkgKiBCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB2ZXJ0ZXgoXG4gICAgICAgICAgICAgICAgLTAuMjUgKiBCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEUsXG4gICAgICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLkFSUk9XX1NDQUxFXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZW5kU2hhcGUoQ0xPU0UpO1xuICAgICAgICAgICAgcG9wKCk7XG4gICAgICAgICAgICB0ZXh0QWxpZ24oTEVGVCk7XG4gICAgICAgICAgICB0ZXh0U2l6ZShCbHVlSnVtcEdhbWUuVEVYVF9TSVpFKTtcbiAgICAgICAgICAgIGZpbGwoMCk7XG4gICAgICAgICAgICB0ZXh0KFwiUExBWVwiLCAxMDAsIDMwICsgMyAqIEJsdWVKdW1wR2FtZS5BUlJPV19TQ0FMRSk7XG4gICAgICAgICAgICBzdHJva2VXZWlnaHQoQmx1ZUp1bXBHYW1lLkFSUk9XX1NDQUxFICogMC4wNjc1KTtcbiAgICAgICAgICAgIHRleHRTaXplKDAuNSAqIEJsdWVKdW1wR2FtZS5URVhUX1NJWkUpO1xuICAgICAgICAgICAgdGV4dChCbHVlSnVtcEdhbWUuQ09OVFJPTFNfTVNHLCA0MCwgNCAqIEJsdWVKdW1wR2FtZS5BUlJPV19TQ0FMRSk7XG4gICAgICAgICAgICB0ZXh0KEJsdWVKdW1wR2FtZS5USVAsIDQwLCA0LjcgKiBCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIG5vU3Ryb2tlKCk7XG4gICAgICAgICAgICBmaWxsKFwicmdiYSgwLCAwLCAwLCAwLjQpXCIpOyAvLyBUT0RPOiBpcyB0aGVyZSBhbiBhY3R1YWwgZnVuY3Rpb24gZm9yIHRoaXM/XG4gICAgICAgICAgICByZWN0KDAsIDAsIHdpbmRvdy5zY3JlZW4ud2lkdGgsIChCbHVlSnVtcEdhbWUuSVNfU0FGQVJJID8gd2luZG93SGVpZ2h0IDogd2luZG93LnNjcmVlbi5oZWlnaHQpKTtcbiAgICAgICAgICAgIGNvbnN0IHhvZmYgPSB3aWR0aCAvIDIgLSA0Ljg3ICogQmx1ZUp1bXBHYW1lLlRFWFRfU0laRTtcbiAgICAgICAgICAgIGlmICghYmoucmV0dXJuZWQpIHtcbiAgICAgICAgICAgICAgICB0ZXh0U2l6ZShCbHVlSnVtcEdhbWUuVEVYVF9TSVpFKTtcbiAgICAgICAgICAgICAgICB0ZXh0QWxpZ24oQ0VOVEVSKTtcbiAgICAgICAgICAgICAgICBpZiAoZmxvb3IoZnJhbWVDb3VudCAvIDIpICUgNCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0KCdsb2FkaW5nJywgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZsb29yKGZyYW1lQ291bnQgLyAyKSAlIDQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCgnbG9hZGluZy4nLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmxvb3IoZnJhbWVDb3VudCAvIDIpICUgNCA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0KCdsb2FkaW5nLi4nLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQoJ2xvYWRpbmcuLi4nLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmlsbCgyNTUsIDEyOCwgMCk7XG4gICAgICAgICAgICAgICAgdGV4dFNpemUoQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSk7XG4gICAgICAgICAgICAgICAgdGV4dEFsaWduKENFTlRFUik7XG4gICAgICAgICAgICAgICAgdGV4dFNpemUoMC41ICogQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSk7XG4gICAgICAgICAgICAgICAgdGV4dEFsaWduKExFRlQpO1xuICAgICAgICAgICAgICAgIHRleHQoJyMnLCB4b2ZmLCAxLjcgKiBCbHVlSnVtcEdhbWUuVEVYVF9TSVpFICsgMTE1KTtcbiAgICAgICAgICAgICAgICB0ZXh0KCdQbGF5ZXInLCB4b2ZmICsgMS4yICogQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSwgMS43ICogQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSArIDExNSk7XG4gICAgICAgICAgICAgICAgdGV4dCgnU2NvcmUnLCB4b2ZmICsgOCAqIEJsdWVKdW1wR2FtZS5URVhUX1NJWkUsIDEuNyAqIEJsdWVKdW1wR2FtZS5URVhUX1NJWkUgKyAxMTUpO1xuICAgICAgICAgICAgICAgIGZpbGwoMjU1LCAyNTUsIDI1NSk7XG4gICAgICAgICAgICAgICAgLy8gc2hvd1JhbmtzKHhvZmYpO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICAvLyBzaG93IHBsYXllcidzIHNjb3JlXG4gICAgZmlsbCgwKTtcbiAgICBzdHJva2VXZWlnaHQoMyk7XG4gICAgc3Ryb2tlKDI1NSk7XG4gICAgdGV4dEFsaWduKENFTlRFUik7XG4gICAgdGV4dFNpemUoMC45ICogQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSk7XG4gICAgdGV4dChiai5wbGF5ZXIuc3RhdHMuc2NvcmUsIHdpZHRoIC8gMiwgMC44ICogQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSk7XG4gICAgLy8gc2hvdyBjcmVkaXRzXG4gICAgdGV4dEFsaWduKFJJR0hUKTtcbiAgICB0ZXh0Rm9udCgnYXJpYWwnKTtcbiAgICB0ZXh0U2l6ZSgwLjMgKiBCbHVlSnVtcEdhbWUuVEVYVF9TSVpFKTtcbiAgICBub1N0cm9rZSgpO1xuICAgIHRleHQoJ1xcdTAwQTknLCB3aWR0aCAtIDAuMyAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFIC0gMiAqIEJsdWVKdW1wR2FtZS5URVhUX1NJWkUsIGhlaWdodCAvIDIpO1xuICAgIHRleHRGb250KEJsdWVKdW1wR2FtZS5GT05UKTtcbiAgICB0ZXh0U2l6ZSgwLjIgKiBCbHVlSnVtcEdhbWUuVEVYVF9TSVpFKTtcbiAgICB0ZXh0KCd8IDIwMTYgfCBOb3V0IEtsZWVmJywgd2lkdGggLSAwLjMgKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSwgaGVpZ2h0IC8gMik7XG59XG4iXX0=
