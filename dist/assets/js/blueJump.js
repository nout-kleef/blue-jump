class Barrier{constructor(e,t,i,a,s,r,m,h,l,o,u){this.texture=l,this.jumped=!1,this.origW=o,this.origH=u,this.initialP={x:e,y:t,z:i},this.p={x:e,y:t,z:i},this.v={x:a,y:s,z:r},this.width=m/i,this.height=h/i}show(){this.texture.show(this.p.x,this.p.y,this.origW,this.origH)}update(){this.p.x+=this.v.x,this.p.y+=this.v.y,this.p.z+=this.v.z,this.v.x=Math.abs(this.p.x-this.initialP.x)>BlueJumpGame.MOVEMENT?-1*this.v.x:this.v.x}}class BlueJumpGame{constructor(){this.gameMode,this.dirtBlock,this.brickBlock,this.barriers=[],this.fakeBarriers=[],this.textAnimations=[],this.colours=[],this.orientedMovement=0,this.rotation=0,this.highest=0,this.fullScreenActive=!1,this.returned=!1,BlueJumpGame.MOBILE_CONTROLS?(window.addEventListener("deviceorientation",this.deviceOrientationHandler),BlueJumpGame.BARRIER_SCALE*=2.5,BlueJumpGame.MOVEMENT*=2.5,BlueJumpGame.ARROW_SCALE*=2.5,BlueJumpGame.CONTROLS_MSG="Tilt your device to move",BlueJumpGame.TIP="TIP: use portrait mode!",BlueJumpGame.JUMP_POWER=20):(BlueJumpGame.CONTROLS_MSG="Use arrow keys (< and >) or 'A' and 'D' to move",BlueJumpGame.TIP="TIP: press 'esc' to pause the game",BlueJumpGame.JUMP_POWER=30),this.player=new Player(width/2-BARRIER_SCALE/3,3*height/4,[document.getElementById("blueguy02"),2*BARRIER_SCALE/3,2*BARRIER_SCALE/3,7,!0,18,18],[document.getElementById("blueguy03"),2*BARRIER_SCALE/3,2*BARRIER_SCALE/3,10,!1,19,19],[document.getElementById("blueguy04"),2*BARRIER_SCALE/3,2*BARRIER_SCALE/3,6,!1,19,19],[document.getElementById("transition"),2*BARRIER_SCALE/3,2.2*BARRIER_SCALE/3,1,!1,0,0],[document.getElementById("grave"),2*BARRIER_SCALE/3,2.2*BARRIER_SCALE/3,1,!1,0,0]),barriers.push(new Barrier(this.player.p.x+.5*this.player.activities[this.player.activity].width-.5*BARRIER_SCALE,this.player.p.y+this.player.activities[this.player.activity].height,1,0,0,0,BARRIER_SCALE,.25*BARRIER_SCALE,new SpriteAnimation(dirtblock[0],dirtblock[1],dirtblock[2],dirtblock[3],dirtblock[4],dirtblock[5],dirtblock[6]),150,46)),this.pickNewHighest(0,!0),this.gameMode(-1)}gameMode(e){switch(e){case-1:this.gameMode=-1,this.player.shouldUpdate=!1;break;case 0:this.gameMode=0,this.player.shouldUpdate=!0;break;case 1:this.gameMode=1,this.player.shouldUpdate=!1}}play(){BlueJumpGame.prefix(document,"FullScreen")||BlueJumpGame.prefix(document,"IsFullScreen")||BlueJumpGame.prefix(document.getElementById("defaultCanvas0"),"RequestFullScreen"),1!==this.gameMode&&setTimeout(()=>{this.fullScreenActive=!0,this.gameMode(0)},60)}pickNewHighest(e,t,i){var a;if(player.stats.alive?(txtr=dirtblock,a=46):Math.random()<.25?(txtr=brickblock,a=46):(txtr=brickblock2,a=33),t){var s=10+Math.random()*(width-110),r=i?Math.random()*((isSafari?windowHeight:window.screen.height)+200)-200:175*Math.random()-200,m=2+1.1*Math.random();fakeBarriers.push(new Barrier(s,r,m,0,0,0,BARRIER_SCALE,.25*BARRIER_SCALE,new SpriteAnimation(txtr[0],txtr[1]/m,txtr[2]/m,txtr[3],txtr[4],txtr[5],txtr[6]),150,a))}else{var h=.02*Math.floor(player.stats.score/2500)*BARRIER_SCALE;h=constrain(h,0,.5*BARRIER_SCALE);var l=1===CONTROLS?.5:.8,o=Math.random()<.5?1:-1,u=.5*(JUMP_POWER*JUMP_POWER+JUMP_POWER)/GRAVITY,n=1.7*JUMP_POWER*HORIZONTAL_SPEED*l*1.2+h;n=constrain(n,0,width);var p=(.3+.7*Math.random())*u,d=constrain(e.x+o*(.3+.7*Math.random())*n,MOVEMENT,width-BARRIER_SCALE-MOVEMENT);barriers.push(new Barrier(d,e.y-p,1,6*Math.random()*l-3,0,0,BARRIER_SCALE,.25*BARRIER_SCALE,new SpriteAnimation(txtr[0],txtr[1],txtr[2],txtr[3],txtr[4],txtr[5],txtr[6]),150,a))}}deviceOrientationHandler(e){this.rotation=e.gamma,this.orientedMovement=.020444*e.gamma}static prefix(e,t){let i,a,s=0;for(;s<BlueJumpGame.pfx.length&&!e[i];){if(i=t,""===BlueJumpGame.pfx[s]&&(i=i.substr(0,1).toLowerCase()+i.substr(1)),"undefined"!=(a=typeof e[i=BlueJumpGame.pfx[s]+i]))return BlueJumpGame.pfx=[BlueJumpGame.pfx[s]],"function"==a?e[i]():e[i];s++}}static isMobileDevice(){let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}}BlueJumpGame.AUTOJUMP=!0,BlueJumpGame.DEBUG=!0,BlueJumpGame.LEVELCREATION=!0,BlueJumpGame.LANDING_THRESHOLD=25,BlueJumpGame.HORIZONTAL_SPEED=11,BlueJumpGame.GRAVITY=1,BlueJumpGame.BARRIER_SCALE=.07*window.screen.width,BlueJumpGame.ARROW_SCALE=.06*window.screen.width,BlueJumpGame.MOVEMENT=.75*BlueJumpGame.BARRIER_SCALE,BlueJumpGame.BACKGROUND_SHADES=13,BlueJumpGame.MAX_BARRIERS=12,BlueJumpGame.CONTROLS_MSG="",BlueJumpGame.TIP="",BlueJumpGame.MOBILE_CONTROLS=BlueJumpGame.isMobileDevice(),BlueJumpGame.JUMP_POWER,BlueJumpGame.TEXT_SIZE=.5*BlueJumpGame.BARRIER_SCALE,BlueJumpGame.FONT,BlueJumpGame.pfx=["webkit","moz","ms","o",""],BlueJumpGame.field,BlueJumpGame.IS_SAFARI=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,document.getElementById("dirt0").onload=(()=>{BlueJumpGame.dirt0=[document.getElementById("dirt0"),BlueJumpGame.BARRIER_SCALE,.25*BlueJumpGame.BARRIER_SCALE,1,!1,0,0]}),document.getElementById("spikes").onload=(()=>{BlueJumpGame.spikes=new Floor(document.getElementById("spikes"),5/3*BlueJumpGame.BARRIER_SCALE,.513*BlueJumpGame.BARRIER_SCALE,1,!1,0,0)}),document.getElementById("lava").onload=(()=>{BlueJumpGame.lava=new Floor(document.getElementById("lava"),5/3*BlueJumpGame.BARRIER_SCALE,.558*BlueJumpGame.BARRIER_SCALE,5,!0,0,0)}),document.getElementById("bricks0").onload=(()=>{BlueJumpGame.bricks0=[document.getElementById("bricks0"),BlueJumpGame.BARRIER_SCALE,.25*BlueJumpGame.BARRIER_SCALE,1,!1,0,0]}),document.getElementById("bricks1").onload=(()=>{BlueJumpGame.bricks1=[document.getElementById("bricks1"),BlueJumpGame.BARRIER_SCALE,.25*BlueJumpGame.BARRIER_SCALE,1,!1,0,0]});class Floor{constructor(e,t,i,a,s){this.sprite=new SpriteAnimation(e,t,i,a,s,0,0,30),this.repeats=Math.ceil(window.screen.width/t)}show(e,t){for(let i=0;i<this.repeats;i++)this.image.show(i*this.image.width,(BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height)-this.image.height,e,t)}}class Player{constructor(e,t){this.highestY=t,this.buried=!1,this.shouldUpdate=!0,this.initialP={x:e,y:t},this.p={x:e,y:t},this.v={x:0,y:0},this.a={x:0,y:BlueJumpGame.GRAVITY},this.stats={score:0,pixelsTraversed:0,barriersJumped:0,alive:!0},this.activity=0,this.activities=[new SpriteAnimation(arguments[2][0],arguments[2][1],arguments[2][2],arguments[2][3],arguments[2][4],arguments[2][5],arguments[2][6])];for(let e=3;e<=6;e++)void 0!==arguments[e]&&(this.activities.push(new SpriteAnimation(arguments[e][0],arguments[e][1],arguments[e][2],arguments[e][3],arguments[e][4],arguments[e][5],arguments[e][6])),this.walk=function(){this.activity=1});this.falling=!0}fall(){this.falling=!0,this.a.y=BlueJumpGame.GRAVITY}stand(){this.activity=0}getTraversedPixels(){return this.highestY=this.highestY>this.p.y?this.p.y:this.highestY,Math.round(this.stats.pixelsTraversed+this.initialP.y-this.highestY)}getScore(){const e=3*this.getTraversedPixels()+400*(this.stats.barriersJumped-1)*.7;return Math.round(e)}update(){if(!BlueJumpGame.AUTOJUMP&&!keyDown(32)||this.falling||this.jump(),this.stats.alive&&this.stand(),this.v.x=0,BlueJumpGame.MOBILE_CONTROLS?this.v.x=BlueJumpGame.HORIZONTAL_SPEED*orientedMovement:(keyDown(37)||keyDown("a"))!==(keyDown(39)||keyDown("d"))&&(this.stats.alive&&this.walk(),keyDown(37)||keyDown("a")?this.v.x=-BlueJumpGame.HORIZONTAL_SPEED:this.v.x=BlueJumpGame.HORIZONTAL_SPEED),this.p.x=constrain(this.p.x+this.v.x,0,width-this.activities[this.activity].width),this.p.y=constrain(this.p.y+this.v.y,0,height-this.activities[this.activity].height),this.v.x+=this.a.x,this.v.y+=this.a.y,this.p.y<height/3){const e=height/3-this.p.y;this.stats.pixelsTraversed+=e,this.p.y=height/3;for(let t=0;t<bj.barriers.length;t++)bj.barriers[t].p.y+=e,bj.barriers[t].p.y>=height-40&&bj.barriers.splice(t,1);for(let t=0;t<fakeBarriers.length;t++)fakeBarriers[t].p.y+=e/fakeBarriers[t].p.z,fakeBarriers[t].p.y>=height-50&&fakeBarriers.splice(t,1)}this.a.y=BlueJumpGame.GRAVITY,this.p.y+this.activities[this.activity].height>=height&&(this.stats.alive?(this.land(),this.die()):this.bury());for(let e=0;e<barriers.length;e++)this.collide(barriers[e])&&this.p.y+this.activities[this.activity].height>=barriers[e].p.y&&this.p.y+this.activities[this.activity].height-barriers[e].p.y<=LANDING_THRESHOLD&&this.v.y>0&&(this.land(barriers[e].p.y-this.activities[this.activity].height,barriers[e].v.x),barriers[e].jumped||this.stats.barriersJumped++,barriers[e].jumped=!0);this.stats.score=this.getScore()}jump(e){const t=void 0!==e?e:BlueJumpGame.JUMP_POWER;this.fall(),this.v.y-=t}land(e,t){this.falling=!1,this.a.y=0,this.v.y=0,void 0!==e&&(this.p.y=e),void 0!==t&&(this.p.x+=2*t)}collide(e){return this.p.x+this.activities[this.activity].width-this.activities[this.activity].padding.right>=e.p.x&&this.p.x+this.activities[this.activity].padding.left<=e.p.x+e.width&&this.p.y+this.activities[this.activity].height>=e.p.y&&this.p.y<=e.p.y+e.height}die(){this.shouldUpdate=!1,this.activity=3,this.p.y=(BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height)-3*BlueJumpGame.BARRIER_SCALE/3,textAnimations.push(new TextAnimation(3,.8*width,2*BlueJumpGame.TEXT_SIZE,frameRate()/3,2*frameRate()/3,[0,0,0],frameCount)),setTimeout(()=>{textAnimations.push(new TextAnimation(2,.8*width,2*BlueJumpGame.TEXT_SIZE,frameRate()/3,2*frameRate()/3,[0,0,0],frameCount))},1e3),setTimeout(()=>{textAnimations.push(new TextAnimation(1,.8*width,2*BlueJumpGame.TEXT_SIZE,frameRate()/3,2*frameRate()/3,[0,0,0],frameCount))},2e3),setTimeout(()=>{this.stats.alive=!1,this.activity=2,this.jump(2.2*JUMP_POWER),this.shouldUpdate=!0,textAnimations.push(new TextAnimation("SECOND CHANCE!",.8*width,1.5*BlueJumpGame.TEXT_SIZE,frameRate()/3,2*frameRate(),[0,0,0],frameCount))},3200)}resurrect(){this.stats.alive=!0,this.activity=0}bury(){this.shouldUpdate=!1,this.burying=setInterval(()=>{this.p.y+=2,this.p.y>=(BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height)-BlueJumpGame.BARRIER_SCALE/3&&(clearInterval(this.burying),this.activity=4,this.burying=setInterval(()=>{this.p.y--,this.p.y<=(BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height)-2.7*BlueJumpGame.BARRIER_SCALE/3&&(clearInterval(this.burying),textAnimations.push(new TextAnimation("GAME OVER!",.8*width,1.5*txtSize,frameRate()/3,1/0,[0,0,0],frameCount,width/2,100)),gameMode(1),this.buried=!0)},1e3/frameRate()))},1e3/frameRate())}}class Sprite{constructor(e,t,i,a,s,r,m,h){this.img=e,this.displayWidth=t,this.displayHeight=i,this.framesCount=a,this.action=s,this.count=0,this.fpsScale=void 0===h?2:h,this.padding={left:void 0===r?0:r,right:void 0===m?0:m}}show(e,t,i,a){const s=Math.floor(this.count/this.fpsScale)%this.framesCount,r=void 0===i?this.displayWidth:i,m=void 0===a?this.displayHeight:a;this.count++,this.action&&s===this.framesCount-1&&Math.random()>.25&&(s=0,this.count++),BlueJumpGame.field.drawImage(this.img,s*r,0,r,m,e,t,this.displayWidth,this.displayHeight)}}class Text{constructor(e,t,i,a,s,r,m,h,l){this.text=e,this.finalSize=i,this.currentSize=t-t%i,this.decrease=(this.currentSize-this.finalSize)/a,this.transition=a,this.delay=s,this.colour=r,this.creation=m,this.x=void 0===h?width/2:h,this.y=void 0===l?height/2:l}update(){this.currentSize>this.finalSize&&(this.currentSize-=this.decrease)}show(){textSize(this.currentSize),textAlign(CENTER),fill(this.colour),stroke(255),strokeWeight(6),text(this.text,this.x,this.y)}shouldBeDeleted(){return frameCount<=this.transition+this.delay+this.creation}}let bj;function preload(){BlueJumpGame.FONT=loadFont("assets/fonts/robot01.ttf")}function setup(){bj=new BlueJumpGame,BlueJumpGame.IS_SAFARI?createCanvas(window.screen.width,windowHeight):createCanvas(window.screen.width,window.screen.height),BlueJumpGame.field=document.getElementById("defaultCanvas0").getContext("2d"),colorMode(RGB),bj.colours=[color(64,112,184),color(191,218,235),color(90,0,0),color(200,0,0)],0===BlueJumpGame.MOBILE_CONTROLS?frameRate(30):frameRate(27),textFont(BlueJumpGame.FONT)}function draw(){background(51),noStroke();for(let e=0;e<1;e+=1/BlueJumpGame.BACKGROUND_SHADES){const t=bj.player.stats.alive?0:2,i=lerpColor(bj.colours[t],bj.colours[t+1],e);fill(i),rect(0,height*e,width,height*(e+1))}let e=bj.fakeBarriers[0];for(let t=0;t<bj.fakeBarriers.length;t++)bj.fakeBarriers[t].p.y<e.p.y&&(e=bj.fakeBarriers[t]),fakeBarriers[t].show();bj.fakeBarriers.length<BlueJumpGame.MAX_BARRIERS&&pickNewHighest(e.p,!0,bj.fakeBarriers.length<BlueJumpGame.MAX_BARRIERS-2);let t=bj.barriers[0];for(let e=0;e<bj.barriers.length;e++)bj.barriers[e].p.y<t.p.y&&(t=bj.barriers[e]),barriers[e].show();t.p.y>-100&&BlueJumpGame.LEVELCREATION&&pickNewHighest(t.p,!1),BlueJumpGame.DEBUG&&(textAlign(RIGHT),textSize(18),stroke(0),fill(255,255,0),text("Score: "+bj.player.getScore(),width-60,60),text("Barriers: "+bj.player.stats.barriersJumped,width-60,90),text("Pixels traversed vertically: "+bj.player.getTraversedPixels(),width-60,120),text("FPS: "+Math.round(frameRate()),width-60,150),text("Controls: "+BlueJumpGame.MOBILE_CONTROLS,width-60,210),text("rotation: "+bj.rotation.toFixed(3),width-60,240),text("orientedMovement: "+bj.orientedMovement.toFixed(3),width-60,270),text("barriersLength: "+bj.fakeBarriers.length,width-60,300),text("width: "+window.screen.width,width-60,330),text("height: "+(BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height),width-60,360),text("mouseX, mouseY: "+mouseX+", "+mouseY,width-60,390)),bj.player.activities[bj.player.activity].show(bj.player.p.x,bj.player.p.y,100,100),bj.player.stats.alive?BlueJumpGame.spikes.show(150,46):BlueJumpGame.lava.show(150,50);for(let e=0;e<bj.textAnimations.length;e++)bj.textAnimations[e].shouldBeDeleted()?(bj.textAnimations[e].update(),bj.textAnimations[e].show()):bj.textAnimations[e].splice(e,1);switch(bj.gameMode){case 0:BlueJumpGame.IS_SAFARI||BlueJumpGame.prefix(document,"FullScreen")||BlueJumpGame.prefix(document,"IsFullScreen")||(gameMode(-1),bj.fullScreenActive=!1);for(let e=0;e<barriers.length;e++)barriers[e].update();bj.player.shouldUpdate&&bj.fullScreenActive&&bj.player.update();break;case-1:noStroke(),fill("rgba(0,0,0,0.8)"),rect(0,0,window.screen.width,BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height),fill(200,200,0),strokeWeight(.125*BlueJumpGame.ARROW_SCALE),stroke(255),push(),translate(100,30),beginShape(),vertex(0,0),vertex(1.05*BlueJumpGame.ARROW_SCALE,.27*BlueJumpGame.ARROW_SCALE),vertex(.62*BlueJumpGame.ARROW_SCALE,.55*BlueJumpGame.ARROW_SCALE),vertex(1.65*BlueJumpGame.ARROW_SCALE,2.085*BlueJumpGame.ARROW_SCALE),vertex(1.18*BlueJumpGame.ARROW_SCALE,2.41*BlueJumpGame.ARROW_SCALE),vertex(.18*BlueJumpGame.ARROW_SCALE,.79*BlueJumpGame.ARROW_SCALE),vertex(-.25*BlueJumpGame.ARROW_SCALE,BlueJumpGame.ARROW_SCALE),endShape(CLOSE),pop(),textAlign(LEFT),textSize(BlueJumpGame.TEXT_SIZE),fill(0),text("PLAY",100,30+3*BlueJumpGame.ARROW_SCALE),strokeWeight(.0675*BlueJumpGame.ARROW_SCALE),textSize(.5*BlueJumpGame.TEXT_SIZE),text(BlueJumpGame.CONTROLS_MSG,40,4*BlueJumpGame.ARROW_SCALE),text(BlueJumpGame.TIP,40,4.7*BlueJumpGame.ARROW_SCALE);break;case 1:noStroke(),fill("rgba(0, 0, 0, 0.4)"),rect(0,0,window.screen.width,BlueJumpGame.IS_SAFARI?windowHeight:window.screen.height);const e=width/2-4.87*BlueJumpGame.TEXT_SIZE;bj.returned?(fill(255,128,0),textSize(BlueJumpGame.TEXT_SIZE),textAlign(CENTER),textSize(.5*BlueJumpGame.TEXT_SIZE),textAlign(LEFT),text("#",e,1.7*BlueJumpGame.TEXT_SIZE+115),text("Player",e+1.2*BlueJumpGame.TEXT_SIZE,1.7*BlueJumpGame.TEXT_SIZE+115),text("Score",e+8*BlueJumpGame.TEXT_SIZE,1.7*BlueJumpGame.TEXT_SIZE+115),fill(255,255,255)):(textSize(BlueJumpGame.TEXT_SIZE),textAlign(CENTER),floor(frameCount/2)%4==0?text("loading",width/2,height/2):floor(frameCount/2)%4==1?text("loading.",width/2,height/2):floor(frameCount/2)%4==2?text("loading..",width/2,height/2):text("loading...",width/2,height/2))}fill(0),strokeWeight(3),stroke(255),textAlign(CENTER),textSize(.9*BlueJumpGame.TEXT_SIZE),text(bj.player.stats.score,width/2,.8*BlueJumpGame.TEXT_SIZE),textAlign(RIGHT),textFont("arial"),textSize(.3*BlueJumpGame.TEXT_SIZE),noStroke(),text("©",width-.3*BARRIER_SCALE-2*BlueJumpGame.TEXT_SIZE,height/2),textFont(myFont),textSize(.2*BlueJumpGame.TEXT_SIZE),text("| 2016 | Nout Kleef",width-.3*BARRIER_SCALE,height/2)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJhcnJpZXIuanMiLCJCbHVlSnVtcEdhbWUuanMiLCJGbG9vci5qcyIsIlBsYXllci5qcyIsIlNwcml0ZS5qcyIsIlRleHQuanMiLCJpbmRleC5qcyJdLCJuYW1lcyI6WyJCYXJyaWVyIiwiW29iamVjdCBPYmplY3RdIiwieCIsInkiLCJ6IiwieHYiLCJ5diIsInp2Iiwid2lkdGgiLCJoZWlnaHQiLCJ0ZXh0dXJlIiwib3JpZ1ciLCJvcmlnSCIsInRoaXMiLCJqdW1wZWQiLCJpbml0aWFsUCIsInAiLCJ2Iiwic2hvdyIsIk1hdGgiLCJhYnMiLCJCbHVlSnVtcEdhbWUiLCJNT1ZFTUVOVCIsImdhbWVNb2RlIiwiZGlydEJsb2NrIiwiYnJpY2tCbG9jayIsImJhcnJpZXJzIiwiZmFrZUJhcnJpZXJzIiwidGV4dEFuaW1hdGlvbnMiLCJjb2xvdXJzIiwib3JpZW50ZWRNb3ZlbWVudCIsInJvdGF0aW9uIiwiaGlnaGVzdCIsImZ1bGxTY3JlZW5BY3RpdmUiLCJyZXR1cm5lZCIsIk1PQklMRV9DT05UUk9MUyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZXZpY2VPcmllbnRhdGlvbkhhbmRsZXIiLCJCQVJSSUVSX1NDQUxFIiwiQVJST1dfU0NBTEUiLCJDT05UUk9MU19NU0ciLCJUSVAiLCJKVU1QX1BPV0VSIiwicGxheWVyIiwiUGxheWVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInB1c2giLCJhY3Rpdml0aWVzIiwiYWN0aXZpdHkiLCJTcHJpdGVBbmltYXRpb24iLCJkaXJ0YmxvY2siLCJwaWNrTmV3SGlnaGVzdCIsIm1vZGUiLCJzaG91bGRVcGRhdGUiLCJwcmVmaXgiLCJzZXRUaW1lb3V0Iiwib2xkUG9zIiwicGlja1JhbmRvbSIsImluU2lnaHQiLCJoIiwic3RhdHMiLCJhbGl2ZSIsInR4dHIiLCJyYW5kb20iLCJicmlja2Jsb2NrIiwiYnJpY2tibG9jazIiLCJpc1NhZmFyaSIsIndpbmRvd0hlaWdodCIsInNjcmVlbiIsImRpZmZpY3VsdHkiLCJmbG9vciIsInNjb3JlIiwiY29uc3RyYWluIiwiY29uc3RyIiwiQ09OVFJPTFMiLCJkaXIiLCJtYXhZIiwiR1JBVklUWSIsIm1heFgiLCJIT1JJWk9OVEFMX1NQRUVEIiwiaW5jcmVhc2VZIiwibmV3WCIsImUiLCJnYW1tYSIsIm9iaiIsIm1ldGhvZCIsIm0iLCJ0IiwicGZ4IiwibGVuZ3RoIiwic3Vic3RyIiwidG9Mb3dlckNhc2UiLCJjaGVjayIsImEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ2ZW5kb3IiLCJvcGVyYSIsInRlc3QiLCJBVVRPSlVNUCIsIkRFQlVHIiwiTEVWRUxDUkVBVElPTiIsIkxBTkRJTkdfVEhSRVNIT0xEIiwiQkFDS0dST1VORF9TSEFERVMiLCJNQVhfQkFSUklFUlMiLCJpc01vYmlsZURldmljZSIsIlRFWFRfU0laRSIsIkZPTlQiLCJmaWVsZCIsIklTX1NBRkFSSSIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsIkhUTUxFbGVtZW50IiwiaW5kZXhPZiIsIm9ubG9hZCIsImRpcnQwIiwic3Bpa2VzIiwiRmxvb3IiLCJsYXZhIiwiYnJpY2tzMCIsImJyaWNrczEiLCJpbWciLCJkaXNwbGF5V2lkdGgiLCJkaXNwbGF5SGVpZ2h0IiwiZnJhbWVzQ291bnQiLCJhY3Rpb24iLCJzcHJpdGUiLCJyZXBlYXRzIiwiY2VpbCIsIm9yaWdXaWR0aCIsIm9yaWdIZWlnaHQiLCJpIiwiaW1hZ2UiLCJoaWdoZXN0WSIsImJ1cmllZCIsInBpeGVsc1RyYXZlcnNlZCIsImJhcnJpZXJzSnVtcGVkIiwiYXJndW1lbnRzIiwid2FsayIsImZhbGxpbmciLCJyb3VuZCIsInMiLCJnZXRUcmF2ZXJzZWRQaXhlbHMiLCJrZXlEb3duIiwianVtcCIsInN0YW5kIiwiZXhjZWVkYW5jZSIsImIiLCJiaiIsInNwbGljZSIsImZiIiwibGFuZCIsImRpZSIsImJ1cnkiLCJjb2xsaWRlIiwiZ2V0U2NvcmUiLCJGIiwicG93ZXIiLCJmYWxsIiwiZFgiLCJ0YXJnZXQiLCJwYWRkaW5nIiwicmlnaHQiLCJsZWZ0IiwiVGV4dEFuaW1hdGlvbiIsImZyYW1lUmF0ZSIsImZyYW1lQ291bnQiLCJidXJ5aW5nIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwidHh0U2l6ZSIsIkluZmluaXR5IiwiU3ByaXRlIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJmcHNTY2FsZSIsImNvdW50IiwiZnJhbWVJbmRleCIsInNyY1dpZHRoIiwic3JjSGVpZ2h0IiwiZHJhd0ltYWdlIiwiVGV4dCIsInRleHQiLCJiZWdpblNpemUiLCJmaW5hbFNpemUiLCJ0cmFuc2l0aW9uIiwiZGVsYXkiLCJjb2xvdXIiLCJjcmVhdGlvbiIsImN1cnJlbnRTaXplIiwiZGVjcmVhc2UiLCJ0ZXh0U2l6ZSIsInRleHRBbGlnbiIsIkNFTlRFUiIsImZpbGwiLCJzdHJva2UiLCJzdHJva2VXZWlnaHQiLCJwcmVsb2FkIiwibG9hZEZvbnQiLCJzZXR1cCIsImNyZWF0ZUNhbnZhcyIsImdldENvbnRleHQiLCJjb2xvck1vZGUiLCJSR0IiLCJjb2xvciIsInRleHRGb250IiwiZHJhdyIsImJhY2tncm91bmQiLCJub1N0cm9rZSIsImJnIiwib3JpZ2luIiwic2hhZGUiLCJsZXJwQ29sb3IiLCJyZWN0IiwiaGlnaGVzdEZha2UiLCJSSUdIVCIsInRvRml4ZWQiLCJtb3VzZVgiLCJtb3VzZVkiLCJzaG91bGRCZURlbGV0ZWQiLCJ1cGRhdGUiLCJ0cmFuc2xhdGUiLCJiZWdpblNoYXBlIiwidmVydGV4IiwiZW5kU2hhcGUiLCJDTE9TRSIsInBvcCIsIkxFRlQiLCJ4b2ZmIiwibXlGb250Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFBQSxRQUNBQyxZQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBQyxLQUFBSCxRQUFBQSxFQUNBRyxLQUFBQyxRQUFBLEVBQ0FELEtBQUFGLE1BQUFBLEVBQ0FFLEtBQUFELE1BQUFBLEVBQ0FDLEtB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QWdCQTZMLEtBQUEsR0FDQUUsYUFBQSxHQUNBRCxPQUFBLEtBQ0FILFVBQUFDLFFBQ0FGLFNBQUEsR0FBQTlLLGFBQUF1RixXQUNBOEUsS0FBQWxDLEdBQUE1RyxPQUFBa0IsTUFBQVcsTUFBQWpFLE1BQUEsRUFBQSxHQUFBYSxhQUFBdUYsV0FFQXdGLFVBQUF1QixPQUNBVixTQUFBLFNBQ0FkLFNBQUEsR0FBQTlLLGFBQUF1RixXQUNBd0csV0FDQTFCLEtBQUEsSUFBQWxMLE1BQUEsR0FBQStCLGNBQUEsRUFBQWxCLGFBQUF1RixVQUFBbkcsT0FBQSxHQUNBd00sU0FBQXdCLFFBQ0F0QyxTQUFBLEdBQUE5SyxhQUFBdUYsV0FDQThFLEtBQUEsc0JBQUFsTCxNQUFBLEdBQUErQixjQUFBOUIsT0FBQSIsImZpbGUiOiJibHVlSnVtcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEJhcnJpZXIge1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIHosIHh2LCB5diwgenYsIHdpZHRoLCBoZWlnaHQsIHRleHR1cmUsIG9yaWdXLCBvcmlnSCkge1xuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICB0aGlzLmp1bXBlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9yaWdXID0gb3JpZ1c7XG4gICAgICAgIHRoaXMub3JpZ0ggPSBvcmlnSDtcbiAgICAgICAgdGhpcy5pbml0aWFsUCA9IHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgejogelxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnAgPSB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgIHo6IHpcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52ID0ge1xuICAgICAgICAgICAgeDogeHYsXG4gICAgICAgICAgICB5OiB5dixcbiAgICAgICAgICAgIHo6IHp2XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aCAvIHo7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0IC8gejtcbiAgICB9XG5cbiAgICBzaG93KCkge1xuICAgICAgICB0aGlzLnRleHR1cmUuc2hvdyh0aGlzLnAueCwgdGhpcy5wLnksIHRoaXMub3JpZ1csIHRoaXMub3JpZ0gpO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5wLnggKz0gdGhpcy52Lng7XG4gICAgICAgIHRoaXMucC55ICs9IHRoaXMudi55O1xuICAgICAgICB0aGlzLnAueiArPSB0aGlzLnYuejtcbiAgICAgICAgdGhpcy52LnggPSBNYXRoLmFicyh0aGlzLnAueCAtIHRoaXMuaW5pdGlhbFAueCkgPiBCbHVlSnVtcEdhbWUuTU9WRU1FTlQgPyB0aGlzLnYueCAqIC0xIDogdGhpcy52Lng7XG4gICAgfVxufVxuIiwiY2xhc3MgQmx1ZUp1bXBHYW1lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5nYW1lTW9kZTtcbiAgICAgICAgdGhpcy5kaXJ0QmxvY2s7XG4gICAgICAgIHRoaXMuYnJpY2tCbG9jaztcbiAgICAgICAgdGhpcy5iYXJyaWVycyA9IFtdO1xuICAgICAgICB0aGlzLmZha2VCYXJyaWVycyA9IFtdO1xuICAgICAgICB0aGlzLnRleHRBbmltYXRpb25zID0gW107XG4gICAgICAgIHRoaXMuY29sb3VycyA9IFtdO1xuICAgICAgICB0aGlzLm9yaWVudGVkTW92ZW1lbnQgPSAwO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gMDtcbiAgICAgICAgdGhpcy5oaWdoZXN0ID0gMDtcbiAgICAgICAgdGhpcy5mdWxsU2NyZWVuQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmV0dXJuZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gaW5pdGlhbGlzZSBjb250cm9sc1xuICAgICAgICBpZiAoQmx1ZUp1bXBHYW1lLk1PQklMRV9DT05UUk9MUykge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgJ2RldmljZW9yaWVudGF0aW9uJyxcbiAgICAgICAgICAgICAgICB0aGlzLmRldmljZU9yaWVudGF0aW9uSGFuZGxlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFICo9IDIuNTtcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5NT1ZFTUVOVCAqPSAyLjU7XG4gICAgICAgICAgICBCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEUgKj0gMi41O1xuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLkNPTlRST0xTX01TRyA9ICdUaWx0IHlvdXIgZGV2aWNlIHRvIG1vdmUnO1xuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLlRJUCA9ICdUSVA6IHVzZSBwb3J0cmFpdCBtb2RlISc7XG4gICAgICAgICAgICBCbHVlSnVtcEdhbWUuSlVNUF9QT1dFUiA9IDIwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLkNPTlRST0xTX01TRyA9ICdVc2UgYXJyb3cga2V5cyAoPCBhbmQgPikgb3IgXFwnQVxcJyAnICtcbiAgICAgICAgICAgICAgICAnYW5kIFxcJ0RcXCcgdG8gbW92ZSc7XG4gICAgICAgICAgICBCbHVlSnVtcEdhbWUuVElQID0gJ1RJUDogcHJlc3MgXFwnZXNjXFwnIHRvIHBhdXNlIHRoZSBnYW1lJztcbiAgICAgICAgICAgIEJsdWVKdW1wR2FtZS5KVU1QX1BPV0VSID0gMzA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5pdGlhbGlzZSBwbGF5ZXJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyKCAvLyBUT0RPOiByZWZhY3RvciB0aGlzLiBkcmFzdGljYWxseS5cbiAgICAgICAgICAgIHdpZHRoIC8gMiAtIEJBUlJJRVJfU0NBTEUgLyAzLFxuICAgICAgICAgICAgaGVpZ2h0ICogMyAvIDQsXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJibHVlZ3V5MDJcIiksXG4gICAgICAgICAgICAgICAgMiAqIEJBUlJJRVJfU0NBTEUgLyAzLFxuICAgICAgICAgICAgICAgIDIgKiBCQVJSSUVSX1NDQUxFIC8gMyxcbiAgICAgICAgICAgICAgICA3LFxuICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgMTgsXG4gICAgICAgICAgICAgICAgMThcbiAgICAgICAgICAgIF0sIFtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJsdWVndXkwM1wiKSxcbiAgICAgICAgICAgICAgICAyICogQkFSUklFUl9TQ0FMRSAvIDMsXG4gICAgICAgICAgICAgICAgMiAqIEJBUlJJRVJfU0NBTEUgLyAzLFxuICAgICAgICAgICAgICAgIDEwLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIDE5LFxuICAgICAgICAgICAgICAgIDE5XG4gICAgICAgICAgICBdLCBbXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJibHVlZ3V5MDRcIiksXG4gICAgICAgICAgICAgICAgMiAqIEJBUlJJRVJfU0NBTEUgLyAzLFxuICAgICAgICAgICAgICAgIDIgKiBCQVJSSUVSX1NDQUxFIC8gMyxcbiAgICAgICAgICAgICAgICA2LFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIDE5LFxuICAgICAgICAgICAgICAgIDE5XG4gICAgICAgICAgICBdLCBbXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmFuc2l0aW9uXCIpLFxuICAgICAgICAgICAgICAgIDIgKiBCQVJSSUVSX1NDQUxFIC8gMyxcbiAgICAgICAgICAgICAgICAyLjIgKiBCQVJSSUVSX1NDQUxFIC8gMyxcbiAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgXSwgW1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3JhdmVcIiksXG4gICAgICAgICAgICAgICAgMiAqIEJBUlJJRVJfU0NBTEUgLyAzLFxuICAgICAgICAgICAgICAgIDIuMiAqIEJBUlJJRVJfU0NBTEUgLyAzLFxuICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICBdXG4gICAgICAgICk7XG4gICAgICAgIC8vIHNldCB1cCBmaXJzdCBiYXJyaWVyXG4gICAgICAgIGJhcnJpZXJzLnB1c2goIC8vIFRPRE86IHJlZmFjdG9yIHRoaXMgdG9vXG4gICAgICAgICAgICBuZXcgQmFycmllcihcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5wLnggKyAwLjUgKiB0aGlzLnBsYXllci5hY3Rpdml0aWVzW3RoaXMucGxheWVyLmFjdGl2aXR5XS53aWR0aCAtIDAuNSAqIEJBUlJJRVJfU0NBTEUsXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIucC55ICsgdGhpcy5wbGF5ZXIuYWN0aXZpdGllc1t0aGlzLnBsYXllci5hY3Rpdml0eV0uaGVpZ2h0LFxuICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgQkFSUklFUl9TQ0FMRSxcbiAgICAgICAgICAgICAgICAwLjI1ICogQkFSUklFUl9TQ0FMRSxcbiAgICAgICAgICAgICAgICBuZXcgU3ByaXRlQW5pbWF0aW9uKFxuICAgICAgICAgICAgICAgICAgICBkaXJ0YmxvY2tbMF0sXG4gICAgICAgICAgICAgICAgICAgIGRpcnRibG9ja1sxXSxcbiAgICAgICAgICAgICAgICAgICAgZGlydGJsb2NrWzJdLFxuICAgICAgICAgICAgICAgICAgICBkaXJ0YmxvY2tbM10sXG4gICAgICAgICAgICAgICAgICAgIGRpcnRibG9ja1s0XSxcbiAgICAgICAgICAgICAgICAgICAgZGlydGJsb2NrWzVdLFxuICAgICAgICAgICAgICAgICAgICBkaXJ0YmxvY2tbNl0pLFxuICAgICAgICAgICAgICAgIDE1MCxcbiAgICAgICAgICAgICAgICA0NlxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICAvLyBmaW5hbGlzZVxuICAgICAgICB0aGlzLnBpY2tOZXdIaWdoZXN0KDAsIHRydWUpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlKC0xKTtcbiAgICB9XG5cbiAgICBnYW1lTW9kZShtb2RlKSB7XG4gICAgICAgIHN3aXRjaCAobW9kZSkge1xuICAgICAgICAgICAgY2FzZSAtMTpcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlID0gLTE7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZSA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc2hvdWxkVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlID0gMTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5zaG91bGRVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBsYXkoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFCbHVlSnVtcEdhbWUucHJlZml4KGRvY3VtZW50LCAnRnVsbFNjcmVlbicpICYmXG4gICAgICAgICAgICAhQmx1ZUp1bXBHYW1lLnByZWZpeChkb2N1bWVudCwgJ0lzRnVsbFNjcmVlbicpXG4gICAgICAgICkge1xuICAgICAgICAgICAgQmx1ZUp1bXBHYW1lLnByZWZpeChcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVmYXVsdENhbnZhczAnKSxcbiAgICAgICAgICAgICAgICAnUmVxdWVzdEZ1bGxTY3JlZW4nXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmdhbWVNb2RlICE9PSAxKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmZ1bGxTY3JlZW5BY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGUoMCk7XG4gICAgICAgICAgICB9LCA2MCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwaWNrTmV3SGlnaGVzdChvbGRQb3MsIHBpY2tSYW5kb20sIGluU2lnaHQpIHsgLy8gVE9ETzogcmVmYWN0b3JcbiAgICAgICAgdmFyIGg7XG4gICAgICAgIGlmIChwbGF5ZXIuc3RhdHMuYWxpdmUpIHtcbiAgICAgICAgICAgIHR4dHIgPSBkaXJ0YmxvY2s7XG4gICAgICAgICAgICBoID0gNDY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMjUpIHtcbiAgICAgICAgICAgICAgICB0eHRyID0gYnJpY2tibG9jaztcbiAgICAgICAgICAgICAgICBoID0gNDY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHR4dHIgPSBicmlja2Jsb2NrMjtcbiAgICAgICAgICAgICAgICBoID0gMzM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwaWNrUmFuZG9tKSB7XG4gICAgICAgICAgICB2YXIgZGlmZmljdWx0eSA9IE1hdGguZmxvb3IocGxheWVyLnN0YXRzLnNjb3JlIC8gMjUwMCkgKiAwLjAyICogQkFSUklFUl9TQ0FMRTtcbiAgICAgICAgICAgIGRpZmZpY3VsdHkgPSBjb25zdHJhaW4oZGlmZmljdWx0eSwgMCwgMC41ICogQkFSUklFUl9TQ0FMRSk7XG4gICAgICAgICAgICB2YXIgY29uc3RyID0gQ09OVFJPTFMgPT09IDEgPyAwLjUgOiAwLjgwO1xuICAgICAgICAgICAgdmFyIGRpciA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAxIDogLTE7XG4gICAgICAgICAgICB2YXIgbWF4WSA9IDAuNSAqIChKVU1QX1BPV0VSICogSlVNUF9QT1dFUiArIEpVTVBfUE9XRVIpIC8gR1JBVklUWTtcbiAgICAgICAgICAgIHZhciBtYXhYID0gMS43ICogSlVNUF9QT1dFUiAqIEhPUklaT05UQUxfU1BFRUQgKiBjb25zdHIgKiAxLjIgKyBkaWZmaWN1bHR5O1xuICAgICAgICAgICAgbWF4WCA9IGNvbnN0cmFpbihtYXhYLCAwLCB3aWR0aCk7XG4gICAgICAgICAgICB2YXIgaW5jcmVhc2VZID0gKDAuMyArIDAuNyAqIE1hdGgucmFuZG9tKCkpICogbWF4WTtcbiAgICAgICAgICAgIHZhciBuZXdYID0gY29uc3RyYWluKG9sZFBvcy54ICsgZGlyICogKDAuMyArIDAuNyAqIE1hdGgucmFuZG9tKCkpICogbWF4WCwgTU9WRU1FTlQsIHdpZHRoIC0gQkFSUklFUl9TQ0FMRSAtIE1PVkVNRU5UKTtcbiAgICAgICAgICAgIGJhcnJpZXJzLnB1c2gobmV3IEJhcnJpZXIobmV3WCwgb2xkUG9zLnkgLSBpbmNyZWFzZVksIDEsIC0zICsgNiAqIE1hdGgucmFuZG9tKCkgKiBjb25zdHIsIDAsIDAsIEJBUlJJRVJfU0NBTEUsIDAuMjUgKiBCQVJSSUVSX1NDQUxFLCBuZXcgU3ByaXRlQW5pbWF0aW9uKHR4dHJbMF0sIHR4dHJbMV0sIHR4dHJbMl0sIHR4dHJbM10sIHR4dHJbNF0sIHR4dHJbNV0sIHR4dHJbNl0pLCAxNTAsIGgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB4ID0gMTAgKyBNYXRoLnJhbmRvbSgpICogKHdpZHRoIC0gMTEwKTtcbiAgICAgICAgICAgIHZhciB5ID0gaW5TaWdodCA/IC0yMDAgKyBNYXRoLnJhbmRvbSgpICogKChpc1NhZmFyaSA/IHdpbmRvd0hlaWdodCA6IHdpbmRvdy5zY3JlZW4uaGVpZ2h0KSArIDIwMCkgOiAtMjAwICsgTWF0aC5yYW5kb20oKSAqIDE3NTtcbiAgICAgICAgICAgIHZhciB6ID0gMiArIE1hdGgucmFuZG9tKCkgKiAxLjE7XG4gICAgICAgICAgICBmYWtlQmFycmllcnMucHVzaChuZXcgQmFycmllcih4LCB5LCB6LCAwLCAwLCAwLCBCQVJSSUVSX1NDQUxFLCAwLjI1ICogQkFSUklFUl9TQ0FMRSwgbmV3IFNwcml0ZUFuaW1hdGlvbih0eHRyWzBdLCB0eHRyWzFdIC8geiwgdHh0clsyXSAvIHosIHR4dHJbM10sIHR4dHJbNF0sIHR4dHJbNV0sIHR4dHJbNl0pLCAxNTAsIGgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRldmljZU9yaWVudGF0aW9uSGFuZGxlcihlKSB7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSBlLmdhbW1hO1xuICAgICAgICB0aGlzLm9yaWVudGVkTW92ZW1lbnQgPSBlLmdhbW1hICogMC4wMjA0NDQ7XG4gICAgfVxuXG4gICAgc3RhdGljIHByZWZpeChvYmosIG1ldGhvZCkge1xuICAgICAgICBsZXQgcCA9IDAsXG4gICAgICAgICAgICBtLCB0O1xuICAgICAgICB3aGlsZSAocCA8IEJsdWVKdW1wR2FtZS5wZngubGVuZ3RoICYmICFvYmpbbV0pIHtcbiAgICAgICAgICAgIG0gPSBtZXRob2Q7XG4gICAgICAgICAgICBpZiAoQmx1ZUp1bXBHYW1lLnBmeFtwXSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgIG0gPSBtLnN1YnN0cigwLCAxKS50b0xvd2VyQ2FzZSgpICsgbS5zdWJzdHIoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtID0gQmx1ZUp1bXBHYW1lLnBmeFtwXSArIG07XG4gICAgICAgICAgICB0ID0gdHlwZW9mIG9ialttXTtcbiAgICAgICAgICAgIGlmICh0ICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICBCbHVlSnVtcEdhbWUucGZ4ID0gW0JsdWVKdW1wR2FtZS5wZnhbcF1dO1xuICAgICAgICAgICAgICAgIHJldHVybiAodCA9PSBcImZ1bmN0aW9uXCIgPyBvYmpbbV0oKSA6IG9ialttXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgaXNNb2JpbGVEZXZpY2UoKSB7XG4gICAgICAgIGxldCBjaGVjayA9IGZhbHNlO1xuICAgICAgICAoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgIGlmICgvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vfGFuZHJvaWR8aXBhZHxwbGF5Ym9va3xzaWxrL2kudGVzdChhKSB8fCAvMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaS50ZXN0KGEuc3Vic3RyKDAsIDQpKSkgY2hlY2sgPSB0cnVlXG4gICAgICAgIH0pKG5hdmlnYXRvci51c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnZlbmRvciB8fCB3aW5kb3cub3BlcmEpO1xuICAgICAgICByZXR1cm4gY2hlY2s7XG4gICAgfVxufVxuXG5CbHVlSnVtcEdhbWUuQVVUT0pVTVAgPSB0cnVlO1xuQmx1ZUp1bXBHYW1lLkRFQlVHID0gdHJ1ZTtcbkJsdWVKdW1wR2FtZS5MRVZFTENSRUFUSU9OID0gdHJ1ZTtcbkJsdWVKdW1wR2FtZS5MQU5ESU5HX1RIUkVTSE9MRCA9IDI1O1xuQmx1ZUp1bXBHYW1lLkhPUklaT05UQUxfU1BFRUQgPSAxMTtcbkJsdWVKdW1wR2FtZS5HUkFWSVRZID0gMTtcbkJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFID0gMC4wNyAqIHdpbmRvdy5zY3JlZW4ud2lkdGg7XG5CbHVlSnVtcEdhbWUuQVJST1dfU0NBTEUgPSAwLjA2ICogd2luZG93LnNjcmVlbi53aWR0aDtcbkJsdWVKdW1wR2FtZS5NT1ZFTUVOVCA9IDAuNzUgKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRTtcbkJsdWVKdW1wR2FtZS5CQUNLR1JPVU5EX1NIQURFUyA9IDEzO1xuQmx1ZUp1bXBHYW1lLk1BWF9CQVJSSUVSUyA9IDEyOyAvLyBtYXhpbXVtIGFtb3VudCBvZiAoZmFrZSkgYmFycmllcnNcbkJsdWVKdW1wR2FtZS5DT05UUk9MU19NU0cgPSAnJztcbkJsdWVKdW1wR2FtZS5USVAgPSAnJztcbkJsdWVKdW1wR2FtZS5NT0JJTEVfQ09OVFJPTFMgPSBCbHVlSnVtcEdhbWUuaXNNb2JpbGVEZXZpY2UoKTtcbkJsdWVKdW1wR2FtZS5KVU1QX1BPV0VSO1xuQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSA9IEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFICogMC41O1xuQmx1ZUp1bXBHYW1lLkZPTlQ7XG5CbHVlSnVtcEdhbWUucGZ4ID0gW1wid2Via2l0XCIsIFwibW96XCIsIFwibXNcIiwgXCJvXCIsIFwiXCJdO1xuQmx1ZUp1bXBHYW1lLmZpZWxkO1xuQmx1ZUp1bXBHYW1lLklTX1NBRkFSSSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcbiAgICAuY2FsbCh3aW5kb3cuSFRNTEVsZW1lbnQpLmluZGV4T2YoJ0NvbnN0cnVjdG9yJykgPiAwO1xuLy8gbG9hZCBhc3NldHNcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGlydDBcIikub25sb2FkID0gKCkgPT4ge1xuICAgIEJsdWVKdW1wR2FtZS5kaXJ0MCA9IFtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkaXJ0MFwiKSxcbiAgICAgICAgQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsXG4gICAgICAgIDAuMjUgKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSxcbiAgICAgICAgMSxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIDAsXG4gICAgICAgIDBcbiAgICBdO1xufVxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlrZXNcIikub25sb2FkID0gKCkgPT4ge1xuICAgIEJsdWVKdW1wR2FtZS5zcGlrZXMgPSBuZXcgRmxvb3IoXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpa2VzXCIpLFxuICAgICAgICA1IC8gMyAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFLFxuICAgICAgICAwLjUxMyAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFLFxuICAgICAgICAxLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgMCxcbiAgICAgICAgMFxuICAgICk7XG59XG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxhdmFcIikub25sb2FkID0gKCkgPT4ge1xuICAgIEJsdWVKdW1wR2FtZS5sYXZhID0gbmV3IEZsb29yKFxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxhdmFcIiksXG4gICAgICAgIDUgLyAzICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsXG4gICAgICAgIDAuNTU4ICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsXG4gICAgICAgIDUsXG4gICAgICAgIHRydWUsXG4gICAgICAgIDAsXG4gICAgICAgIDBcbiAgICApO1xufVxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJicmlja3MwXCIpLm9ubG9hZCA9ICgpID0+IHtcbiAgICBCbHVlSnVtcEdhbWUuYnJpY2tzMCA9IFtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJicmlja3MwXCIpLFxuICAgICAgICBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSxcbiAgICAgICAgMC4yNSAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFLFxuICAgICAgICAxLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgMCxcbiAgICAgICAgMFxuICAgIF07XG59XG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJyaWNrczFcIikub25sb2FkID0gKCkgPT4ge1xuICAgIEJsdWVKdW1wR2FtZS5icmlja3MxID0gW1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJyaWNrczFcIiksXG4gICAgICAgIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFLFxuICAgICAgICAwLjI1ICogQmx1ZUp1bXBHYW1lLkJBUlJJRVJfU0NBTEUsXG4gICAgICAgIDEsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICAwLFxuICAgICAgICAwXG4gICAgXTtcbn1cbiIsImNsYXNzIEZsb29yIHtcbiAgICBjb25zdHJ1Y3RvcihpbWcsIGRpc3BsYXlXaWR0aCwgZGlzcGxheUhlaWdodCwgZnJhbWVzQ291bnQsIGFjdGlvbikge1xuICAgICAgICB0aGlzLnNwcml0ZSA9IG5ldyBTcHJpdGVBbmltYXRpb24oXG4gICAgICAgICAgICBpbWcsIGRpc3BsYXlXaWR0aCwgZGlzcGxheUhlaWdodCwgZnJhbWVzQ291bnQsIGFjdGlvbiwgMCwgMCwgMzBcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5yZXBlYXRzID0gTWF0aC5jZWlsKHdpbmRvdy5zY3JlZW4ud2lkdGggLyBkaXNwbGF5V2lkdGgpO1xuICAgIH1cblxuICAgIHNob3cob3JpZ1dpZHRoLCBvcmlnSGVpZ2h0KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZXBlYXRzOyBpKyspXG4gICAgICAgICAgICB0aGlzLmltYWdlLnNob3coXG4gICAgICAgICAgICAgICAgaSAqIHRoaXMuaW1hZ2Uud2lkdGgsXG4gICAgICAgICAgICAgICAgKEJsdWVKdW1wR2FtZS5JU19TQUZBUkkgPyB3aW5kb3dIZWlnaHQgOiB3aW5kb3cuc2NyZWVuLmhlaWdodCkgLSB0aGlzLmltYWdlLmhlaWdodCxcbiAgICAgICAgICAgICAgICBvcmlnV2lkdGgsXG4gICAgICAgICAgICAgICAgb3JpZ0hlaWdodFxuICAgICAgICAgICAgKTtcbiAgICB9XG59XG4iLCJjbGFzcyBQbGF5ZXIge1xuICAgIGNvbnN0cnVjdG9yKHgsIHkpIHtcbiAgICAgICAgdGhpcy5oaWdoZXN0WSA9IHk7XG4gICAgICAgIHRoaXMuYnVyaWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pbml0aWFsUCA9IHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucCA9IHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudiA9IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYSA9IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiBCbHVlSnVtcEdhbWUuR1JBVklUWVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0YXRzID0ge1xuICAgICAgICAgICAgc2NvcmU6IDAsXG4gICAgICAgICAgICBwaXhlbHNUcmF2ZXJzZWQ6IDAsXG4gICAgICAgICAgICBiYXJyaWVyc0p1bXBlZDogMCxcbiAgICAgICAgICAgIGFsaXZlOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWN0aXZpdHkgPSAwO1xuICAgICAgICB0aGlzLmFjdGl2aXRpZXMgPSBbXG4gICAgICAgICAgICBuZXcgU3ByaXRlQW5pbWF0aW9uKGFyZ3VtZW50c1syXVswXSwgYXJndW1lbnRzWzJdWzFdLCBhcmd1bWVudHNbMl1bMl0sIGFyZ3VtZW50c1syXVszXSwgYXJndW1lbnRzWzJdWzRdLCBhcmd1bWVudHNbMl1bNV0sIGFyZ3VtZW50c1syXVs2XSlcbiAgICAgICAgXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDM7IGkgPD0gNjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1tpXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2aXRpZXMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgbmV3IFNwcml0ZUFuaW1hdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1tpXVswXSwgYXJndW1lbnRzW2ldWzFdLCBhcmd1bWVudHNbaV1bMl0sIGFyZ3VtZW50c1tpXVszXSwgYXJndW1lbnRzW2ldWzRdLCBhcmd1bWVudHNbaV1bNV0sIGFyZ3VtZW50c1tpXVs2XVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLndhbGsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZpdHkgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZhbGxpbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIGZhbGwoKSB7XG4gICAgICAgIHRoaXMuZmFsbGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuYS55ID0gQmx1ZUp1bXBHYW1lLkdSQVZJVFk7XG4gICAgfVxuXG4gICAgc3RhbmQoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZpdHkgPSAwO1xuICAgIH1cblxuICAgIGdldFRyYXZlcnNlZFBpeGVscygpIHtcbiAgICAgICAgdGhpcy5oaWdoZXN0WSA9IHRoaXMuaGlnaGVzdFkgPiB0aGlzLnAueSA/IHRoaXMucC55IDogdGhpcy5oaWdoZXN0WTtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy5zdGF0cy5waXhlbHNUcmF2ZXJzZWQgKyB0aGlzLmluaXRpYWxQLnkgLSB0aGlzLmhpZ2hlc3RZKTtcbiAgICB9XG5cbiAgICBnZXRTY29yZSgpIHtcbiAgICAgICAgY29uc3QgcyA9IDMgKiB0aGlzLmdldFRyYXZlcnNlZFBpeGVscygpICsgNDAwICogKHRoaXMuc3RhdHMuYmFycmllcnNKdW1wZWQgLSAxKSAqIDAuNztcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQocyk7XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAoKEJsdWVKdW1wR2FtZS5BVVRPSlVNUCB8fCBrZXlEb3duKDMyKSkgJiYgIXRoaXMuZmFsbGluZykge1xuICAgICAgICAgICAgdGhpcy5qdW1wKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RhdHMuYWxpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhbmQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnYueCA9IDA7XG4gICAgICAgIGlmIChCbHVlSnVtcEdhbWUuTU9CSUxFX0NPTlRST0xTKSB7IC8vIG1vYmlsZSBjb250cm9sc1xuICAgICAgICAgICAgdGhpcy52LnggPSBCbHVlSnVtcEdhbWUuSE9SSVpPTlRBTF9TUEVFRCAqIG9yaWVudGVkTW92ZW1lbnQ7XG4gICAgICAgIH0gZWxzZSB7IC8vIGtleWJvYXJkIGNvbnRyb2xzXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKGtleURvd24oMzcpIHx8IGtleURvd24oJ2EnKSkgIT09IChrZXlEb3duKDM5KSB8fCBrZXlEb3duKCdkJykpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0cy5hbGl2ZSkgdGhpcy53YWxrKCk7XG4gICAgICAgICAgICAgICAgaWYgKGtleURvd24oMzcpIHx8IGtleURvd24oJ2EnKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52LnggPSAtQmx1ZUp1bXBHYW1lLkhPUklaT05UQUxfU1BFRUQ7XG4gICAgICAgICAgICAgICAgZWxzZSB0aGlzLnYueCA9IEJsdWVKdW1wR2FtZS5IT1JJWk9OVEFMX1NQRUVEO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucC54ID0gY29uc3RyYWluKHRoaXMucC54ICsgdGhpcy52LngsIDAsIHdpZHRoIC0gdGhpcy5hY3Rpdml0aWVzW3RoaXMuYWN0aXZpdHldLndpZHRoKTtcbiAgICAgICAgdGhpcy5wLnkgPSBjb25zdHJhaW4odGhpcy5wLnkgKyB0aGlzLnYueSwgMCwgaGVpZ2h0IC0gdGhpcy5hY3Rpdml0aWVzW3RoaXMuYWN0aXZpdHldLmhlaWdodCk7XG4gICAgICAgIHRoaXMudi54ICs9IHRoaXMuYS54O1xuICAgICAgICB0aGlzLnYueSArPSB0aGlzLmEueTtcbiAgICAgICAgaWYgKHRoaXMucC55IDwgaGVpZ2h0IC8gMykge1xuICAgICAgICAgICAgY29uc3QgZXhjZWVkYW5jZSA9IGhlaWdodCAvIDMgLSB0aGlzLnAueTtcbiAgICAgICAgICAgIHRoaXMuc3RhdHMucGl4ZWxzVHJhdmVyc2VkICs9IGV4Y2VlZGFuY2U7XG4gICAgICAgICAgICB0aGlzLnAueSA9IGhlaWdodCAvIDM7XG4gICAgICAgICAgICBmb3IgKGxldCBiID0gMDsgYiA8IGJqLmJhcnJpZXJzLmxlbmd0aDsgYisrKSB7XG4gICAgICAgICAgICAgICAgYmouYmFycmllcnNbYl0ucC55ICs9IGV4Y2VlZGFuY2U7XG4gICAgICAgICAgICAgICAgaWYgKGJqLmJhcnJpZXJzW2JdLnAueSA+PSBoZWlnaHQgLSA0MClcbiAgICAgICAgICAgICAgICAgICAgYmouYmFycmllcnMuc3BsaWNlKGIsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgZmIgPSAwOyBmYiA8IGZha2VCYXJyaWVycy5sZW5ndGg7IGZiKyspIHtcbiAgICAgICAgICAgICAgICBmYWtlQmFycmllcnNbZmJdLnAueSArPSBleGNlZWRhbmNlIC8gZmFrZUJhcnJpZXJzW2ZiXS5wLno7XG4gICAgICAgICAgICAgICAgaWYgKGZha2VCYXJyaWVyc1tmYl0ucC55ID49IGhlaWdodCAtIDUwKVxuICAgICAgICAgICAgICAgICAgICBmYWtlQmFycmllcnMuc3BsaWNlKGZiLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmEueSA9IEJsdWVKdW1wR2FtZS5HUkFWSVRZO1xuICAgICAgICBpZiAodGhpcy5wLnkgKyB0aGlzLmFjdGl2aXRpZXNbdGhpcy5hY3Rpdml0eV0uaGVpZ2h0ID49IGhlaWdodCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHMuYWxpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhbmQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHRoaXMuYnVyeSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGIgPSAwOyBiIDwgYmFycmllcnMubGVuZ3RoOyBiKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbGxpZGUoYmFycmllcnNbYl0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnAueSArIHRoaXMuYWN0aXZpdGllc1t0aGlzLmFjdGl2aXR5XS5oZWlnaHQgPj0gYmFycmllcnNbYl0ucC55ICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucC55ICsgdGhpcy5hY3Rpdml0aWVzW3RoaXMuYWN0aXZpdHldLmhlaWdodCAtIGJhcnJpZXJzW2JdLnAueSA8PSBMQU5ESU5HX1RIUkVTSE9MRCAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnYueSA+IDBcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFycmllcnNbYl0ucC55IC0gdGhpcy5hY3Rpdml0aWVzW3RoaXMuYWN0aXZpdHldLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhcnJpZXJzW2JdLnYueFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWJhcnJpZXJzW2JdLmp1bXBlZCkgdGhpcy5zdGF0cy5iYXJyaWVyc0p1bXBlZCsrO1xuICAgICAgICAgICAgICAgICAgICBiYXJyaWVyc1tiXS5qdW1wZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRzLnNjb3JlID0gdGhpcy5nZXRTY29yZSgpO1xuICAgIH1cblxuICAgIGp1bXAoRikge1xuICAgICAgICBjb25zdCBwb3dlciA9IHR5cGVvZiBGICE9PSAndW5kZWZpbmVkJyA/IEYgOiBCbHVlSnVtcEdhbWUuSlVNUF9QT1dFUjtcbiAgICAgICAgdGhpcy5mYWxsKCk7XG4gICAgICAgIHRoaXMudi55IC09IHBvd2VyO1xuICAgIH1cblxuICAgIGxhbmQoeSwgZFgpIHtcbiAgICAgICAgdGhpcy5mYWxsaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYS55ID0gMDtcbiAgICAgICAgdGhpcy52LnkgPSAwO1xuICAgICAgICBpZiAodHlwZW9mIHkgIT09ICd1bmRlZmluZWQnKSB0aGlzLnAueSA9IHk7XG4gICAgICAgIGlmICh0eXBlb2YgZFggIT09ICd1bmRlZmluZWQnKSB0aGlzLnAueCArPSAyICogZFg7XG4gICAgfVxuXG4gICAgY29sbGlkZSh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucC54ICsgdGhpcy5hY3Rpdml0aWVzW3RoaXMuYWN0aXZpdHldLndpZHRoIC0gdGhpcy5hY3Rpdml0aWVzW3RoaXMuYWN0aXZpdHldLnBhZGRpbmcucmlnaHQgPj0gdGFyZ2V0LnAueCAmJlxuICAgICAgICAgICAgdGhpcy5wLnggKyB0aGlzLmFjdGl2aXRpZXNbdGhpcy5hY3Rpdml0eV0ucGFkZGluZy5sZWZ0IDw9IHRhcmdldC5wLnggKyB0YXJnZXQud2lkdGggJiZcbiAgICAgICAgICAgIHRoaXMucC55ICsgdGhpcy5hY3Rpdml0aWVzW3RoaXMuYWN0aXZpdHldLmhlaWdodCA+PSB0YXJnZXQucC55ICYmXG4gICAgICAgICAgICB0aGlzLnAueSA8PSB0YXJnZXQucC55ICsgdGFyZ2V0LmhlaWdodDtcbiAgICB9XG5cbiAgICBkaWUoKSB7XG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWN0aXZpdHkgPSAzO1xuICAgICAgICB0aGlzLnAueSA9IChCbHVlSnVtcEdhbWUuSVNfU0FGQVJJID8gd2luZG93SGVpZ2h0IDogd2luZG93LnNjcmVlbi5oZWlnaHQpIC0gMyAqIEJsdWVKdW1wR2FtZS5CQVJSSUVSX1NDQUxFIC8gMztcbiAgICAgICAgdGV4dEFuaW1hdGlvbnMucHVzaChcbiAgICAgICAgICAgIG5ldyBUZXh0QW5pbWF0aW9uKDMsIHdpZHRoICogMC44LCAyICogQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSwgZnJhbWVSYXRlKCkgLyAzLCAyICogZnJhbWVSYXRlKCkgLyAzLCBbMCwgMCwgMF0sIGZyYW1lQ291bnQpXG4gICAgICAgICk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGV4dEFuaW1hdGlvbnMucHVzaChcbiAgICAgICAgICAgICAgICBuZXcgVGV4dEFuaW1hdGlvbigyLCB3aWR0aCAqIDAuOCwgMiAqIEJsdWVKdW1wR2FtZS5URVhUX1NJWkUsIGZyYW1lUmF0ZSgpIC8gMywgMiAqIGZyYW1lUmF0ZSgpIC8gMywgWzAsIDAsIDBdLCBmcmFtZUNvdW50KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGV4dEFuaW1hdGlvbnMucHVzaChcbiAgICAgICAgICAgICAgICBuZXcgVGV4dEFuaW1hdGlvbigxLCB3aWR0aCAqIDAuOCwgMiAqIEJsdWVKdW1wR2FtZS5URVhUX1NJWkUsIGZyYW1lUmF0ZSgpIC8gMywgMiAqIGZyYW1lUmF0ZSgpIC8gMywgWzAsIDAsIDBdLCBmcmFtZUNvdW50KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGF0cy5hbGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5hY3Rpdml0eSA9IDI7XG4gICAgICAgICAgICB0aGlzLmp1bXAoMi4yICogSlVNUF9QT1dFUik7XG4gICAgICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICB0ZXh0QW5pbWF0aW9ucy5wdXNoKG5ldyBUZXh0QW5pbWF0aW9uKFwiU0VDT05EIENIQU5DRSFcIiwgd2lkdGggKiAwLjgsIDEuNSAqIEJsdWVKdW1wR2FtZS5URVhUX1NJWkUsIGZyYW1lUmF0ZSgpIC8gMywgMiAqIGZyYW1lUmF0ZSgpLCBbMCwgMCwgMF0sIGZyYW1lQ291bnQpKTtcbiAgICAgICAgfSwgMzIwMCk7XG4gICAgfVxuXG4gICAgcmVzdXJyZWN0KCkge1xuICAgICAgICB0aGlzLnN0YXRzLmFsaXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hY3Rpdml0eSA9IDA7XG4gICAgfVxuXG4gICAgYnVyeSgpIHtcbiAgICAgICAgLy8gcHVzaFJhbmsodGhpcy5zdGF0cy5zY29yZSk7XG4gICAgICAgIC8vIGdldFJhbmtzKCk7XG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnVyeWluZyA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucC55ICs9IDI7XG4gICAgICAgICAgICBpZiAodGhpcy5wLnkgPj0gKEJsdWVKdW1wR2FtZS5JU19TQUZBUkkgPyB3aW5kb3dIZWlnaHQgOiB3aW5kb3cuc2NyZWVuLmhlaWdodCkgLSBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSAvIDMpIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuYnVyeWluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpdml0eSA9IDQ7XG4gICAgICAgICAgICAgICAgdGhpcy5idXJ5aW5nID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnAueS0tO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wLnkgPD0gKEJsdWVKdW1wR2FtZS5JU19TQUZBUkkgPyB3aW5kb3dIZWlnaHQgOiB3aW5kb3cuc2NyZWVuLmhlaWdodCkgLSAyLjcgKiBCbHVlSnVtcEdhbWUuQkFSUklFUl9TQ0FMRSAvIDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5idXJ5aW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbmltYXRpb25zLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRleHRBbmltYXRpb24oXCJHQU1FIE9WRVIhXCIsIHdpZHRoICogMC44LCAxLjUgKiB0eHRTaXplLCBmcmFtZVJhdGUoKSAvIDMsIEluZmluaXR5LCBbMCwgMCwgMF0sIGZyYW1lQ291bnQsIHdpZHRoIC8gMiwgMTAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVNb2RlKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idXJpZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMTAwMCAvIGZyYW1lUmF0ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwMCAvIGZyYW1lUmF0ZSgpKTtcbiAgICB9XG59XG4iLCJjbGFzcyBTcHJpdGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBpbWcsXG4gICAgICAgIGRpc3BsYXlXaWR0aCwgZGlzcGxheUhlaWdodCxcbiAgICAgICAgZnJhbWVzQ291bnQsXG4gICAgICAgIGFjdGlvbixcbiAgICAgICAgcGFkZGluZ0xlZnQsIHBhZGRpbmdSaWdodCxcbiAgICAgICAgZnBzU2NhbGVcbiAgICApIHtcbiAgICAgICAgdGhpcy5pbWcgPSBpbWc7XG4gICAgICAgIHRoaXMuZGlzcGxheVdpZHRoID0gZGlzcGxheVdpZHRoO1xuICAgICAgICB0aGlzLmRpc3BsYXlIZWlnaHQgPSBkaXNwbGF5SGVpZ2h0O1xuICAgICAgICB0aGlzLmZyYW1lc0NvdW50ID0gZnJhbWVzQ291bnQ7XG4gICAgICAgIHRoaXMuYWN0aW9uID0gYWN0aW9uO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5mcHNTY2FsZSA9IHR5cGVvZiBmcHNTY2FsZSA9PT0gJ3VuZGVmaW5lZCcgPyAyIDogZnBzU2NhbGU7XG4gICAgICAgIHRoaXMucGFkZGluZyA9IHtcbiAgICAgICAgICAgIGxlZnQ6IHR5cGVvZiBwYWRkaW5nTGVmdCA9PT0gJ3VuZGVmaW5lZCcgPyAwIDogcGFkZGluZ0xlZnQsXG4gICAgICAgICAgICByaWdodDogdHlwZW9mIHBhZGRpbmdSaWdodCA9PT0gJ3VuZGVmaW5lZCcgPyAwIDogcGFkZGluZ1JpZ2h0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc2hvdyh4LCB5LCBvcmlnV2lkdGgsIG9yaWdIZWlnaHQpIHtcbiAgICAgICAgY29uc3QgZnJhbWVJbmRleCA9XG4gICAgICAgICAgICBNYXRoLmZsb29yKHRoaXMuY291bnQgLyB0aGlzLmZwc1NjYWxlKSAlIHRoaXMuZnJhbWVzQ291bnQ7XG4gICAgICAgIGNvbnN0IHNyY1dpZHRoID0gdHlwZW9mIG9yaWdXaWR0aCA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLmRpc3BsYXlXaWR0aCA6IG9yaWdXaWR0aDtcbiAgICAgICAgY29uc3Qgc3JjSGVpZ2h0ID0gdHlwZW9mIG9yaWdIZWlnaHQgPT09ICd1bmRlZmluZWQnID8gdGhpcy5kaXNwbGF5SGVpZ2h0IDogb3JpZ0hlaWdodDtcbiAgICAgICAgdGhpcy5jb3VudCsrO1xuICAgICAgICAvLyBwZXJmb3JtIHRoZSBhY3Rpb24gKHN1Y2ggYXMgYmxpbmtpbmcpXG4gICAgICAgIGlmICh0aGlzLmFjdGlvbiAmJiBmcmFtZUluZGV4ID09PSB0aGlzLmZyYW1lc0NvdW50IC0gMSAmJiBNYXRoLnJhbmRvbSgpID4gMC4yNSkge1xuICAgICAgICAgICAgZnJhbWVJbmRleCA9IDA7XG4gICAgICAgICAgICB0aGlzLmNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgQmx1ZUp1bXBHYW1lLmZpZWxkLmRyYXdJbWFnZShcbiAgICAgICAgICAgIHRoaXMuaW1nLFxuICAgICAgICAgICAgZnJhbWVJbmRleCAqIHNyY1dpZHRoLCAwLFxuICAgICAgICAgICAgc3JjV2lkdGgsIHNyY0hlaWdodCxcbiAgICAgICAgICAgIHgsIHksXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlXaWR0aCwgdGhpcy5kaXNwbGF5SGVpZ2h0XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiY2xhc3MgVGV4dCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHRleHQsIGJlZ2luU2l6ZSwgZmluYWxTaXplLCB0cmFuc2l0aW9uLCBkZWxheSwgY29sb3VyLCBjcmVhdGlvbiwgeCwgeVxuICAgICkge1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLmZpbmFsU2l6ZSA9IGZpbmFsU2l6ZTtcbiAgICAgICAgdGhpcy5jdXJyZW50U2l6ZSA9IGJlZ2luU2l6ZSAtIChiZWdpblNpemUgJSBmaW5hbFNpemUpOyAvLyBUT0RPOiBjaGVjayB0aGlzXG4gICAgICAgIHRoaXMuZGVjcmVhc2UgPSAodGhpcy5jdXJyZW50U2l6ZSAtIHRoaXMuZmluYWxTaXplKSAvIHRyYW5zaXRpb247XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbiA9IHRyYW5zaXRpb247XG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICAgICAgdGhpcy5jb2xvdXIgPSBjb2xvdXI7XG4gICAgICAgIHRoaXMuY3JlYXRpb24gPSBjcmVhdGlvbjtcbiAgICAgICAgdGhpcy54ID0gdHlwZW9mIHggPT09ICd1bmRlZmluZWQnID8gd2lkdGggLyAyIDogeDtcbiAgICAgICAgdGhpcy55ID0gdHlwZW9mIHkgPT09ICd1bmRlZmluZWQnID8gaGVpZ2h0IC8gMiA6IHk7XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50U2l6ZSA+IHRoaXMuZmluYWxTaXplKSB0aGlzLmN1cnJlbnRTaXplIC09IHRoaXMuZGVjcmVhc2U7XG4gICAgfVxuXG4gICAgc2hvdygpIHtcbiAgICAgICAgdGV4dFNpemUodGhpcy5jdXJyZW50U2l6ZSk7XG4gICAgICAgIHRleHRBbGlnbihDRU5URVIpO1xuICAgICAgICBmaWxsKHRoaXMuY29sb3VyKTtcbiAgICAgICAgc3Ryb2tlKDI1NSk7XG4gICAgICAgIHN0cm9rZVdlaWdodCg2KTtcbiAgICAgICAgdGV4dCh0aGlzLnRleHQsIHRoaXMueCwgdGhpcy55KTtcbiAgICB9XG5cbiAgICBzaG91bGRCZURlbGV0ZWQoKSB7XG4gICAgICAgIHJldHVybiBmcmFtZUNvdW50IDw9IHRoaXMudHJhbnNpdGlvbiArIHRoaXMuZGVsYXkgKyB0aGlzLmNyZWF0aW9uO1xuICAgIH1cbn1cbiIsImxldCBiajtcblxuZnVuY3Rpb24gcHJlbG9hZCgpIHtcbiAgICBCbHVlSnVtcEdhbWUuRk9OVCA9IGxvYWRGb250KCdhc3NldHMvZm9udHMvcm9ib3QwMS50dGYnKTtcbn1cblxuZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgYmogPSBuZXcgQmx1ZUp1bXBHYW1lKCk7XG4gICAgaWYgKEJsdWVKdW1wR2FtZS5JU19TQUZBUkkpIHtcbiAgICAgICAgY3JlYXRlQ2FudmFzKHdpbmRvdy5zY3JlZW4ud2lkdGgsIHdpbmRvd0hlaWdodCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY3JlYXRlQ2FudmFzKHdpbmRvdy5zY3JlZW4ud2lkdGgsIHdpbmRvdy5zY3JlZW4uaGVpZ2h0KTtcbiAgICB9XG4gICAgQmx1ZUp1bXBHYW1lLmZpZWxkID1cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWZhdWx0Q2FudmFzMFwiKS5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgY29sb3JNb2RlKFJHQik7XG4gICAgYmouY29sb3VycyA9IFtcbiAgICAgICAgY29sb3IoNjQsIDExMiwgMTg0KSxcbiAgICAgICAgY29sb3IoMTkxLCAyMTgsIDIzNSksXG4gICAgICAgIGNvbG9yKDkwLCAwLCAwKSxcbiAgICAgICAgY29sb3IoMjAwLCAwLCAwKVxuICAgIF07XG4gICAgLy8ga2VlcCBzcGVlZCBzaW1pbGFyIGFjcm9zcyBkaWZmZXJlbnQgZGV2aWNlc1xuICAgIGlmIChCbHVlSnVtcEdhbWUuTU9CSUxFX0NPTlRST0xTID09PSAwKSBmcmFtZVJhdGUoMzApO1xuICAgIGVsc2UgZnJhbWVSYXRlKDI3KTtcbiAgICAvLyBmaXggZm9udFxuICAgIHRleHRGb250KEJsdWVKdW1wR2FtZS5GT05UKTtcbn1cblxuZnVuY3Rpb24gZHJhdygpIHtcbiAgICBiYWNrZ3JvdW5kKDUxKTtcbiAgICBub1N0cm9rZSgpO1xuICAgIC8vIGRyYXcgc2hhZGVkIGJhY2tncm91bmRcbiAgICBmb3IgKGxldCBiZyA9IDA7IGJnIDwgMTsgYmcgKz0gMSAvIEJsdWVKdW1wR2FtZS5CQUNLR1JPVU5EX1NIQURFUykge1xuICAgICAgICBjb25zdCBvcmlnaW4gPSBiai5wbGF5ZXIuc3RhdHMuYWxpdmUgPyAwIDogMjsgLy8gMDE6YWxpdmUsIDIzOmRlYWRcbiAgICAgICAgY29uc3Qgc2hhZGUgPSBsZXJwQ29sb3IoXG4gICAgICAgICAgICBiai5jb2xvdXJzW29yaWdpbl0sIGJqLmNvbG91cnNbb3JpZ2luICsgMV0sIGJnXG4gICAgICAgICk7XG4gICAgICAgIGZpbGwoc2hhZGUpO1xuICAgICAgICByZWN0KDAsIGhlaWdodCAqIGJnLCB3aWR0aCwgaGVpZ2h0ICogKGJnICsgMSkpO1xuICAgIH1cbiAgICAvLyBkcmF3IHRoZSBmYWtlIGJhcnJpZXJzXG4gICAgbGV0IGhpZ2hlc3RGYWtlID0gYmouZmFrZUJhcnJpZXJzWzBdO1xuICAgIGZvciAobGV0IGZiID0gMDsgZmIgPCBiai5mYWtlQmFycmllcnMubGVuZ3RoOyBmYisrKSB7XG4gICAgICAgIGlmIChiai5mYWtlQmFycmllcnNbZmJdLnAueSA8IGhpZ2hlc3RGYWtlLnAueSlcbiAgICAgICAgICAgIGhpZ2hlc3RGYWtlID0gYmouZmFrZUJhcnJpZXJzW2ZiXTsgLy8gVE9ETzogaXMgdGhpcyByaWdodD9cbiAgICAgICAgZmFrZUJhcnJpZXJzW2ZiXS5zaG93KCk7XG4gICAgfVxuICAgIGlmIChiai5mYWtlQmFycmllcnMubGVuZ3RoIDwgQmx1ZUp1bXBHYW1lLk1BWF9CQVJSSUVSUylcbiAgICAgICAgcGlja05ld0hpZ2hlc3QoXG4gICAgICAgICAgICBoaWdoZXN0RmFrZS5wLFxuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgIGJqLmZha2VCYXJyaWVycy5sZW5ndGggPCBCbHVlSnVtcEdhbWUuTUFYX0JBUlJJRVJTIC0gMlxuICAgICAgICApO1xuICAgIC8vIGRyYXcgdGhlIHJlYWwgYmFycmllcnNcbiAgICBsZXQgaGlnaGVzdCA9IGJqLmJhcnJpZXJzWzBdO1xuICAgIGZvciAobGV0IGIgPSAwOyBiIDwgYmouYmFycmllcnMubGVuZ3RoOyBiKyspIHtcbiAgICAgICAgaWYgKGJqLmJhcnJpZXJzW2JdLnAueSA8IGhpZ2hlc3QucC55KVxuICAgICAgICAgICAgaGlnaGVzdCA9IGJqLmJhcnJpZXJzW2JdOyAvLyBUT0RPOiBpcyB0aGlzIHJpZ2h0P1xuICAgICAgICBiYXJyaWVyc1tiXS5zaG93KCk7XG4gICAgfVxuICAgIGlmIChoaWdoZXN0LnAueSA+IC0xMDAgJiYgQmx1ZUp1bXBHYW1lLkxFVkVMQ1JFQVRJT04pXG4gICAgICAgIHBpY2tOZXdIaWdoZXN0KGhpZ2hlc3QucCwgZmFsc2UpO1xuICAgIC8vIGV4dHJhIGluZm9ybWF0aW9uXG4gICAgaWYgKEJsdWVKdW1wR2FtZS5ERUJVRykge1xuICAgICAgICB0ZXh0QWxpZ24oUklHSFQpO1xuICAgICAgICB0ZXh0U2l6ZSgxOCk7XG4gICAgICAgIHN0cm9rZSgwKTtcbiAgICAgICAgZmlsbCgyNTUsIDI1NSwgMCk7XG4gICAgICAgIHRleHQoXCJTY29yZTogXCIgKyBiai5wbGF5ZXIuZ2V0U2NvcmUoKSwgd2lkdGggLSA2MCwgNjApO1xuICAgICAgICB0ZXh0KFwiQmFycmllcnM6IFwiICsgYmoucGxheWVyLnN0YXRzLmJhcnJpZXJzSnVtcGVkLCB3aWR0aCAtIDYwLCA5MCk7XG4gICAgICAgIHRleHQoXCJQaXhlbHMgdHJhdmVyc2VkIHZlcnRpY2FsbHk6IFwiICsgYmoucGxheWVyLmdldFRyYXZlcnNlZFBpeGVscygpLCB3aWR0aCAtIDYwLCAxMjApO1xuICAgICAgICB0ZXh0KFwiRlBTOiBcIiArIE1hdGgucm91bmQoZnJhbWVSYXRlKCkpLCB3aWR0aCAtIDYwLCAxNTApO1xuICAgICAgICB0ZXh0KFwiQ29udHJvbHM6IFwiICsgQmx1ZUp1bXBHYW1lLk1PQklMRV9DT05UUk9MUywgd2lkdGggLSA2MCwgMjEwKTtcbiAgICAgICAgdGV4dChcInJvdGF0aW9uOiBcIiArIGJqLnJvdGF0aW9uLnRvRml4ZWQoMyksIHdpZHRoIC0gNjAsIDI0MCk7XG4gICAgICAgIHRleHQoXCJvcmllbnRlZE1vdmVtZW50OiBcIiArIGJqLm9yaWVudGVkTW92ZW1lbnQudG9GaXhlZCgzKSwgd2lkdGggLSA2MCwgMjcwKTtcbiAgICAgICAgdGV4dChcImJhcnJpZXJzTGVuZ3RoOiBcIiArIGJqLmZha2VCYXJyaWVycy5sZW5ndGgsIHdpZHRoIC0gNjAsIDMwMCk7XG4gICAgICAgIHRleHQoXCJ3aWR0aDogXCIgKyB3aW5kb3cuc2NyZWVuLndpZHRoLCB3aWR0aCAtIDYwLCAzMzApO1xuICAgICAgICB0ZXh0KFwiaGVpZ2h0OiBcIiArIChCbHVlSnVtcEdhbWUuSVNfU0FGQVJJID8gd2luZG93SGVpZ2h0IDogd2luZG93LnNjcmVlbi5oZWlnaHQpLCB3aWR0aCAtIDYwLCAzNjApO1xuICAgICAgICB0ZXh0KFwibW91c2VYLCBtb3VzZVk6IFwiICsgbW91c2VYICsgXCIsIFwiICsgbW91c2VZLCB3aWR0aCAtIDYwLCAzOTApO1xuICAgIH1cbiAgICAvLyBzaG93IGNoYXJhY3RlciBwZXJmb3JtaW5nIGN1cnJlbnQgYWN0aXZpdHlcbiAgICBiai5wbGF5ZXIuYWN0aXZpdGllc1tiai5wbGF5ZXIuYWN0aXZpdHldLnNob3coXG4gICAgICAgIGJqLnBsYXllci5wLngsIGJqLnBsYXllci5wLnksXG4gICAgICAgIDEwMCwgMTAwXG4gICAgKTtcbiAgICAvLyBkaXNwbGF5IHRoZSBmbG9vclxuICAgIGlmIChiai5wbGF5ZXIuc3RhdHMuYWxpdmUpIEJsdWVKdW1wR2FtZS5zcGlrZXMuc2hvdygxNTAsIDQ2KTtcbiAgICBlbHNlIEJsdWVKdW1wR2FtZS5sYXZhLnNob3coMTUwLCA1MCk7XG4gICAgLy8gc2hvdyBhbnkgdGV4dCBcImFuaW1hdGlvbnNcIlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmoudGV4dEFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGJqLnRleHRBbmltYXRpb25zW2ldLnNob3VsZEJlRGVsZXRlZCgpKSB7XG4gICAgICAgICAgICBiai50ZXh0QW5pbWF0aW9uc1tpXS51cGRhdGUoKTtcbiAgICAgICAgICAgIGJqLnRleHRBbmltYXRpb25zW2ldLnNob3coKTtcbiAgICAgICAgfSBlbHNlIGJqLnRleHRBbmltYXRpb25zW2ldLnNwbGljZShpLCAxKTtcbiAgICB9XG4gICAgLy8gc2hvdyBzdHVmZiBkZXBlbmRpbmcgb24gY3VycmVudCBnYW1lTW9kZSBUT0RPOiByZWZhY3RvciB0aGlzXG4gICAgc3dpdGNoIChiai5nYW1lTW9kZSkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBpZiAoIUJsdWVKdW1wR2FtZS5JU19TQUZBUkkgJiYgLy8gVE9ETzogc3BsaXQgb2ZmXG4gICAgICAgICAgICAgICAgIUJsdWVKdW1wR2FtZS5wcmVmaXgoZG9jdW1lbnQsIFwiRnVsbFNjcmVlblwiKSAmJlxuICAgICAgICAgICAgICAgICFCbHVlSnVtcEdhbWUucHJlZml4KGRvY3VtZW50LCBcIklzRnVsbFNjcmVlblwiKSkge1xuICAgICAgICAgICAgICAgIC8vIG5vdCBpbiBmdWxsc2NyZWVuIG1vZGVcbiAgICAgICAgICAgICAgICBnYW1lTW9kZSgtMSk7XG4gICAgICAgICAgICAgICAgYmouZnVsbFNjcmVlbkFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYXJyaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGJhcnJpZXJzW2ldLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJqLnBsYXllci5zaG91bGRVcGRhdGUgJiYgYmouZnVsbFNjcmVlbkFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGJqLnBsYXllci51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC0xOlxuICAgICAgICAgICAgbm9TdHJva2UoKTtcbiAgICAgICAgICAgIGZpbGwoJ3JnYmEoMCwwLDAsMC44KScpOyAvLyBUT0RPOiBpcyB0aGVyZSBhbiBhY3R1YWwgZnVuY3Rpb24gZm9yIHRoaXM/XG4gICAgICAgICAgICByZWN0KDAsIDAsIHdpbmRvdy5zY3JlZW4ud2lkdGgsIChCbHVlSnVtcEdhbWUuSVNfU0FGQVJJID8gd2luZG93SGVpZ2h0IDogd2luZG93LnNjcmVlbi5oZWlnaHQpKTtcbiAgICAgICAgICAgIGZpbGwoMjAwLCAyMDAsIDApO1xuICAgICAgICAgICAgc3Ryb2tlV2VpZ2h0KEJsdWVKdW1wR2FtZS5BUlJPV19TQ0FMRSAqIDAuMTI1KTtcbiAgICAgICAgICAgIHN0cm9rZSgyNTUpO1xuICAgICAgICAgICAgLy8gdGVrZW4gZWVuIHBpamxcbiAgICAgICAgICAgIHB1c2goKTtcbiAgICAgICAgICAgIHRyYW5zbGF0ZSgxMDAsIDMwKTtcbiAgICAgICAgICAgIGJlZ2luU2hhcGUoKTtcbiAgICAgICAgICAgIHZlcnRleCgwLCAwKTtcbiAgICAgICAgICAgIHZlcnRleChcbiAgICAgICAgICAgICAgICBCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEUgKiAxLjA1LFxuICAgICAgICAgICAgICAgIDAuMjcgKiBCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB2ZXJ0ZXgoXG4gICAgICAgICAgICAgICAgMC42MiAqIEJsdWVKdW1wR2FtZS5BUlJPV19TQ0FMRSxcbiAgICAgICAgICAgICAgICAwLjU1ICogQmx1ZUp1bXBHYW1lLkFSUk9XX1NDQUxFXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdmVydGV4KFxuICAgICAgICAgICAgICAgIDEuNjUgKiBCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEUsXG4gICAgICAgICAgICAgICAgMi4wODUgKiBCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB2ZXJ0ZXgoXG4gICAgICAgICAgICAgICAgMS4xOCAqIEJsdWVKdW1wR2FtZS5BUlJPV19TQ0FMRSxcbiAgICAgICAgICAgICAgICAyLjQxICogQmx1ZUp1bXBHYW1lLkFSUk9XX1NDQUxFXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdmVydGV4KFxuICAgICAgICAgICAgICAgIDAuMTggKiBCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEUsXG4gICAgICAgICAgICAgICAgMC43OSAqIEJsdWVKdW1wR2FtZS5BUlJPV19TQ0FMRVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHZlcnRleChcbiAgICAgICAgICAgICAgICAtMC4yNSAqIEJsdWVKdW1wR2FtZS5BUlJPV19TQ0FMRSxcbiAgICAgICAgICAgICAgICBCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlbmRTaGFwZShDTE9TRSk7XG4gICAgICAgICAgICBwb3AoKTtcbiAgICAgICAgICAgIHRleHRBbGlnbihMRUZUKTtcbiAgICAgICAgICAgIHRleHRTaXplKEJsdWVKdW1wR2FtZS5URVhUX1NJWkUpO1xuICAgICAgICAgICAgZmlsbCgwKTtcbiAgICAgICAgICAgIHRleHQoXCJQTEFZXCIsIDEwMCwgMzAgKyAzICogQmx1ZUp1bXBHYW1lLkFSUk9XX1NDQUxFKTtcbiAgICAgICAgICAgIHN0cm9rZVdlaWdodChCbHVlSnVtcEdhbWUuQVJST1dfU0NBTEUgKiAwLjA2NzUpO1xuICAgICAgICAgICAgdGV4dFNpemUoMC41ICogQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSk7XG4gICAgICAgICAgICB0ZXh0KEJsdWVKdW1wR2FtZS5DT05UUk9MU19NU0csIDQwLCA0ICogQmx1ZUp1bXBHYW1lLkFSUk9XX1NDQUxFKTtcbiAgICAgICAgICAgIHRleHQoQmx1ZUp1bXBHYW1lLlRJUCwgNDAsIDQuNyAqIEJsdWVKdW1wR2FtZS5BUlJPV19TQ0FMRSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgbm9TdHJva2UoKTtcbiAgICAgICAgICAgIGZpbGwoXCJyZ2JhKDAsIDAsIDAsIDAuNClcIik7IC8vIFRPRE86IGlzIHRoZXJlIGFuIGFjdHVhbCBmdW5jdGlvbiBmb3IgdGhpcz9cbiAgICAgICAgICAgIHJlY3QoMCwgMCwgd2luZG93LnNjcmVlbi53aWR0aCwgKEJsdWVKdW1wR2FtZS5JU19TQUZBUkkgPyB3aW5kb3dIZWlnaHQgOiB3aW5kb3cuc2NyZWVuLmhlaWdodCkpO1xuICAgICAgICAgICAgY29uc3QgeG9mZiA9IHdpZHRoIC8gMiAtIDQuODcgKiBCbHVlSnVtcEdhbWUuVEVYVF9TSVpFO1xuICAgICAgICAgICAgaWYgKCFiai5yZXR1cm5lZCkge1xuICAgICAgICAgICAgICAgIHRleHRTaXplKEJsdWVKdW1wR2FtZS5URVhUX1NJWkUpO1xuICAgICAgICAgICAgICAgIHRleHRBbGlnbihDRU5URVIpO1xuICAgICAgICAgICAgICAgIGlmIChmbG9vcihmcmFtZUNvdW50IC8gMikgJSA0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQoJ2xvYWRpbmcnLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmxvb3IoZnJhbWVDb3VudCAvIDIpICUgNCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0KCdsb2FkaW5nLicsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmbG9vcihmcmFtZUNvdW50IC8gMikgJSA0ID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQoJ2xvYWRpbmcuLicsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCgnbG9hZGluZy4uLicsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaWxsKDI1NSwgMTI4LCAwKTtcbiAgICAgICAgICAgICAgICB0ZXh0U2l6ZShCbHVlSnVtcEdhbWUuVEVYVF9TSVpFKTtcbiAgICAgICAgICAgICAgICB0ZXh0QWxpZ24oQ0VOVEVSKTtcbiAgICAgICAgICAgICAgICB0ZXh0U2l6ZSgwLjUgKiBCbHVlSnVtcEdhbWUuVEVYVF9TSVpFKTtcbiAgICAgICAgICAgICAgICB0ZXh0QWxpZ24oTEVGVCk7XG4gICAgICAgICAgICAgICAgdGV4dCgnIycsIHhvZmYsIDEuNyAqIEJsdWVKdW1wR2FtZS5URVhUX1NJWkUgKyAxMTUpO1xuICAgICAgICAgICAgICAgIHRleHQoJ1BsYXllcicsIHhvZmYgKyAxLjIgKiBCbHVlSnVtcEdhbWUuVEVYVF9TSVpFLCAxLjcgKiBCbHVlSnVtcEdhbWUuVEVYVF9TSVpFICsgMTE1KTtcbiAgICAgICAgICAgICAgICB0ZXh0KCdTY29yZScsIHhvZmYgKyA4ICogQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSwgMS43ICogQmx1ZUp1bXBHYW1lLlRFWFRfU0laRSArIDExNSk7XG4gICAgICAgICAgICAgICAgZmlsbCgyNTUsIDI1NSwgMjU1KTtcbiAgICAgICAgICAgICAgICAvLyBzaG93UmFua3MoeG9mZik7XG4gICAgICAgICAgICB9XG4gICAgfVxuICAgIC8vIHNob3cgcGxheWVyJ3Mgc2NvcmVcbiAgICBmaWxsKDApO1xuICAgIHN0cm9rZVdlaWdodCgzKTtcbiAgICBzdHJva2UoMjU1KTtcbiAgICB0ZXh0QWxpZ24oQ0VOVEVSKTtcbiAgICB0ZXh0U2l6ZSgwLjkgKiBCbHVlSnVtcEdhbWUuVEVYVF9TSVpFKTtcbiAgICB0ZXh0KGJqLnBsYXllci5zdGF0cy5zY29yZSwgd2lkdGggLyAyLCAwLjggKiBCbHVlSnVtcEdhbWUuVEVYVF9TSVpFKTtcbiAgICAvLyBzaG93IGNyZWRpdHNcbiAgICB0ZXh0QWxpZ24oUklHSFQpO1xuICAgIHRleHRGb250KCdhcmlhbCcpO1xuICAgIHRleHRTaXplKDAuMyAqIEJsdWVKdW1wR2FtZS5URVhUX1NJWkUpO1xuICAgIG5vU3Ryb2tlKCk7XG4gICAgdGV4dCgnXFx1MDBBOScsIHdpZHRoIC0gMC4zICogQkFSUklFUl9TQ0FMRSAtIDIgKiBCbHVlSnVtcEdhbWUuVEVYVF9TSVpFLCBoZWlnaHQgLyAyKTtcbiAgICB0ZXh0Rm9udChteUZvbnQpO1xuICAgIHRleHRTaXplKDAuMiAqIEJsdWVKdW1wR2FtZS5URVhUX1NJWkUpO1xuICAgIHRleHQoJ3wgMjAxNiB8IE5vdXQgS2xlZWYnLCB3aWR0aCAtIDAuMyAqIEJBUlJJRVJfU0NBTEUsIGhlaWdodCAvIDIpO1xufVxuIl19
